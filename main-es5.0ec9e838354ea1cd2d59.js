function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _createForOfIteratorHelper2(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&_setPrototypeOf2(r,n.prototype),r}).apply(null,arguments)}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=_superPropBase(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf2(e)););return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf2(e,t)}function _setPrototypeOf2(e,t){return(_setPrototypeOf2=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf2(e);if(t){var r=_getPrototypeOf2(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf2(e){return(_getPrototypeOf2=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},CHqH:function(e,t,n){!function(e,t){var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},n.exports),n.exports}function r(e){return e&&e.default||e}var o=function(e){return e&&e.Math==Math&&e},s=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof n&&n)||Function("return this")(),a=function(e){try{return!!e()}catch(e){return!0}},l=!a((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),u={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,h={f:c&&!u.call({1:2},1)?function(e){var t=c(this,e);return!!t&&t.enumerable}:u},d=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},f={}.toString,p=function(e){return f.call(e).slice(8,-1)},v="".split,y=a((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==p(e)?v.call(e,""):Object(e)}:Object,g=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},m=function(e){return y(g(e))},b=function(e){return"object"==typeof e?null!==e:"function"==typeof e},_=function(e,t){if(!b(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!b(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!b(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!b(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")},w={}.hasOwnProperty,k=function(e,t){return w.call(e,t)},C=s.document,x=b(C)&&b(C.createElement),S=function(e){return x?C.createElement(e):{}},O=!l&&!a((function(){return 7!=Object.defineProperty(S("div"),"a",{get:function(){return 7}}).a})),E=Object.getOwnPropertyDescriptor,T={f:l?E:function(e,t){if(e=m(e),t=_(t,!0),O)try{return E(e,t)}catch(e){}if(k(e,t))return d(!h.f.call(e,t),e[t])}},D=/#|\.prototype\./,M=function(e,t){var n=A[P(e)];return n==N||n!=I&&("function"==typeof t?a(t):!!t)},P=M.normalize=function(e){return String(e).replace(D,".").toLowerCase()},A=M.data={},I=M.NATIVE="N",N=M.POLYFILL="P",F=M,R={},j=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},z=function(e,t,n){if(j(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}},B=function(e){if(!b(e))throw TypeError(String(e)+" is not an object");return e},L=Object.defineProperty,H={f:l?L:function(e,t,n){if(B(e),t=_(t,!0),B(n),O)try{return L(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},V=l?function(e,t,n){return H.f(e,t,d(1,n))}:function(e,t,n){return e[t]=n,e},W=T.f,Y=function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t.prototype=e.prototype,t},U=function(e,t){var n,i,r,o,a,l,u,c,h=e.target,d=e.global,f=e.stat,p=e.proto,v=d?s:f?s[h]:(s[h]||{}).prototype,y=d?R:R[h]||(R[h]={}),g=y.prototype;for(r in t)n=!F(d?r:h+(f?".":"#")+r,e.forced)&&v&&k(v,r),a=y[r],n&&(l=e.noTargetGet?(c=W(v,r))&&c.value:v[r]),o=n&&l?l:t[r],n&&typeof a==typeof o||(u=e.bind&&n?z(o,s):e.wrap&&n?Y(o):p&&"function"==typeof o?z(Function.call,o):o,(e.sham||o&&o.sham||a&&a.sham)&&V(u,"sham",!0),y[r]=u,p&&(k(R,i=h+"Prototype")||V(R,i,{}),R[i][r]=o,e.real&&g&&!g[r]&&V(g,r,o)))},G=[].slice,q={},Z=function(e,t,n){if(!(t in q)){for(var i=[],r=0;r<t;r++)i[r]="a["+r+"]";q[t]=Function("C,a","return new C("+i.join(",")+")")}return q[t](e,n)},X=Function.bind||function(e){var t=j(this),n=G.call(arguments,1),i=function i(){var r=n.concat(G.call(arguments));return this instanceof i?Z(t,r.length,r):t.apply(e,r)};return b(t.prototype)&&(i.prototype=t.prototype),i};U({target:"Function",proto:!0},{bind:X});var K=function(e){return R[e+"Prototype"]},J=K("Function").bind,Q=Function.prototype,$=function(e){var t=e.bind;return e===Q||e instanceof Function&&t===Q.bind?J:t},ee=Math.ceil,te=Math.floor,ne=function(e){return isNaN(e=+e)?0:(e>0?te:ee)(e)},ie=Math.min,re=function(e){return e>0?ie(ne(e),9007199254740991):0},oe=Math.max,se=Math.min,ae=function(e,t){var n=ne(e);return n<0?oe(n+t,0):se(n,t)},le=function(e){return function(t,n,i){var r,o=m(t),s=re(o.length),a=ae(i,s);if(e&&n!=n){for(;s>a;)if((r=o[a++])!=r)return!0}else for(;s>a;a++)if((e||a in o)&&o[a]===n)return e||a||0;return!e&&-1}},ue={includes:le(!0),indexOf:le(!1)},ce={},he=ue.indexOf,de=function(e,t){var n,i=m(e),r=0,o=[];for(n in i)!k(ce,n)&&k(i,n)&&o.push(n);for(;t.length>r;)k(i,n=t[r++])&&(~he(o,n)||o.push(n));return o},fe=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],pe=Object.keys||function(e){return de(e,fe)},ve={f:Object.getOwnPropertySymbols},ye=function(e){return Object(g(e))},ge=Object.assign,me=Object.defineProperty,be=!ge||a((function(){if(l&&1!==ge({b:1},ge(me({},"a",{enumerable:!0,get:function(){me(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=ge({},e)[n]||"abcdefghijklmnopqrst"!=pe(ge({},t)).join("")}))?function(e,t){for(var n=ye(e),i=arguments.length,r=1,o=ve.f,s=h.f;i>r;)for(var a,u=y(arguments[r++]),c=o?pe(u).concat(o(u)):pe(u),d=c.length,f=0;d>f;)a=c[f++],l&&!s.call(u,a)||(n[a]=u[a]);return n}:ge;U({target:"Object",stat:!0,forced:Object.assign!==be},{assign:be});var _e=R.Object.assign;function we(e,t,n,i){e.beginPath(),e.arc(t,n,i,0,2*Math.PI,!1),e.closePath()}function ke(e,t,n,i,r,o){var s=Math.PI/180;i-2*o<0&&(o=i/2),r-2*o<0&&(o=r/2),e.beginPath(),e.moveTo(t+o,n),e.lineTo(t+i-o,n),e.arc(t+i-o,n+o,o,270*s,360*s,!1),e.lineTo(t+i,n+r-o),e.arc(t+i-o,n+r-o,o,0,90*s,!1),e.lineTo(t+o,n+r),e.arc(t+o,n+r-o,o,90*s,180*s,!1),e.lineTo(t,n+o),e.arc(t+o,n+o,o,180*s,270*s,!1),e.closePath()}function Ce(e,t,n,i,r){var o=i/2*.5522848,s=r/2*.5522848,a=t+i,l=n+r,u=t+i/2,c=n+r/2;e.beginPath(),e.moveTo(t,c),e.bezierCurveTo(t,c-s,u-o,n,u,n),e.bezierCurveTo(u+o,n,a,c-s,a,c),e.bezierCurveTo(a,c+s,u+o,l,u,l),e.bezierCurveTo(u-o,l,t,c+s,t,c),e.closePath()}function xe(e,t,n,i,r){var o=r*(1/3),s=i/2*.5522848,a=o/2*.5522848,l=t+i,u=n+o,c=t+i/2,h=n+o/2,d=n+(r-o/2),f=n+r;e.beginPath(),e.moveTo(l,h),e.bezierCurveTo(l,h+a,c+s,u,c,u),e.bezierCurveTo(c-s,u,t,h+a,t,h),e.bezierCurveTo(t,h-a,c-s,n,c,n),e.bezierCurveTo(c+s,n,l,h-a,l,h),e.lineTo(l,d),e.bezierCurveTo(l,d+a,c+s,f,c,f),e.bezierCurveTo(c-s,f,t,d+a,t,d),e.lineTo(t,h)}function Se(e,t,n,i,r,o){e.beginPath(),e.moveTo(t,n);for(var s=o.length,a=i-t,l=r-n,u=l/a,c=Math.sqrt(a*a+l*l),h=0,d=!0,f=0,p=+o[0];c>=.1;)(p=+o[h++%s])>c&&(p=c),f=Math.sqrt(p*p/(1+u*u)),t+=f=a<0?-f:f,n+=u*f,!0===d?e.lineTo(t,n):e.moveTo(t,n),c-=p,d=!d}var Oe={circle:we,dashedLine:Se,database:xe,diamond:function(e,t,n,i){e.beginPath(),e.lineTo(t,n+i),e.lineTo(t+i,n),e.lineTo(t,n-i),e.lineTo(t-i,n),e.closePath()},ellipse:Ce,ellipse_vis:Ce,hexagon:function(e,t,n,i){e.beginPath();var r=2*Math.PI/6;e.moveTo(t+i,n);for(var o=1;o<6;o++)e.lineTo(t+i*Math.cos(r*o),n+i*Math.sin(r*o));e.closePath()},roundRect:ke,square:function(e,t,n,i){e.beginPath(),e.rect(t-i,n-i,2*i,2*i),e.closePath()},star:function(e,t,n,i){e.beginPath(),n+=.1*(i*=.82);for(var r=0;r<10;r++){var o=r%2==0?1.3*i:.5*i;e.lineTo(t+o*Math.sin(2*r*Math.PI/10),n-o*Math.cos(2*r*Math.PI/10))}e.closePath()},triangle:function(e,t,n,i){e.beginPath(),n+=.275*(i*=1.15);var r=2*i,o=r/2,s=Math.sqrt(3)/6*r,a=Math.sqrt(r*r-o*o);e.moveTo(t,n-(a-s)),e.lineTo(t+o,n+s),e.lineTo(t-o,n+s),e.lineTo(t,n-(a-s)),e.closePath()},triangleDown:function(e,t,n,i){e.beginPath(),n-=.275*(i*=1.15);var r=2*i,o=r/2,s=Math.sqrt(3)/6*r,a=Math.sqrt(r*r-o*o);e.moveTo(t,n+(a-s)),e.lineTo(t+o,n-s),e.lineTo(t-o,n-s),e.lineTo(t,n+(a-s)),e.closePath()}},Ee=i((function(e){function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<i.length;r++)if((n=i[r])===t||n.fn===t){i.splice(r,1);break}return 0===i.length&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(n){i=0;for(var r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}}));U({target:"Object",stat:!0,forced:!l,sham:!l},{defineProperty:H.f});var Te=i((function(e){var t=R.Object,n=e.exports=function(e,n,i){return t.defineProperty(e,n,i)};t.defineProperty.sham&&(n.sham=!0)})),De=Te,Me=l?Object.defineProperties:function(e,t){B(e);for(var n,i=pe(t),r=i.length,o=0;r>o;)H.f(e,n=i[o++],t[n]);return e};U({target:"Object",stat:!0,forced:!l,sham:!l},{defineProperties:Me});var Pe=i((function(e){var t=R.Object,n=e.exports=function(e,n){return t.defineProperties(e,n)};t.defineProperties.sham&&(n.sham=!0)})),Ae=function(e){return"function"==typeof e?e:void 0},Ie=function(e,t){return arguments.length<2?Ae(R[e])||Ae(s[e]):R[e]&&R[e][t]||s[e]&&s[e][t]},Ne=fe.concat("length","prototype"),Fe={f:Object.getOwnPropertyNames||function(e){return de(e,Ne)}},Re=Ie("Reflect","ownKeys")||function(e){var t=Fe.f(B(e)),n=ve.f;return n?t.concat(n(e)):t},je=function(e,t,n){var i=_(t);i in e?H.f(e,i,d(0,n)):e[i]=n};U({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(e){for(var t,n,i=m(e),r=T.f,o=Re(i),s={},a=0;o.length>a;)void 0!==(n=r(i,t=o[a++]))&&je(s,t,n);return s}});var ze=R.Object.getOwnPropertyDescriptors,Be=T.f,Le=a((function(){Be(1)}));U({target:"Object",stat:!0,forced:!l||Le,sham:!l},{getOwnPropertyDescriptor:function(e,t){return Be(m(e),t)}});var He,Ve=i((function(e){var t=R.Object,n=e.exports=function(e,n){return t.getOwnPropertyDescriptor(e,n)};t.getOwnPropertyDescriptor.sham&&(n.sham=!0)})),We=Ve,Ye=!!Object.getOwnPropertySymbols&&!a((function(){return!String(Symbol())})),Ue=Ye&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ge=Array.isArray||function(e){return"Array"==p(e)},qe=Ie("document","documentElement"),Ze=s["__core-js_shared__"]||function(e,t){try{V(s,e,t)}catch(n){s[e]=t}return t}("__core-js_shared__",{}),Xe=i((function(e){(e.exports=function(e,t){return Ze[e]||(Ze[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.4",mode:"pure",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})})),Ke=0,Je=Math.random(),Qe=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++Ke+Je).toString(36)},$e=Xe("keys"),et=function(e){return $e[e]||($e[e]=Qe(e))},tt=et("IE_PROTO"),nt=function(){},it=function(e){return"<script>"+e+"<\/script>"},rt=function(){try{He=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;rt=He?function(e){e.write(it("")),e.close();var t=e.parentWindow.Object;return e=null,t}(He):((t=S("iframe")).style.display="none",qe.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(it("document.F=Object")),e.close(),e.F);for(var n=fe.length;n--;)delete rt.prototype[fe[n]];return rt()};ce[tt]=!0;var ot=Object.create||function(e,t){var n;return null!==e?(nt.prototype=B(e),n=new nt,nt.prototype=null,n[tt]=e):n=rt(),void 0===t?n:Me(n,t)},st=Fe.f,at={}.toString,lt="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],ut={f:function(e){return lt&&"[object Window]"==at.call(e)?function(e){try{return st(e)}catch(e){return lt.slice()}}(e):st(m(e))}},ct=function(e,t,n,i){i&&i.enumerable?e[t]=n:V(e,t,n)},ht=Xe("wks"),dt=s.Symbol,ft=Ue?dt:dt&&dt.withoutSetter||Qe,pt=function(e){return k(ht,e)||(ht[e]=Ye&&k(dt,e)?dt[e]:ft("Symbol."+e)),ht[e]},vt={f:pt},yt=H.f,gt=function(e){var t=R.Symbol||(R.Symbol={});k(t,e)||yt(t,e,{value:vt.f(e)})},mt={};mt[pt("toStringTag")]="z";var bt="[object z]"===String(mt),_t=pt("toStringTag"),wt="Arguments"==p(function(){return arguments}()),kt=bt?p:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),_t))?n:wt?p(t):"Object"==(i=p(t))&&"function"==typeof t.callee?"Arguments":i},Ct=bt?{}.toString:function(){return"[object "+kt(this)+"]"},xt=H.f,St=pt("toStringTag"),Ot=function(e,t,n,i){if(e){var r=n?e:e.prototype;k(r,St)||xt(r,St,{configurable:!0,value:t}),i&&!bt&&V(r,"toString",Ct)}},Et=Function.toString;"function"!=typeof Ze.inspectSource&&(Ze.inspectSource=function(e){return Et.call(e)});var Tt,Dt,Mt,Pt=s.WeakMap;if("function"==typeof Pt&&/native code/.test((0,Ze.inspectSource)(Pt))){var At=new(0,s.WeakMap),It=At.get,Nt=At.has,Ft=At.set;Tt=function(e,t){return Ft.call(At,e,t),t},Dt=function(e){return It.call(At,e)||{}},Mt=function(e){return Nt.call(At,e)}}else{var Rt=et("state");ce[Rt]=!0,Tt=function(e,t){return V(e,Rt,t),t},Dt=function(e){return k(e,Rt)?e[Rt]:{}},Mt=function(e){return k(e,Rt)}}var jt={set:Tt,get:Dt,has:Mt,enforce:function(e){return Mt(e)?Dt(e):Tt(e,{})},getterFor:function(e){return function(t){var n;if(!b(t)||(n=Dt(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},zt=pt("species"),Bt=function(e,t){var n;return Ge(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!Ge(n.prototype)?b(n)&&null===(n=n[zt])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},Lt=[].push,Ht=function(e){var t=1==e,n=2==e,i=3==e,r=4==e,o=6==e,s=5==e||o;return function(a,l,u,c){for(var h,d,f=ye(a),p=y(f),v=z(l,u,3),g=re(p.length),m=0,b=c||Bt,_=t?b(a,g):n?b(a,0):void 0;g>m;m++)if((s||m in p)&&(d=v(h=p[m],m,f),e))if(t)_[m]=d;else if(d)switch(e){case 3:return!0;case 5:return h;case 6:return m;case 2:Lt.call(_,h)}else if(r)return!1;return o?-1:i||r?r:_}},Vt={forEach:Ht(0),map:Ht(1),filter:Ht(2),some:Ht(3),every:Ht(4),find:Ht(5),findIndex:Ht(6)},Wt=Vt.forEach,Yt=et("hidden"),Ut=pt("toPrimitive"),Gt=jt.set,qt=jt.getterFor("Symbol"),Zt=Object.prototype,Xt=s.Symbol,Kt=Ie("JSON","stringify"),Jt=T.f,Qt=H.f,$t=ut.f,en=h.f,tn=Xe("symbols"),nn=Xe("op-symbols"),rn=Xe("string-to-symbol-registry"),on=Xe("symbol-to-string-registry"),sn=Xe("wks"),an=s.QObject,ln=!an||!an.prototype||!an.prototype.findChild,un=l&&a((function(){return 7!=ot(Qt({},"a",{get:function(){return Qt(this,"a",{value:7}).a}})).a}))?function(e,t,n){var i=Jt(Zt,t);i&&delete Zt[t],Qt(e,t,n),i&&e!==Zt&&Qt(Zt,t,i)}:Qt,cn=function(e,t){var n=tn[e]=ot(Xt.prototype);return Gt(n,{type:"Symbol",tag:e,description:t}),l||(n.description=t),n},hn=Ue?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof Xt},dn=function e(t,n,i){t===Zt&&e(nn,n,i),B(t);var r=_(n,!0);return B(i),k(tn,r)?(i.enumerable?(k(t,Yt)&&t[Yt][r]&&(t[Yt][r]=!1),i=ot(i,{enumerable:d(0,!1)})):(k(t,Yt)||Qt(t,Yt,d(1,{})),t[Yt][r]=!0),un(t,r,i)):Qt(t,r,i)},fn=function(e,t){B(e);var n=m(t),i=pe(n).concat(gn(n));return Wt(i,(function(t){l&&!pn.call(n,t)||dn(e,t,n[t])})),e},pn=function(e){var t=_(e,!0),n=en.call(this,t);return!(this===Zt&&k(tn,t)&&!k(nn,t))&&(!(n||!k(this,t)||!k(tn,t)||k(this,Yt)&&this[Yt][t])||n)},vn=function(e,t){var n=m(e),i=_(t,!0);if(n!==Zt||!k(tn,i)||k(nn,i)){var r=Jt(n,i);return!r||!k(tn,i)||k(n,Yt)&&n[Yt][i]||(r.enumerable=!0),r}},yn=function(e){var t=$t(m(e)),n=[];return Wt(t,(function(e){k(tn,e)||k(ce,e)||n.push(e)})),n},gn=function(e){var t=e===Zt,n=$t(t?nn:m(e)),i=[];return Wt(n,(function(e){!k(tn,e)||t&&!k(Zt,e)||i.push(tn[e])})),i};if(Ye||(ct((Xt=function(){if(this instanceof Xt)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=Qe(e),n=function e(n){this===Zt&&e.call(nn,n),k(this,Yt)&&k(this[Yt],t)&&(this[Yt][t]=!1),un(this,t,d(1,n))};return l&&ln&&un(Zt,t,{configurable:!0,set:n}),cn(t,e)}).prototype,"toString",(function(){return qt(this).tag})),ct(Xt,"withoutSetter",(function(e){return cn(Qe(e),e)})),h.f=pn,H.f=dn,T.f=vn,Fe.f=ut.f=yn,ve.f=gn,vt.f=function(e){return cn(pt(e),e)},l&&Qt(Xt.prototype,"description",{configurable:!0,get:function(){return qt(this).description}})),U({global:!0,wrap:!0,forced:!Ye,sham:!Ye},{Symbol:Xt}),Wt(pe(sn),(function(e){gt(e)})),U({target:"Symbol",stat:!0,forced:!Ye},{for:function(e){var t=String(e);if(k(rn,t))return rn[t];var n=Xt(t);return rn[t]=n,on[n]=t,n},keyFor:function(e){if(!hn(e))throw TypeError(e+" is not a symbol");if(k(on,e))return on[e]},useSetter:function(){ln=!0},useSimple:function(){ln=!1}}),U({target:"Object",stat:!0,forced:!Ye,sham:!l},{create:function(e,t){return void 0===t?ot(e):fn(ot(e),t)},defineProperty:dn,defineProperties:fn,getOwnPropertyDescriptor:vn}),U({target:"Object",stat:!0,forced:!Ye},{getOwnPropertyNames:yn,getOwnPropertySymbols:gn}),U({target:"Object",stat:!0,forced:a((function(){ve.f(1)}))},{getOwnPropertySymbols:function(e){return ve.f(ye(e))}}),Kt){var mn=!Ye||a((function(){var e=Xt();return"[null]"!=Kt([e])||"{}"!=Kt({a:e})||"{}"!=Kt(Object(e))}));U({target:"JSON",stat:!0,forced:mn},{stringify:function(e,t,n){for(var i,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(i=t,(b(t)||void 0!==e)&&!hn(e))return Ge(t)||(t=function(e,t){if("function"==typeof i&&(t=i.call(this,e,t)),!hn(t))return t}),r[1]=t,Kt.apply(null,r)}})}Xt.prototype[Ut]||V(Xt.prototype,Ut,Xt.prototype.valueOf),Ot(Xt,"Symbol"),ce[Yt]=!0;var bn,_n,wn,kn=R.Object.getOwnPropertySymbols,Cn={},xn=!a((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Sn=et("IE_PROTO"),On=Object.prototype,En=xn?Object.getPrototypeOf:function(e){return e=ye(e),k(e,Sn)?e[Sn]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?On:null},Tn=(pt("iterator"),!1);[].keys&&("next"in(wn=[].keys())?(_n=En(En(wn)))!==Object.prototype&&(bn=_n):Tn=!0),null==bn&&(bn={});var Dn={IteratorPrototype:bn,BUGGY_SAFARI_ITERATORS:Tn},Mn=Dn.IteratorPrototype,Pn=function(){return this},An=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return B(n),function(e){if(!b(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(i),t?e.call(n,i):n.__proto__=i,n}}():void 0),In=Dn.IteratorPrototype,Nn=Dn.BUGGY_SAFARI_ITERATORS,Fn=pt("iterator"),Rn=function(){return this},jn=function(e,t,n,i,r,o,s){!function(e,t,n){var i=t+" Iterator";e.prototype=ot(Mn,{next:d(1,n)}),Ot(e,i,!1,!0),Cn[i]=Pn}(n,t,i);var a,l,u,c=function(e){if(e===r&&y)return y;if(!Nn&&e in p)return p[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},h=t+" Iterator",f=!1,p=e.prototype,v=p[Fn]||p["@@iterator"]||r&&p[r],y=!Nn&&v||c(r),g="Array"==t&&p.entries||v;if(g&&(a=En(g.call(new e)),In!==Object.prototype&&a.next&&(Ot(a,h,!0,!0),Cn[h]=Rn)),"values"==r&&v&&"values"!==v.name&&(f=!0,y=function(){return v.call(this)}),s&&p[Fn]!==y&&V(p,Fn,y),Cn[t]=y,r)if(l={values:c("values"),keys:o?y:c("keys"),entries:c("entries")},s)for(u in l)(Nn||f||!(u in p))&&ct(p,u,l[u]);else U({target:t,proto:!0,forced:Nn||f},l);return l},zn=jt.set,Bn=jt.getterFor("Array Iterator");jn(Array,"Array",(function(e,t){zn(this,{type:"Array Iterator",target:m(e),index:0,kind:t})}),(function(){var e=Bn(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}}),"values"),Cn.Arguments=Cn.Array;var Ln=pt("toStringTag");for(var Hn in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var Vn=s[Hn],Wn=Vn&&Vn.prototype;Wn&&kt(Wn)!==Ln&&V(Wn,Ln,Hn),Cn[Hn]=Cn.Array}var Yn=function(e){return function(t,n){var i,r,o=String(g(t)),s=ne(n),a=o.length;return s<0||s>=a?e?"":void 0:(i=o.charCodeAt(s))<55296||i>56319||s+1===a||(r=o.charCodeAt(s+1))<56320||r>57343?e?o.charAt(s):i:e?o.slice(s,s+2):r-56320+(i-55296<<10)+65536}},Un=(Yn(!1),Yn(!0)),Gn=jt.set,qn=jt.getterFor("String Iterator");jn(String,"String",(function(e){Gn(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=qn(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=Un(n,i),t.index+=e.length,{value:e,done:!1})}));var Zn=pt("iterator"),Xn=function(e){if(null!=e)return e[Zn]||e["@@iterator"]||Cn[kt(e)]},Kn=function(e){var t=Xn(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return B(t.call(e))},Jn=Xn,Qn=function(e,t,n,i){try{return i?t(B(n)[0],n[1]):t(n)}catch(t){var r=e.return;throw void 0!==r&&B(r.call(e)),t}},$n=pt("iterator"),ei=Array.prototype,ti=function(e){return void 0!==e&&(Cn.Array===e||ei[$n]===e)},ni=pt("iterator"),ii=!1;try{var ri=0,oi={next:function(){return{done:!!ri++}},return:function(){ii=!0}};oi[ni]=function(){return this},Array.from(oi,(function(){throw 2}))}catch(e){}var si=!function(e,t){if(!ii)return!1;var n=!1;try{var i={};i[ni]=function(){return{next:function(){return{done:n=!0}}}},function(e){Array.from(e)}(i)}catch(e){}return n}();U({target:"Array",stat:!0,forced:si},{from:function(e){var t,n,i,r,o,s,a=ye(e),l="function"==typeof this?this:Array,u=arguments.length,c=u>1?arguments[1]:void 0,h=void 0!==c,d=Xn(a),f=0;if(h&&(c=z(c,u>2?arguments[2]:void 0,2)),null==d||l==Array&&ti(d))for(n=new l(t=re(a.length));t>f;f++)s=h?c(a[f],f):a[f],je(n,f,s);else for(o=(r=d.call(a)).next,n=new l;!(i=o.call(r)).done;f++)s=h?Qn(r,c,[i.value,f],!0):i.value,je(n,f,s);return n.length=f,n}});var ai=R.Array.from,li=ai;U({target:"Object",stat:!0,sham:!l},{create:ot});var ui,ci=R.Object,hi=function(e,t){return ci.create(e,t)},di=hi,fi=Te,pi=function(e,t,n){return t in e?fi(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},vi="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",yi="["+vi+"]",gi=RegExp("^"+yi+yi+"*"),mi=RegExp(yi+yi+"*$"),bi=function(e){return function(t){var n=String(g(t));return 1&e&&(n=n.replace(gi,"")),2&e&&(n=n.replace(mi,"")),n}},_i={start:bi(1),end:bi(2),trim:bi(3)},wi=_i.trim;U({target:"String",proto:!0,forced:(ui="trim",a((function(){return!!vi[ui]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[ui]()||vi[ui].name!==ui})))},{trim:function(){return wi(this)}}),K("String");var ki=function(e,t){var n=[][e];return!!n&&a((function(){n.call(null,t||function(){throw 1},1)}))},Ci=Object.defineProperty,xi={},Si=function(e){throw e},Oi=function(e,t){if(k(xi,e))return xi[e];t||(t={});var n=[][e],i=!!k(t,"ACCESSORS")&&t.ACCESSORS,r=k(t,0)?t[0]:Si,o=k(t,1)?t[1]:void 0;return xi[e]=!!n&&!a((function(){if(i&&!l)return!0;var e={length:-1};i?Ci(e,1,{enumerable:!0,get:Si}):e[1]=1,n.call(e,r,o)}))},Ei=Vt.forEach,Ti=ki("forEach"),Di=Oi("forEach"),Mi=Ti&&Di?[].forEach:function(e){return Ei(this,e,arguments.length>1?arguments[1]:void 0)};U({target:"Array",proto:!0,forced:[].forEach!=Mi},{forEach:Mi});var Pi=K("Array").forEach,Ai=Array.prototype,Ii={DOMTokenList:!0,NodeList:!0},Ni=function(e){var t=e.forEach;return e===Ai||e instanceof Array&&t===Ai.forEach||Ii.hasOwnProperty(kt(e))?Pi:t},Fi=_i.trim,Ri=s.parseInt,ji=/^[+-]?0[Xx]/,zi=8!==Ri(vi+"08")||22!==Ri(vi+"0x16")?function(e,t){var n=Fi(String(e));return Ri(n,t>>>0||(ji.test(n)?16:10))}:Ri;U({global:!0,forced:parseInt!=zi},{parseInt:zi});var Bi=R.parseInt,Li=h.f,Hi=function(e){return function(t){for(var n,i=m(t),r=pe(i),o=r.length,s=0,a=[];o>s;)n=r[s++],l&&!Li.call(i,n)||a.push(e?[n,i[n]]:i[n]);return a}},Vi=(Hi(!0),Hi(!1));U({target:"Object",stat:!0},{values:function(e){return Vi(e)}});var Wi,Yi,Ui=Ie("navigator","userAgent")||"",Gi=s.process,qi=Gi&&Gi.versions,Zi=qi&&qi.v8;Zi?Yi=(Wi=Zi.split("."))[0]+Wi[1]:Ui&&(!(Wi=Ui.match(/Edge\/(\d+)/))||Wi[1]>=74)&&(Wi=Ui.match(/Chrome\/(\d+)/))&&(Yi=Wi[1]);var Xi=Yi&&+Yi,Ki=pt("species"),Ji=function(e){return Xi>=51||!a((function(){var t=[];return(t.constructor={})[Ki]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},Qi=Vt.filter,$i=Ji("filter"),er=Oi("filter");U({target:"Array",proto:!0,forced:!$i||!er},{filter:function(e){return Qi(this,e,arguments.length>1?arguments[1]:void 0)}});var tr=K("Array").filter,nr=Array.prototype,ir=function(e){var t=e.filter;return e===nr||e instanceof Array&&t===nr.filter?tr:t},rr=a((function(){En(1)}));U({target:"Object",stat:!0,forced:rr,sham:!xn},{getPrototypeOf:function(e){return En(ye(e))}});var or=R.Object.getPrototypeOf,sr=or,ar=ue.indexOf,lr=[].indexOf,ur=!!lr&&1/[1].indexOf(1,-0)<0,cr=ki("indexOf"),hr=Oi("indexOf",{ACCESSORS:!0,1:0});U({target:"Array",proto:!0,forced:ur||!cr||!hr},{indexOf:function(e){return ur?lr.apply(this,arguments)||0:ar(this,e,arguments.length>1?arguments[1]:void 0)}});var dr=K("Array").indexOf,fr=Array.prototype,pr=function(e){var t=e.indexOf;return e===fr||e instanceof Array&&t===fr.indexOf?dr:t};U({target:"Array",stat:!0},{isArray:Ge});var vr=R.Array.isArray,yr=vr,gr=pt("iterator"),mr=function(e){var t=Object(e);return void 0!==t[gr]||"@@iterator"in t||Cn.hasOwnProperty(kt(t))},br=pt("isConcatSpreadable"),_r=Xi>=51||!a((function(){var e=[];return e[br]=!1,e.concat()[0]!==e})),wr=Ji("concat"),kr=function(e){if(!b(e))return!1;var t=e[br];return void 0!==t?!!t:Ge(e)};U({target:"Array",proto:!0,forced:!_r||!wr},{concat:function(e){var t,n,i,r,o,s=ye(this),a=Bt(s,0),l=0;for(t=-1,i=arguments.length;t<i;t++)if(kr(o=-1===t?s:arguments[t])){if(l+(r=re(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<r;n++,l++)n in o&&je(a,l,o[n])}else{if(l>=9007199254740991)throw TypeError("Maximum allowed index exceeded");je(a,l++,o)}return a.length=l,a}});var Cr=Object.freeze({__proto__:null});gt("asyncIterator");var xr=Object.freeze({__proto__:null});gt("hasInstance"),gt("isConcatSpreadable"),gt("iterator"),gt("match"),gt("matchAll"),gt("replace"),gt("search"),gt("species"),gt("split"),gt("toPrimitive"),gt("toStringTag"),gt("unscopables"),Ot(Math,"Math",!0),Ot(s.JSON,"JSON",!0),r(Cr),r(xr);var Sr=R.Symbol;gt("asyncDispose"),gt("dispose"),gt("observable"),gt("patternMatch"),gt("replaceAll");var Or=Sr,Er=ai,Tr=Ji("slice"),Dr=Oi("slice",{ACCESSORS:!0,0:0,1:2}),Mr=pt("species"),Pr=[].slice,Ar=Math.max;U({target:"Array",proto:!0,forced:!Tr||!Dr},{slice:function(e,t){var n,i,r,o=m(this),s=re(o.length),a=ae(e,s),l=ae(void 0===t?s:t,s);if(Ge(o)&&("function"!=typeof(n=o.constructor)||n!==Array&&!Ge(n.prototype)?b(n)&&null===(n=n[Mr])&&(n=void 0):n=void 0,n===Array||void 0===n))return Pr.call(o,a,l);for(i=new(void 0===n?Array:n)(Ar(l-a,0)),r=0;a<l;a++,r++)a in o&&je(i,r,o[a]);return i.length=r,i}});var Ir=K("Array").slice,Nr=Array.prototype,Fr=function(e){var t=e.slice;return e===Nr||e instanceof Array&&t===Nr.slice?Ir:t},Rr=Fr,jr=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i},zr=function(e,t){var n;if(e){if("string"==typeof e)return jr(e,t);var i=Rr(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Er(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?jr(e,t):void 0}},Br=function(e,t){return function(e){if(yr(e))return e}(e)||function(e,t){if(void 0!==Or&&mr(Object(e))){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=Kn(e);!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}}(e,t)||zr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()};U({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}});var Lr=R.Date.now,Hr=a((function(){pe(1)}));U({target:"Object",stat:!0,forced:Hr},{keys:function(e){return pe(ye(e))}});var Vr=R.Object.keys,Wr=Vt.map,Yr=Ji("map"),Ur=Oi("map");U({target:"Array",proto:!0,forced:!Yr||!Ur},{map:function(e){return Wr(this,e,arguments.length>1?arguments[1]:void 0)}});var Gr=K("Array").map,qr=Array.prototype,Zr=function(e){var t=e.map;return e===qr||e instanceof Array&&t===qr.map?Gr:t},Xr=vr,Kr=vt.f("iterator"),Jr=i((function(e){function t(n){return e.exports=t="function"==typeof Or&&"symbol"==typeof Kr?function(e){return typeof e}:function(e){return e&&"function"==typeof Or&&e.constructor===Or&&e!==Or.prototype?"symbol":typeof e},t(n)}e.exports=t}));U({target:"Reflect",stat:!0},{ownKeys:Re});var Qr=Fr,$r=K("Array").concat,eo=Array.prototype,to=function(e){var t=e.concat;return e===eo||e instanceof Array&&t===eo.concat?$r:t},no=Sr;function io(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ro(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return oo(t.length?t:[Lr()])}function oo(e){var t=function(){for(var e=so(),t=e(" "),n=e(" "),i=e(" "),r=0;r<arguments.length;r++)(t-=e(r<0||arguments.length<=r?void 0:arguments[r]))<0&&(t+=1),(n-=e(r<0||arguments.length<=r?void 0:arguments[r]))<0&&(n+=1),(i-=e(r<0||arguments.length<=r?void 0:arguments[r]))<0&&(i+=1);return[t,n,i]}(e),n=Br(t,3),i=n[0],r=n[1],o=n[2],s=1,a=function(){var e=2091639*i+2.3283064365386963e-10*s;return i=r,r=o,o=e-(s=0|e)};return a.uint32=function(){return 4294967296*a()},a.fract53=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.algorithm="Alea",a.seed=e,a.version="0.9",a}function so(){var e=4022871197;return function(t){for(var n=t.toString(),i=0;i<n.length;i++){var r=.02519603282416938*(e+=n.charCodeAt(i));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)}}no("DELETE");var ao=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,lo=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,uo=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,co=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function ho(e){if(e)for(;!0===e.hasChildNodes();){var t=e.firstChild;t&&(ho(t),e.removeChild(t))}}function fo(e){return e instanceof String||"string"==typeof e}function po(e){return"object"===Jr(e)&&null!==e}function vo(e,t,n,i){var r=!1;!0===i&&(r=null===t[n]&&void 0!==e[n]),r?delete e[n]:e[n]=t[n]}function yo(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var i in e)if(void 0!==t[i])if(null===t[i]||"object"!==Jr(t[i]))vo(e,t,i,n);else{var r=e[i],o=t[i];po(r)&&po(o)&&yo(r,o,n)}}function go(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Xr(n))throw new TypeError("Arrays are not supported by deepExtend");for(var r=0;r<e.length;r++){var o=e[r];if(Object.prototype.hasOwnProperty.call(n,o))if(n[o]&&n[o].constructor===Object)void 0===t[o]&&(t[o]={}),t[o].constructor===Object?bo(t[o],n[o],!1,i):vo(t,n,o,i);else{if(Xr(n[o]))throw new TypeError("Arrays are not supported by deepExtend");vo(t,n,o,i)}}return t}function mo(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Xr(n))throw new TypeError("Arrays are not supported by deepExtend");for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&-1===pr(e).call(e,r))if(n[r]&&n[r].constructor===Object)void 0===t[r]&&(t[r]={}),t[r].constructor===Object?bo(t[r],n[r]):vo(t,n,r,i);else if(Xr(n[r])){t[r]=[];for(var o=0;o<n[r].length;o++)t[r].push(n[r][o])}else vo(t,n,r,i);return t}function bo(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)||!0===n)if("object"===Jr(t[r])&&null!==t[r]&&sr(t[r])===Object.prototype)void 0===e[r]?e[r]=bo({},t[r],n):"object"===Jr(e[r])&&null!==e[r]&&sr(e[r])===Object.prototype?bo(e[r],t[r],n):vo(e,t,r,i);else if(Xr(t[r])){var o;e[r]=Qr(o=t[r]).call(o)}else vo(e,t,r,i);return e}function _o(e,t){var n;return to(n=[]).call(n,function(e){return function(e){if(yr(e))return jr(e)}(e)||function(e){if(void 0!==Or&&mr(Object(e)))return Er(e)}(e)||zr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e),[t])}function wo(e){return Qr(e).call(e)}function ko(e){return e.getBoundingClientRect().top}function Co(e,t){if(Xr(e))for(var n=e.length,i=0;i<n;i++)t(e[i],i,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(e[r],r,e)}function xo(e){var t;switch(e.length){case 3:case 4:return(t=lo.exec(e))?{r:Bi(t[1]+t[1],16),g:Bi(t[2]+t[2],16),b:Bi(t[3]+t[3],16)}:null;case 6:case 7:return(t=ao.exec(e))?{r:Bi(t[1],16),g:Bi(t[2],16),b:Bi(t[3],16)}:null;default:return null}}function So(e,t){if(-1!==pr(e).call(e,"rgba"))return e;if(-1!==pr(e).call(e,"rgb")){var n=e.substr(pr(e).call(e,"(")+1).replace(")","").split(",");return"rgba("+n[0]+","+n[1]+","+n[2]+","+t+")"}var i=xo(e);return null==i?e:"rgba("+i.r+","+i.g+","+i.b+","+t+")"}function Oo(e,t,n){var i;return"#"+Qr(i=((1<<24)+(e<<16)+(t<<8)+n).toString(16)).call(i,1)}function Eo(e,t){if(fo(e)){var n=e;if(Ao(n)){var i,r=Zr(i=n.substr(4).substr(0,n.length-5).split(",")).call(i,(function(e){return Bi(e)}));n=Oo(r[0],r[1],r[2])}if(!0===Po(n)){var o=function(e){var t=xo(e);if(!t)throw new TypeError("'".concat(e,"' is not a valid color."));return To(t.r,t.g,t.b)}(n),s={h:o.h,s:.8*o.s,v:Math.min(1,1.02*o.v)},a={h:o.h,s:Math.min(1,1.25*o.s),v:.8*o.v},l=Mo(a.h,a.s,a.v),u=Mo(s.h,s.s,s.v);return{background:n,border:l,highlight:{background:u,border:l},hover:{background:u,border:l}}}return{background:n,border:n,highlight:{background:n,border:n},hover:{background:n,border:n}}}return t?{background:e.background||t.background,border:e.border||t.border,highlight:fo(e.highlight)?{border:e.highlight,background:e.highlight}:{background:e.highlight&&e.highlight.background||t.highlight.background,border:e.highlight&&e.highlight.border||t.highlight.border},hover:fo(e.hover)?{border:e.hover,background:e.hover}:{border:e.hover&&e.hover.border||t.hover.border,background:e.hover&&e.hover.background||t.hover.background}}:{background:e.background||void 0,border:e.border||void 0,highlight:fo(e.highlight)?{border:e.highlight,background:e.highlight}:{background:e.highlight&&e.highlight.background||void 0,border:e.highlight&&e.highlight.border||void 0},hover:fo(e.hover)?{border:e.hover,background:e.hover}:{border:e.hover&&e.hover.border||void 0,background:e.hover&&e.hover.background||void 0}}}function To(e,t,n){e/=255,t/=255,n/=255;var i=Math.min(e,Math.min(t,n)),r=Math.max(e,Math.max(t,n));return i===r?{h:0,s:0,v:i}:{h:60*((e===i?3:n===i?1:5)-(e===i?t-n:n===i?e-t:n-e)/(r-i))/360,s:(r-i)/r,v:r}}function Do(e,t,n){var i,r,o,s=Math.floor(6*e),a=6*e-s,l=n*(1-t),u=n*(1-a*t),c=n*(1-(1-a)*t);switch(s%6){case 0:i=n,r=c,o=l;break;case 1:i=u,r=n,o=l;break;case 2:i=l,r=n,o=c;break;case 3:i=l,r=u,o=n;break;case 4:i=c,r=l,o=n;break;case 5:i=n,r=l,o=u}return{r:Math.floor(255*i),g:Math.floor(255*r),b:Math.floor(255*o)}}function Mo(e,t,n){var i=Do(e,t,n);return Oo(i.r,i.g,i.b)}function Po(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)}function Ao(e){return uo.test(e)}function Io(e){return co.test(e)}function No(e){if(null===e||"object"!==Jr(e))return null;if(e instanceof Element)return e;var t=di(e);for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&"object"==Jr(e[n])&&(t[n]=No(e[n]));return t}function Fo(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=function(e){return null!=e},o=function(e){return null!==e&&"object"===Jr(e)},s=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0};if(!o(e))throw new Error("Parameter mergeTarget must be an object");if(!o(t))throw new Error("Parameter options must be an object");if(!r(n))throw new Error("Parameter option must have a value");if(!o(i))throw new Error("Parameter globalOptions must be an object");var a=function(e,t,n){o(e[n])||(e[n]={});var i=t[n],r=e[n];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},l=t[n],u=o(i)&&!s(i),c=u?i[n]:void 0,h=c?c.enabled:void 0;if(void 0!==l){if("boolean"==typeof l)return o(e[n])||(e[n]={}),void(e[n].enabled=l);if(null===l&&!o(e[n])){if(!r(c))return;e[n]=di(c)}if(o(l)){var d=!0;void 0!==l.enabled?d=l.enabled:void 0!==h&&(d=c.enabled),a(e,t,n),e[n].enabled=d}}}var Ro={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};function jo(e,t){var n;Xr(t)||(t=[t]);var i,r=function(e,t){var n;if(void 0===no||null==Jn(e)){if(Xr(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return io(e,t);var i=Qr(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?li(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?io(e,t):void 0}}(e))){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=Kn(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}(e);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(o){n=o[t[0]];for(var s=1;s<t.length;s++)n&&(n=n[t[s]]);if(void 0!==n)break}}}catch(e){r.e(e)}finally{r.f()}return n}var zo=Ji("splice"),Bo=Oi("splice",{ACCESSORS:!0,0:0,1:2}),Lo=Math.max,Ho=Math.min;U({target:"Array",proto:!0,forced:!zo||!Bo},{splice:function(e,t){var n,i,r,o,s,a,l=ye(this),u=re(l.length),c=ae(e,u),h=arguments.length;if(0===h?n=i=0:1===h?(n=0,i=u-c):(n=h-2,i=Ho(Lo(ne(t),0),u-c)),u+n-i>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(r=Bt(l,i),o=0;o<i;o++)(s=c+o)in l&&je(r,o,l[s]);if(r.length=i,n<i){for(o=c;o<u-i;o++)a=o+n,(s=o+i)in l?l[a]=l[s]:delete l[a];for(o=u;o>u-i+n;o--)delete l[o-1]}else if(n>i)for(o=u-i;o>c;o--)a=o+n-1,(s=o+i-1)in l?l[a]=l[s]:delete l[a];for(o=0;o<n;o++)l[o+c]=arguments[o+2];return l.length=u-i+n,r}});var Vo=K("Array").splice,Wo=Array.prototype,Yo=function(e){var t=e.splice;return e===Wo||e instanceof Array&&t===Wo.splice?Vo:t},Uo=ue.includes,Go=Oi("indexOf",{ACCESSORS:!0,1:0});U({target:"Array",proto:!0,forced:!Go},{includes:function(e){return Uo(this,e,arguments.length>1?arguments[1]:void 0)}});var qo=K("Array").includes,Zo=pt("match"),Xo=function(e){if(function(e){var t;return b(e)&&(void 0!==(t=e[Zo])?!!t:"RegExp"==p(e))}(e))throw TypeError("The method doesn't accept regular expressions");return e},Ko=pt("match");U({target:"String",proto:!0,forced:!function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[Ko]=!1,"/./"[e](t)}catch(e){}}return!1}("includes")},{includes:function(e){return!!~String(g(this)).indexOf(Xo(e),arguments.length>1?arguments[1]:void 0)}});var Jo=K("String").includes,Qo=Array.prototype,$o=String.prototype,es=function(e){var t=e.includes;return e===Qo||e instanceof Array&&t===Qo.includes?qo:"string"==typeof e||e===$o||e instanceof String&&t===$o.includes?Jo:t};function ts(e){return ss=e,function(){var e={};if(as=0,ls=ss.charAt(0),_s(),"strict"===us&&(e.strict=!0,_s()),"graph"!==us&&"digraph"!==us||(e.type=us,_s()),cs===rs&&(e.id=us,_s()),"{"!=us)throw Os("Angle bracket { expected");if(_s(),ws(e),"}"!=us)throw Os("Angle bracket } expected");if(_s(),""!==us)throw Os("End of file expected");return _s(),delete e.node,delete e.edge,delete e.graph,e}()}var ns={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},is=di(ns);is.color="color.color",is.style="dashes";var rs=2,os={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},ss="",as=0,ls="",us="",cs=0;function hs(){as++,ls=ss.charAt(as)}function ds(){return ss.charAt(as+1)}var fs=/[a-zA-Z_0-9.:#]/;function ps(e){return fs.test(e)}function vs(e,t){if(e||(e={}),t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function ys(e,t,n){for(var i=t.split("."),r=e;i.length;){var o=i.shift();i.length?(r[o]||(r[o]={}),r=r[o]):r[o]=n}}function gs(e,t){for(var n,i,r=null,o=[e],s=e;s.parent;)o.push(s.parent),s=s.parent;if(s.nodes)for(n=0,i=s.nodes.length;n<i;n++)if(t.id===s.nodes[n].id){r=s.nodes[n];break}for(r||(r={id:t.id},e.node&&(r.attr=vs(r.attr,e.node))),n=o.length-1;n>=0;n--){var a,l=o[n];l.nodes||(l.nodes=[]),-1===pr(a=l.nodes).call(a,r)&&l.nodes.push(r)}t.attr&&(r.attr=vs(r.attr,t.attr))}function ms(e,t){if(e.edges||(e.edges=[]),e.edges.push(t),e.edge){var n=vs({},e.edge);t.attr=vs(n,t.attr)}}function bs(e,t,n,i,r){var o={from:t,to:n,type:i};return e.edge&&(o.attr=vs({},e.edge)),o.attr=vs(o.attr||{},r),null!=r&&r.hasOwnProperty("arrows")&&null!=r.arrows&&(o.arrows={to:{enabled:!0,type:r.arrows.type}},r.arrows=null),o}function _s(){for(cs=0,us="";" "===ls||"\t"===ls||"\n"===ls||"\r"===ls;)hs();do{var e=!1;if("#"===ls){for(var t=as-1;" "===ss.charAt(t)||"\t"===ss.charAt(t);)t--;if("\n"===ss.charAt(t)||""===ss.charAt(t)){for(;""!=ls&&"\n"!=ls;)hs();e=!0}}if("/"===ls&&"/"===ds()){for(;""!=ls&&"\n"!=ls;)hs();e=!0}if("/"===ls&&"*"===ds()){for(;""!=ls;){if("*"===ls&&"/"===ds()){hs(),hs();break}hs()}e=!0}for(;" "===ls||"\t"===ls||"\n"===ls||"\r"===ls;)hs()}while(e);if(""!==ls){var n=ls+ds();if(os[n])return cs=1,us=n,hs(),void hs();if(os[ls])return cs=1,us=ls,void hs();if(ps(ls)||"-"===ls){for(us+=ls,hs();ps(ls);)us+=ls,hs();return"false"===us?us=!1:"true"===us?us=!0:isNaN(Number(us))||(us=Number(us)),void(cs=rs)}if('"'===ls){for(hs();""!=ls&&('"'!=ls||'"'===ls&&'"'===ds());)'"'===ls?(us+=ls,hs()):"\\"===ls&&"n"===ds()?(us+="\n",hs()):us+=ls,hs();if('"'!=ls)throw Os('End of string " expected');return hs(),void(cs=rs)}for(cs=3;""!=ls;)us+=ls,hs();throw new SyntaxError('Syntax error in part "'+Es(us,30)+'"')}cs=1}function ws(e){for(;""!==us&&"}"!=us;)ks(e),";"===us&&_s()}function ks(e){var t=Cs(e);if(t)xs(e,t);else if(!function(e){return"node"===us?(_s(),e.node=Ss(),"node"):"edge"===us?(_s(),e.edge=Ss(),"edge"):"graph"===us?(_s(),e.graph=Ss(),"graph"):null}(e)){if(cs!=rs)throw Os("Identifier expected");var n=us;if(_s(),"="===us){if(_s(),cs!=rs)throw Os("Identifier expected");e[n]=us,_s()}else!function(e,t){var n={id:t},i=Ss();i&&(n.attr=i),gs(e,n),xs(e,t)}(e,n)}}function Cs(e){var t=null;if("subgraph"===us&&((t={}).type="subgraph",_s(),cs===rs&&(t.id=us,_s())),"{"===us){if(_s(),t||(t={}),t.parent=e,t.node=e.node,t.edge=e.edge,t.graph=e.graph,ws(t),"}"!=us)throw Os("Angle bracket } expected");_s(),delete t.node,delete t.edge,delete t.graph,delete t.parent,e.subgraphs||(e.subgraphs=[]),e.subgraphs.push(t)}return t}function xs(e,t){for(;"->"===us||"--"===us;){var n,i=us;_s();var r=Cs(e);if(r)n=r;else{if(cs!=rs)throw Os("Identifier or subgraph expected");gs(e,{id:n=us}),_s()}ms(e,bs(e,t,n,i,Ss())),t=n}}function Ss(){for(var e,t,n=null,i={dashed:!0,solid:!1,dotted:[1,5]},r={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},o=new Array,s=new Array;"["===us;){for(_s(),n={};""!==us&&"]"!=us;){if(cs!=rs)throw Os("Attribute name expected");var a=us;if(_s(),"="!=us)throw Os("Equal sign = expected");if(_s(),cs!=rs)throw Os("Attribute value expected");var l=us;"style"===a&&(l=i[l]),"arrowhead"===a&&(a="arrows",l={to:{enabled:!0,type:r[l]}}),"arrowtail"===a&&(a="arrows",l={from:{enabled:!0,type:r[l]}}),o.push({attr:n,name:a,value:l}),s.push(a),_s(),","==us&&_s()}if("]"!=us)throw Os("Bracket ] expected");_s()}if(es(s).call(s,"dir")){var u={arrows:{}};for(e=0;e<o.length;e++)if("arrows"===o[e].name)if(null!=o[e].value.to)u.arrows.to=e;else{if(null==o[e].value.from)throw Os("Invalid value of arrows");u.arrows.from=e}else"dir"===o[e].name&&(u.dir=e);var c,h,d=o[u.dir].value;if(!es(s).call(s,"arrows"))if("both"===d)o.push({attr:o[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=o.length-1,o.push({attr:o[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=o.length-1;else if("forward"===d)o.push({attr:o[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=o.length-1;else if("back"===d)o.push({attr:o[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=o.length-1;else{if("none"!==d)throw Os('Invalid dir type "'+d+'"');o.push({attr:o[u.dir].attr,name:"arrows",value:""}),u.arrows.to=o.length-1}if("both"===d)u.arrows.to&&u.arrows.from?(o[u.arrows.to]={attr:o[u.arrows.to].attr,name:o[u.arrows.to].name,value:{to:{enabled:!0,type:h=o[u.arrows.to].value.to.type},from:{enabled:!0,type:c=o[u.arrows.from].value.from.type}}},Yo(o).call(o,u.arrows.from,1)):u.arrows.to?o[u.arrows.to]={attr:o[u.arrows.to].attr,name:o[u.arrows.to].name,value:{to:{enabled:!0,type:h=o[u.arrows.to].value.to.type},from:{enabled:!0,type:c="arrow"}}}:u.arrows.from&&(o[u.arrows.from]={attr:o[u.arrows.from].attr,name:o[u.arrows.from].name,value:{to:{enabled:!0,type:h="arrow"},from:{enabled:!0,type:c=o[u.arrows.from].value.from.type}}});else if("back"===d)u.arrows.to&&u.arrows.from?o[u.arrows.from]={attr:o[u.arrows.from].attr,name:o[u.arrows.from].name,value:{to:{enabled:!0,type:h=""},from:{enabled:!0,type:c=o[u.arrows.from].value.from.type}}}:u.arrows.to?(h="",c="arrow",u.arrows.from=u.arrows.to,o[u.arrows.from]={attr:o[u.arrows.from].attr,name:o[u.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):u.arrows.from&&(o[u.arrows.to]={attr:o[u.arrows.from].attr,name:o[u.arrows.from].name,value:{to:{enabled:!0,type:h=""},from:{enabled:!0,type:c=o[u.arrows.from].value.from.type}}}),o[u.arrows.from]={attr:o[u.arrows.from].attr,name:o[u.arrows.from].name,value:{from:{enabled:!0,type:o[u.arrows.from].value.from.type}}};else if("none"===d){var f;o[f=u.arrows.to?u.arrows.to:u.arrows.from]={attr:o[f].attr,name:o[f].name,value:""}}else{if("forward"!==d)throw Os('Invalid dir type "'+d+'"');u.arrows.to&&u.arrows.from||u.arrows.to?o[u.arrows.to]={attr:o[u.arrows.to].attr,name:o[u.arrows.to].name,value:{to:{enabled:!0,type:h=o[u.arrows.to].value.to.type},from:{enabled:!0,type:c=""}}}:u.arrows.from&&(h="arrow",c="",u.arrows.to=u.arrows.from,o[u.arrows.to]={attr:o[u.arrows.to].attr,name:o[u.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}),o[u.arrows.to]={attr:o[u.arrows.to].attr,name:o[u.arrows.to].name,value:{to:{enabled:!0,type:o[u.arrows.to].value.to.type}}}}Yo(o).call(o,u.dir,1)}if(es(s).call(s,"penwidth")){var p=[];for(t=o.length,e=0;e<t;e++)"width"!==o[e].name&&("penwidth"===o[e].name&&(o[e].name="width"),p.push(o[e]));o=p}for(t=o.length,e=0;e<t;e++)ys(o[e].attr,o[e].name,o[e].value);return n}function Os(e){return new SyntaxError(e+', got "'+Es(us,30)+'" (char '+as+")")}function Es(e,t){return e.length<=t?e:e.substr(0,27)+"..."}function Ts(e,t,n){for(var i=t.split("."),r=i.pop(),o=e,s=0;s<i.length;s++){var a=i[s];a in o||(o[a]={}),o=o[a]}return o[r]=n,e}function Ds(e,t){var n={};for(var i in e)if(e.hasOwnProperty(i)){var r=t[i];Xr(r)?Ni(r).call(r,(function(t){Ts(n,t,e[i])})):Ts(n,"string"==typeof r?r:i,e[i])}return n}function Ms(e){var t,n=ts(e),i={nodes:[],edges:[],options:{}};if(n.nodes&&Ni(t=n.nodes).call(t,(function(e){var t={id:e.id,label:String(e.label||e.id)};vs(t,Ds(e.attr,ns)),t.image&&(t.shape="image"),i.nodes.push(t)})),n.edges){var r,o=function(e){var t={from:e.from,to:e.to};return vs(t,Ds(e.attr,is)),null==t.arrows&&"->"===e.type&&(t.arrows="to"),t};Ni(r=n.edges).call(r,(function(e){var t,n,r,s,a,l,u;t=e.from instanceof Object?e.from.nodes:{id:e.from},n=e.to instanceof Object?e.to.nodes:{id:e.to},e.from instanceof Object&&e.from.edges&&Ni(r=e.from.edges).call(r,(function(e){var t=o(e);i.edges.push(t)})),a=n,l=function(t,n){var r=bs(i,t.id,n.id,e.type,e.attr),s=o(r);i.edges.push(s)},Xr(s=t)?Ni(s).call(s,(function(e){Xr(a)?Ni(a).call(a,(function(t){l(e,t)})):l(e,a)})):Xr(a)?Ni(a).call(a,(function(e){l(s,e)})):l(s,a),e.to instanceof Object&&e.to.edges&&Ni(u=e.to.edges).call(u,(function(e){var t=o(e);i.edges.push(t)}))}))}return n.attr&&(i.options=n.attr),i}var Ps=Object.freeze({__proto__:null,parseDOT:ts,DOTToGraph:Ms});function As(e,t){var n,i={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};null!=t&&(null!=t.fixed&&(i.nodes.fixed=t.fixed),null!=t.parseColor&&(i.nodes.parseColor=t.parseColor),null!=t.inheritColor&&(i.edges.inheritColor=t.inheritColor));var r=e.edges,o=Zr(r).call(r,(function(e){var t={from:e.source,id:e.id,to:e.target};return null!=e.attributes&&(t.attributes=e.attributes),null!=e.label&&(t.label=e.label),null!=e.attributes&&null!=e.attributes.title&&(t.title=e.attributes.title),"Directed"===e.type&&(t.arrows="to"),e.color&&!1===i.edges.inheritColor&&(t.color=e.color),t}));return{nodes:Zr(n=e.nodes).call(n,(function(e){var t={id:e.id,fixed:i.nodes.fixed&&null!=e.x&&null!=e.y};return null!=e.attributes&&(t.attributes=e.attributes),null!=e.label&&(t.label=e.label),null!=e.size&&(t.size=e.size),null!=e.attributes&&null!=e.attributes.title&&(t.title=e.attributes.title),null!=e.title&&(t.title=e.title),null!=e.x&&(t.x=e.x),null!=e.y&&(t.y=e.y),null!=e.color&&(t.color=!0===i.nodes.parseColor?e.color:{background:e.color,border:e.color,highlight:{background:e.color,border:e.color},hover:{background:e.color,border:e.color}}),t})),edges:o}}var Is=Object.freeze({__proto__:null,parseGephi:As}),Ns=i((function(e,t){e.exports=function(e){var t,n=e&&e.preventDefault||!1,i=e&&e.container||window,r={},o={keydown:{},keyup:{}},s={};for(t=97;t<=122;t++)s[String.fromCharCode(t)]={code:t-97+65,shift:!1};for(t=65;t<=90;t++)s[String.fromCharCode(t)]={code:t,shift:!0};for(t=0;t<=9;t++)s[""+t]={code:48+t,shift:!1};for(t=1;t<=12;t++)s["F"+t]={code:111+t,shift:!1};for(t=0;t<=9;t++)s["num"+t]={code:96+t,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(e){u(e,"keydown")},l=function(e){u(e,"keyup")},u=function(e,t){if(void 0!==o[t][e.keyCode]){for(var i=o[t][e.keyCode],r=0;r<i.length;r++)(void 0===i[r].shift||1==i[r].shift&&1==e.shiftKey||0==i[r].shift&&0==e.shiftKey)&&i[r].fn(e);1==n&&e.preventDefault()}};return r.bind=function(e,t,n){if(void 0===n&&(n="keydown"),void 0===s[e])throw new Error("unsupported key: "+e);void 0===o[n][s[e].code]&&(o[n][s[e].code]=[]),o[n][s[e].code].push({fn:t,shift:s[e].shift})},r.bindAll=function(e,t){for(var n in void 0===t&&(t="keydown"),s)s.hasOwnProperty(n)&&r.bind(n,e,t)},r.getKey=function(e){for(var t in s)if(s.hasOwnProperty(t)){if(1==e.shiftKey&&1==s[t].shift&&e.keyCode==s[t].code)return t;if(0==e.shiftKey&&0==s[t].shift&&e.keyCode==s[t].code)return t;if(e.keyCode==s[t].code&&"shift"==t)return t}return"unknown key, currently not supported"},r.unbind=function(e,t,n){if(void 0===n&&(n="keydown"),void 0===s[e])throw new Error("unsupported key: "+e);if(void 0!==t){var i=[],r=o[n][s[e].code];if(void 0!==r)for(var a=0;a<r.length;a++)r[a].fn==t&&r[a].shift==s[e].shift||i.push(o[n][s[e].code][a]);o[n][s[e].code]=i}else o[n][s[e].code]=[]},r.reset=function(){o={keydown:{},keyup:{}}},r.destroy=function(){o={keydown:{},keyup:{}},i.removeEventListener("keydown",a,!0),i.removeEventListener("keyup",l,!0)},i.addEventListener("keydown",a,!0),i.addEventListener("keyup",l,!0),r}}));function Fs(){return(Fs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Rs(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function js(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var zs,Bs="function"!=typeof Object.assign?function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t}:Object.assign,Ls=["","webkit","Moz","MS","ms","o"],Hs="undefined"==typeof document?{style:{}}:document.createElement("div"),Vs=Math.round,Ws=Math.abs,Ys=Date.now;function Us(e,t){for(var n,i,r=t[0].toUpperCase()+t.slice(1),o=0;o<Ls.length;){if((i=(n=Ls[o])?n+r:t)in e)return i;o++}}zs="undefined"==typeof window?{}:window;var Gs=Us(Hs.style,"touchAction"),qs=void 0!==Gs,Zs=function(){if(!qs)return!1;var e={},t=zs.CSS&&zs.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){return e[n]=!t||zs.CSS.supports("touch-action",n)})),e}(),Xs="ontouchstart"in zs,Ks=void 0!==Us(zs,"PointerEvent"),Js=Xs&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Qs=["x","y"],$s=["clientX","clientY"];function ea(e,t,n){var i;if(e)if(e.forEach)e.forEach(t,n);else if(void 0!==e.length)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function ta(e,t){return"function"==typeof e?e.apply(t&&t[0]||void 0,t):e}function na(e,t){return e.indexOf(t)>-1}var ia=function(){function e(e,t){this.manager=e,this.set(t)}var t=e.prototype;return t.set=function(e){"compute"===e&&(e=this.compute()),qs&&this.manager.element.style&&Zs[e]&&(this.manager.element.style[Gs]=e),this.actions=e.toLowerCase().trim()},t.update=function(){this.set(this.manager.options.touchAction)},t.compute=function(){var e=[];return ea(this.manager.recognizers,(function(t){ta(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(na(e,"none"))return"none";var t=na(e,"pan-x"),n=na(e,"pan-y");return t&&n?"none":t||n?t?"pan-x":"pan-y":na(e,"manipulation")?"manipulation":"auto"}(e.join(" "))},t.preventDefaults=function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var i=this.actions,r=na(i,"none")&&!Zs.none,o=na(i,"pan-y")&&!Zs["pan-y"],s=na(i,"pan-x")&&!Zs["pan-x"];if(r&&1===e.pointers.length&&e.distance<2&&e.deltaTime<250)return;if(!s||!o)return r||o&&6&n||s&&24&n?this.preventSrc(t):void 0}},t.preventSrc=function(e){this.manager.session.prevented=!0,e.preventDefault()},e}();function ra(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function oa(e){var t=e.length;if(1===t)return{x:Vs(e[0].clientX),y:Vs(e[0].clientY)};for(var n=0,i=0,r=0;r<t;)n+=e[r].clientX,i+=e[r].clientY,r++;return{x:Vs(n/t),y:Vs(i/t)}}function sa(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:Vs(e.pointers[n].clientX),clientY:Vs(e.pointers[n].clientY)},n++;return{timeStamp:Ys(),pointers:t,center:oa(t),deltaX:e.deltaX,deltaY:e.deltaY}}function aa(e,t,n){n||(n=Qs);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return Math.sqrt(i*i+r*r)}function la(e,t,n){return n||(n=Qs),180*Math.atan2(t[n[1]]-e[n[1]],t[n[0]]-e[n[0]])/Math.PI}function ua(e,t){return e===t?1:Ws(e)>=Ws(t)?e<0?2:4:t<0?8:16}function ca(e,t,n){return{x:t/e||0,y:n/e||0}}function ha(e,t,n){var i=n.pointers.length,r=n.changedPointers.length,o=1&t&&i-r==0,s=12&t&&i-r==0;n.isFirst=!!o,n.isFinal=!!s,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,i=t.pointers,r=i.length;n.firstInput||(n.firstInput=sa(t)),r>1&&!n.firstMultiple?n.firstMultiple=sa(t):1===r&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,l=t.center=oa(i);t.timeStamp=Ys(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=la(a,l),t.distance=aa(a,l),function(e,t){var n=t.center,i=e.offsetDelta||{},r=e.prevDelta||{},o=e.prevInput||{};1!==t.eventType&&4!==o.eventType||(r=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=r.x+(n.x-i.x),t.deltaY=r.y+(n.y-i.y)}(n,t),t.offsetDirection=ua(t.deltaX,t.deltaY);var u,c,h=ca(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=h.x,t.overallVelocityY=h.y,t.overallVelocity=Ws(h.x)>Ws(h.y)?h.x:h.y,t.scale=s?(u=s.pointers,aa((c=i)[0],c[1],$s)/aa(u[0],u[1],$s)):1,t.rotation=s?function(e,t){return la(t[1],t[0],$s)+la(e[1],e[0],$s)}(s.pointers,i):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,i,r,o,s=e.lastInterval||t,a=t.timeStamp-s.timeStamp;if(8!==t.eventType&&(a>25||void 0===s.velocity)){var l=t.deltaX-s.deltaX,u=t.deltaY-s.deltaY,c=ca(a,l,u);i=c.x,r=c.y,n=Ws(c.x)>Ws(c.y)?c.x:c.y,o=ua(l,u),e.lastInterval=t}else n=s.velocity,i=s.velocityX,r=s.velocityY,o=s.direction;t.velocity=n,t.velocityX=i,t.velocityY=r,t.direction=o}(n,t);var d,f=e.element,p=t.srcEvent;ra(d=p.composedPath?p.composedPath()[0]:p.path?p.path[0]:p.target,f)&&(f=d),t.target=f}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function da(e){return e.trim().split(/\s+/g)}function fa(e,t,n){ea(da(t),(function(t){e.addEventListener(t,n,!1)}))}function pa(e,t,n){ea(da(t),(function(t){e.removeEventListener(t,n,!1)}))}function va(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||window}var ya=function(){function e(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){ta(e.options.enable,[e])&&n.handler(t)},this.init()}var t=e.prototype;return t.handler=function(){},t.init=function(){this.evEl&&fa(this.element,this.evEl,this.domHandler),this.evTarget&&fa(this.target,this.evTarget,this.domHandler),this.evWin&&fa(va(this.element),this.evWin,this.domHandler)},t.destroy=function(){this.evEl&&pa(this.element,this.evEl,this.domHandler),this.evTarget&&pa(this.target,this.evTarget,this.domHandler),this.evWin&&pa(va(this.element),this.evWin,this.domHandler)},e}();function ga(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}var ma={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},ba={2:"touch",3:"pen",4:"mouse",5:"kinect"},_a="pointerdown",wa="pointermove pointerup pointercancel";zs.MSPointerEvent&&!zs.PointerEvent&&(_a="MSPointerDown",wa="MSPointerMove MSPointerUp MSPointerCancel");var ka=function(e){function t(){var n,i=t.prototype;return i.evEl=_a,i.evWin=wa,(n=e.apply(this,arguments)||this).store=n.manager.session.pointerEvents=[],n}return Rs(t,e),t.prototype.handler=function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),r=ma[i],o=ba[e.pointerType]||e.pointerType,s="touch"===o,a=ga(t,e.pointerId,"pointerId");1&r&&(0===e.button||s)?a<0&&(t.push(e),a=t.length-1):12&r&&(n=!0),a<0||(t[a]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(a,1))},t}(ya);function Ca(e){return Array.prototype.slice.call(e,0)}function xa(e,t,n){for(var i=[],r=[],o=0;o<e.length;){var s=t?e[o][t]:e[o];ga(r,s)<0&&i.push(e[o]),r[o]=s,o++}return n&&(i=t?i.sort((function(e,n){return e[t]>n[t]})):i.sort()),i}var Sa={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Oa=function(e){function t(){var n;return t.prototype.evTarget="touchstart touchmove touchend touchcancel",(n=e.apply(this,arguments)||this).targetIds={},n}return Rs(t,e),t.prototype.handler=function(e){var t=Sa[e.type],n=Ea.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})},t}(ya);function Ea(e,t){var n,i,r=Ca(e.touches),o=this.targetIds;if(3&t&&1===r.length)return o[r[0].identifier]=!0,[r,r];var s=Ca(e.changedTouches),a=[],l=this.target;if(i=r.filter((function(e){return ra(e.target,l)})),1===t)for(n=0;n<i.length;)o[i[n].identifier]=!0,n++;for(n=0;n<s.length;)o[s[n].identifier]&&a.push(s[n]),12&t&&delete o[s[n].identifier],n++;return a.length?[xa(i.concat(a),"identifier",!0),a]:void 0}var Ta={mousedown:1,mousemove:2,mouseup:4},Da=function(e){function t(){var n,i=t.prototype;return i.evEl="mousedown",i.evWin="mousemove mouseup",(n=e.apply(this,arguments)||this).pressed=!1,n}return Rs(t,e),t.prototype.handler=function(e){var t=Ta[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))},t}(ya);function Ma(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY},i=this.lastTouches;this.lastTouches.push(n),setTimeout((function(){var e=i.indexOf(n);e>-1&&i.splice(e,1)}),2500)}}function Pa(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,Ma.call(this,t)):12&e&&Ma.call(this,t)}function Aa(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(t-r.x),s=Math.abs(n-r.y);if(o<=25&&s<=25)return!0}return!1}var Ia=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).handler=function(e,t,n){var r="mouse"===n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"===n.pointerType)Pa.call(js(js(i)),t,n);else if(r&&Aa.call(js(js(i)),n))return;i.callback(e,t,n)}},i.touch=new Oa(i.manager,i.handler),i.mouse=new Da(i.manager,i.handler),i.primaryTouch=null,i.lastTouches=[],i}return Rs(t,e),t.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t}(ya);function Na(e,t,n){return!!Array.isArray(e)&&(ea(e,n[t],n),!0)}var Fa=1;function Ra(e,t){var n=t.manager;return n?n.get(e):e}function ja(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}var za=function(){function e(e){void 0===e&&(e={}),this.options=Fs({enable:!0},e),this.id=Fa++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var t=e.prototype;return t.set=function(e){return Bs(this.options,e),this.manager&&this.manager.touchAction.update(),this},t.recognizeWith=function(e){if(Na(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Ra(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},t.dropRecognizeWith=function(e){return Na(e,"dropRecognizeWith",this)||(e=Ra(e,this),delete this.simultaneous[e.id]),this},t.requireFailure=function(e){if(Na(e,"requireFailure",this))return this;var t=this.requireFail;return-1===ga(t,e=Ra(e,this))&&(t.push(e),e.requireFailure(this)),this},t.dropRequireFailure=function(e){if(Na(e,"dropRequireFailure",this))return this;e=Ra(e,this);var t=ga(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},t.hasRequireFailures=function(){return this.requireFail.length>0},t.canRecognizeWith=function(e){return!!this.simultaneous[e.id]},t.emit=function(e){var t=this,n=this.state;function i(n){t.manager.emit(n,e)}n<8&&i(t.options.event+ja(n)),i(t.options.event),e.additionalEvent&&i(e.additionalEvent),n>=8&&i(t.options.event+ja(n))},t.tryEmit=function(e){if(this.canEmit())return this.emit(e);this.state=32},t.canEmit=function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},t.recognize=function(e){var t=Bs({},e);if(!ta(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},t.process=function(e){},t.getTouchAction=function(){},t.reset=function(){},e}(),Ba=function(e){function t(t){var n;return void 0===t&&(t={}),(n=e.call(this,Fs({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},t))||this).pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}Rs(t,e);var n=t.prototype;return n.getTouchAction=function(){return["manipulation"]},n.process=function(e){var t=this,n=this.options,i=e.pointers.length===n.pointers,r=e.distance<n.threshold,o=e.deltaTime<n.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(r&&o&&i){if(4!==e.eventType)return this.failTimeout();var s=!this.pTime||e.timeStamp-this.pTime<n.interval,a=!this.pCenter||aa(this.pCenter,e.center)<n.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&s?this.count+=1:this.count=1,this._input=e,0==this.count%n.taps)return this.hasRequireFailures()?(this._timer=setTimeout((function(){t.state=8,t.tryEmit()}),n.interval),2):8}return 32},n.failTimeout=function(){var e=this;return this._timer=setTimeout((function(){e.state=32}),this.options.interval),32},n.reset=function(){clearTimeout(this._timer)},n.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},t}(za),La=function(e){function t(t){return void 0===t&&(t={}),e.call(this,Fs({pointers:1},t))||this}Rs(t,e);var n=t.prototype;return n.attrTest=function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},n.process=function(e){var t=this.state,n=e.eventType,i=6&t,r=this.attrTest(e);return i&&(8&n||!r)?16|t:i||r?4&n?8|t:2&t?4|t:2:32},t}(za);function Ha(e){return 16===e?"down":8===e?"up":2===e?"left":4===e?"right":""}var Va=function(e){function t(t){var n;return void 0===t&&(t={}),(n=e.call(this,Fs({event:"pan",threshold:10,pointers:1,direction:30},t))||this).pX=null,n.pY=null,n}Rs(t,e);var n=t.prototype;return n.getTouchAction=function(){var e=this.options.direction,t=[];return 6&e&&t.push("pan-y"),24&e&&t.push("pan-x"),t},n.directionTest=function(e){var t=this.options,n=!0,i=e.distance,r=e.direction,o=e.deltaX,s=e.deltaY;return r&t.direction||(6&t.direction?(r=0===o?1:o<0?2:4,n=o!==this.pX,i=Math.abs(e.deltaX)):(r=0===s?1:s<0?8:16,n=s!==this.pY,i=Math.abs(e.deltaY))),e.direction=r,n&&i>t.threshold&&r&t.direction},n.attrTest=function(e){return La.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},n.emit=function(t){this.pX=t.deltaX,this.pY=t.deltaY;var n=Ha(t.direction);n&&(t.additionalEvent=this.options.event+n),e.prototype.emit.call(this,t)},t}(La),Wa=function(e){function t(t){return void 0===t&&(t={}),e.call(this,Fs({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},t))||this}Rs(t,e);var n=t.prototype;return n.getTouchAction=function(){return Va.prototype.getTouchAction.call(this)},n.attrTest=function(t){var n,i=this.options.direction;return 30&i?n=t.overallVelocity:6&i?n=t.overallVelocityX:24&i&&(n=t.overallVelocityY),e.prototype.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers===this.options.pointers&&Ws(n)>this.options.velocity&&4&t.eventType},n.emit=function(e){var t=Ha(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)},t}(La),Ya=function(e){function t(t){return void 0===t&&(t={}),e.call(this,Fs({event:"pinch",threshold:0,pointers:2},t))||this}Rs(t,e);var n=t.prototype;return n.getTouchAction=function(){return["none"]},n.attrTest=function(t){return e.prototype.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},n.emit=function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),e.prototype.emit.call(this,t)},t}(La),Ua=function(e){function t(t){return void 0===t&&(t={}),e.call(this,Fs({event:"rotate",threshold:0,pointers:2},t))||this}Rs(t,e);var n=t.prototype;return n.getTouchAction=function(){return["none"]},n.attrTest=function(t){return e.prototype.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)},t}(La),Ga=function(e){function t(t){var n;return void 0===t&&(t={}),(n=e.call(this,Fs({event:"press",pointers:1,time:251,threshold:9},t))||this)._timer=null,n._input=null,n}Rs(t,e);var n=t.prototype;return n.getTouchAction=function(){return["auto"]},n.process=function(e){var t=this,n=this.options,i=e.pointers.length===n.pointers,r=e.distance<n.threshold,o=e.deltaTime>n.time;if(this._input=e,!r||!i||12&e.eventType&&!o)this.reset();else if(1&e.eventType)this.reset(),this._timer=setTimeout((function(){t.state=8,t.tryEmit()}),n.time);else if(4&e.eventType)return 8;return 32},n.reset=function(){clearTimeout(this._timer)},n.emit=function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=Ys(),this.manager.emit(this.options.event,this._input)))},t}(za),qa={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Za=[[Ua,{enable:!1}],[Ya,{enable:!1},["rotate"]],[Wa,{direction:6}],[Va,{direction:6},["swipe"]],[Ba],[Ba,{event:"doubletap",taps:2},["tap"]],[Ga]];function Xa(e,t){var n,i=e.element;i.style&&(ea(e.options.cssProps,(function(r,o){n=Us(i.style,o),t?(e.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}var Ka=function(){function e(e,t){var n,i=this;this.options=Bs({},qa,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(Ks?ka:Js?Oa:Xs?Ia:Da))(n,ha),this.touchAction=new ia(this,this.options.touchAction),Xa(this,!0),ea(this.options.recognizers,(function(e){var t=i.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}var t=e.prototype;return t.set=function(e){return Bs(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},t.stop=function(e){this.session.stopped=e?2:1},t.recognize=function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var i=this.recognizers,r=t.curRecognizer;(!r||r&&8&r.state)&&(t.curRecognizer=null,r=null);for(var o=0;o<i.length;)n=i[o],2===t.stopped||r&&n!==r&&!n.canRecognizeWith(r)?n.reset():n.recognize(e),!r&&14&n.state&&(t.curRecognizer=n,r=n),o++}},t.get=function(e){if(e instanceof za)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event===e)return t[n];return null},t.add=function(e){if(Na(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},t.remove=function(e){if(Na(e,"remove",this))return this;var t=this.get(e);if(e){var n=this.recognizers,i=ga(n,t);-1!==i&&(n.splice(i,1),this.touchAction.update())}return this},t.on=function(e,t){if(void 0===e||void 0===t)return this;var n=this.handlers;return ea(da(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this},t.off=function(e,t){if(void 0===e)return this;var n=this.handlers;return ea(da(e),(function(e){t?n[e]&&n[e].splice(ga(n[e],t),1):delete n[e]})),this},t.emit=function(e,t){this.options.domEvents&&function(e,t){var n=document.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},t.destroy=function(){this.element&&Xa(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},e}(),Ja={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Qa=function(e){function t(){var n,i=t.prototype;return i.evTarget="touchstart",i.evWin="touchstart touchmove touchend touchcancel",(n=e.apply(this,arguments)||this).started=!1,n}return Rs(t,e),t.prototype.handler=function(e){var t=Ja[e.type];if(1===t&&(this.started=!0),this.started){var n=$a.call(this,e,t);12&t&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}},t}(ya);function $a(e,t){var n=Ca(e.touches),i=Ca(e.changedTouches);return 12&t&&(n=xa(n.concat(i),"identifier",!0)),[n,i]}function el(e,t,n){var i="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=window.console&&(window.console.warn||window.console.log);return r&&r.call(window.console,i,n),e.apply(this,arguments)}}var tl=el((function(e,t,n){for(var i=Object.keys(t),r=0;r<i.length;)(!n||n&&void 0===e[i[r]])&&(e[i[r]]=t[i[r]]),r++;return e}),"extend","Use `assign`."),nl=el((function(e,t){return tl(e,t,!0)}),"merge","Use `assign`.");function il(e,t,n){var i,r=t.prototype;(i=e.prototype=Object.create(r)).constructor=e,i._super=r,n&&Bs(i,n)}function rl(e,t){return function(){return e.apply(t,arguments)}}var ol=function(){var e=function(e,t){return void 0===t&&(t={}),new Ka(e,Fs({recognizers:Za.concat()},t))};return e.VERSION="2.0.17-rc",e.DIRECTION_ALL=30,e.DIRECTION_DOWN=16,e.DIRECTION_LEFT=2,e.DIRECTION_RIGHT=4,e.DIRECTION_UP=8,e.DIRECTION_HORIZONTAL=6,e.DIRECTION_VERTICAL=24,e.DIRECTION_NONE=1,e.DIRECTION_DOWN=16,e.INPUT_START=1,e.INPUT_MOVE=2,e.INPUT_END=4,e.INPUT_CANCEL=8,e.STATE_POSSIBLE=1,e.STATE_BEGAN=2,e.STATE_CHANGED=4,e.STATE_ENDED=8,e.STATE_RECOGNIZED=8,e.STATE_CANCELLED=16,e.STATE_FAILED=32,e.Manager=Ka,e.Input=ya,e.TouchAction=ia,e.TouchInput=Oa,e.MouseInput=Da,e.PointerEventInput=ka,e.TouchMouseInput=Ia,e.SingleTouchInput=Qa,e.Recognizer=za,e.AttrRecognizer=La,e.Tap=Ba,e.Pan=Va,e.Swipe=Wa,e.Pinch=Ya,e.Rotate=Ua,e.Press=Ga,e.on=fa,e.off=pa,e.each=ea,e.merge=nl,e.extend=tl,e.bindFn=rl,e.assign=Bs,e.inherit=il,e.bindFn=rl,e.prefixed=Us,e.toArray=Ca,e.inArray=ga,e.uniqueArray=xa,e.splitStr=da,e.boolOrFn=ta,e.hasParent=ra,e.addEventListeners=fa,e.removeEventListeners=pa,e.defaults=Bs({},qa,{preset:Za}),e}(),sl=r(Object.freeze({__proto__:null,default:ol,INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Ka,Input:ya,TouchAction:ia,TouchInput:Oa,MouseInput:Da,PointerEventInput:ka,TouchMouseInput:Ia,SingleTouchInput:Qa,Recognizer:za,AttrRecognizer:La,Tap:Ba,Pan:Va,Swipe:Wa,Pinch:Ya,Rotate:Ua,Press:Ga,on:fa,off:pa,each:ea,merge:nl,extend:tl,assign:Bs,inherit:il,bindFn:rl,prefixed:Us,toArray:Ca,inArray:ga,uniqueArray:xa,splitStr:da,boolOrFn:ta,hasParent:ra,addEventListeners:fa,removeEventListeners:pa,defaults:ol.defaults})),al=i((function(e){if("undefined"!=typeof window){var t=window.Hammer||sl;e.exports=t}else e.exports=function(){return{on:e=function(){},off:e,destroy:e,emit:e,get:function(t){return{set:e}}};var e}}));function ll(e){var t,n,i=this;this.active=!1,this.dom={container:e},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=al(this.dom.overlay),this.hammer.on("tap",$(t=this._onTapOverlay).call(t,this));var r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Ni(r).call(r,(function(e){i.hammer.on(e,(function(e){e.srcEvent.stopPropagation()}))})),document&&document.body&&(this.onClick=function(t){(function(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1})(t.target,e)||i.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=Ns(),this.escListener=$(n=this.deactivate).call(n,this)}Ee(ll.prototype),ll.current=null,ll.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=null,this.hammer.destroy(),this.hammer=null},ll.prototype.activate=function(){var e,t,n,i;ll.current&&ll.current.deactivate(),ll.current=this,this.active=!0,this.dom.overlay.style.display="none",n=(t=this.dom.container).className.split(" "),i="vis-active".split(" "),n=to(n).call(n,ir(i).call(i,(function(e){return pr(n).call(n,e)<0}))),t.className=n.join(" "),this.emit("change"),this.emit("activate"),$(e=this.keycharm).call(e,"esc",this.escListener)},ll.prototype.deactivate=function(){var e,t,n;this.active=!1,this.dom.overlay.style.display="block",t=(e=this.dom.container).className.split(" "),n="vis-active".split(" "),t=ir(t).call(t,(function(e){return pr(n).call(n,e)<0})),e.className=t.join(" "),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},ll.prototype._onTapOverlay=function(e){this.activate(),e.srcEvent.stopPropagation()};var ul=Object.freeze({__proto__:null,en:{addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},de:{addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzuf\xfcgen",addNode:"Knoten hinzuf\xfcgen",back:"Zur\xfcck",createEdgeError:"Es ist nicht m\xf6glich, Kanten mit Clustern zu verbinden.",del:"L\xf6sche Auswahl",deleteClusterError:"Cluster k\xf6nnen nicht gel\xf6scht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster k\xf6nnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},es:{addDescription:"Haga clic en un lugar vac\xedo para colocar un nuevo nodo.",addEdge:"A\xf1adir arista",addNode:"A\xf1adir nodo",back:"Atr\xe1s",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selecci\xf3n",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},it:{addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},nl:{addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},pt:{addDescription:"Clique em um espa\xe7o em branco para adicionar um novo n\xf3",addEdge:"Adicionar aresta",addNode:"Adicionar n\xf3",back:"Voltar",createEdgeError:"N\xe3o foi poss\xedvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters n\xe3o puderam ser removidos.",edgeDescription:"Clique em um n\xf3 e arraste a aresta at\xe9 outro n\xf3 para conect\xe1-los",edit:"Editar",editClusterError:"Clusters n\xe3o puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n\xf3 para conect\xe1-los",editNode:"Editar n\xf3"},ru:{addDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u0432 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0443\u0437\u0435\u043b.",addEdge:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u043e",addNode:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0437\u0435\u043b",back:"\u041d\u0430\u0437\u0430\u0434",createEdgeError:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u0430 \u0432 \u043a\u043b\u0430\u0441\u0442\u0435\u0440.",del:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435",deleteClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u044b",edgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u0443\u0437\u0435\u043b \u0438 \u043f\u0440\u043e\u0442\u044f\u043d\u0438\u0442\u0435 \u0440\u0435\u0431\u0440\u043e \u043a \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u0443\u0437\u043b\u0443, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0438\u0445.",edit:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",editClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f.",editEdge:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0435\u0431\u0440\u043e",editEdgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u044b\u0435 \u0442\u043e\u0447\u043a\u0438 \u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0445 \u0432 \u0443\u0437\u0435\u043b, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u043d\u0435\u043c\u0443.",editNode:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0443\u0437\u0435\u043b"},cn:{addDescription:"\u5355\u51fb\u7a7a\u767d\u5904\u653e\u7f6e\u65b0\u8282\u70b9\u3002",addEdge:"\u6dfb\u52a0\u8fde\u63a5\u7ebf",addNode:"\u6dfb\u52a0\u8282\u70b9",back:"\u8fd4\u56de",createEdgeError:"\u65e0\u6cd5\u5c06\u8fde\u63a5\u7ebf\u8fde\u63a5\u5230\u7fa4\u96c6\u3002",del:"\u5220\u9664\u9009\u5b9a",deleteClusterError:"\u65e0\u6cd5\u5220\u9664\u7fa4\u96c6\u3002",edgeDescription:"\u5355\u51fb\u67d0\u4e2a\u8282\u70b9\u5e76\u5c06\u8be5\u8fde\u63a5\u7ebf\u62d6\u52a8\u5230\u53e6\u4e00\u4e2a\u8282\u70b9\u4ee5\u8fde\u63a5\u5b83\u4eec\u3002",edit:"\u7f16\u8f91",editClusterError:"\u65e0\u6cd5\u7f16\u8f91\u7fa4\u96c6\u3002",editEdge:"\u7f16\u8f91\u8fde\u63a5\u7ebf",editEdgeDescription:"\u5355\u51fb\u63a7\u5236\u8282\u70b9\u5e76\u5c06\u5b83\u4eec\u62d6\u5230\u8282\u70b9\u4e0a\u8fde\u63a5\u3002",editNode:"\u7f16\u8f91\u8282\u70b9"},uk:{addDescription:"K\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u0432\u0456\u043b\u044c\u043d\u0435 \u043c\u0456\u0441\u0446\u0435, \u0449\u043e\u0431 \u0434\u043e\u0434\u0430\u0442\u0438 \u043d\u043e\u0432\u0438\u0439 \u0432\u0443\u0437\u043e\u043b.",addEdge:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043a\u0440\u0430\u0439",addNode:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0432\u0443\u0437\u043e\u043b",back:"\u041d\u0430\u0437\u0430\u0434",createEdgeError:"\u041d\u0435 \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u043e\u0431'\u0454\u0434\u043d\u0430\u0442\u0438 \u043a\u0440\u0430\u0457 \u0432 \u0433\u0440\u0443\u043f\u0443.",del:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043e\u0431\u0440\u0430\u043d\u0435",deleteClusterError:"\u0413\u0440\u0443\u043f\u0438 \u043d\u0435 \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u0456.",edgeDescription:"\u041a\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u0432\u0443\u0437\u043e\u043b \u0456 \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u043a\u0440\u0430\u0439 \u0434\u043e \u0456\u043d\u0448\u043e\u0433\u043e \u0432\u0443\u0437\u043b\u0430, \u0449\u043e\u0431 \u0457\u0445 \u0437'\u0454\u0434\u043d\u0430\u0442\u0438.",edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",editClusterError:"\u0413\u0440\u0443\u043f\u0438 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0456 \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f.",editEdge:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043a\u0440\u0430\u0439",editEdgeDescription:"\u041a\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u0456 \u0442\u043e\u0447\u043a\u0438 \u0456 \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u0457\u0445 \u0443 \u0432\u0443\u0437\u043e\u043b, \u0449\u043e\u0431 \u043f\u0456\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u0438\u0441\u044f \u0434\u043e \u043d\u044c\u043e\u0433\u043e.",editNode:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0432\u0443\u0437\u043e\u043b"},fr:{addDescription:"Cliquez dans un endroit vide pour placer un n\u0153ud.",addEdge:"Ajouter un lien",addNode:"Ajouter un n\u0153ud",back:"Retour",createEdgeError:"Impossible de cr\xe9er un lien vers un cluster.",del:"Effacer la s\xe9lection",deleteClusterError:"Les clusters ne peuvent pas \xeatre effac\xe9s.",edgeDescription:"Cliquez sur un n\u0153ud et glissez le lien vers un autre n\u0153ud pour les connecter.",edit:"\xc9diter",editClusterError:"Les clusters ne peuvent pas \xeatre \xe9dit\xe9s.",editEdge:"\xc9diter le lien",editEdgeDescription:"Cliquez sur les points de contr\xf4le et glissez-les pour connecter un n\u0153ud.",editNode:"\xc9diter le n\u0153ud"},cs:{addDescription:"Kluknut\xedm do pr\xe1zdn\xe9ho prostoru m\u016f\u017eete p\u0159idat nov\xfd vrchol.",addEdge:"P\u0159idat hranu",addNode:"P\u0159idat vrchol",back:"Zp\u011bt",createEdgeError:"Nelze p\u0159ipojit hranu ke shluku.",del:"Smazat v\xfdb\u011br",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"P\u0159eta\u017een\xedm z jednoho vrcholu do druh\xe9ho m\u016f\u017eete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"P\u0159eta\u017een\xedm kontroln\xedho vrcholu hrany ji m\u016f\u017eete p\u0159ipojit k jin\xe9mu vrcholu.",editNode:"Upravit vrchol"}}),cl=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};function hl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),fi(e,i.key,i)}}var dl=function(e,t,n){return t&&hl(e.prototype,t),n&&hl(e,n),e},fl=function(){function e(){cl(this,e),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return dl(e,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var e=this.image.width,t=this.image.height;this.width=e,this.height=t;var n=Math.floor(t/2),i=Math.floor(t/4),r=Math.floor(t/8),o=Math.floor(t/16),s=Math.floor(e/2),a=Math.floor(e/4),l=Math.floor(e/8),u=Math.floor(e/16);this.canvas.width=3*a,this.canvas.height=n,this.coordinates=[[0,0,s,n],[s,0,a,i],[s,i,l,r],[5*l,i,u,o]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var e=this.canvas.getContext("2d"),t=this.coordinates[0];e.drawImage(this.image,t[0],t[1],t[2],t[3]);for(var n=1;n<this.NUM_ITERATIONS;n++){var i=this.coordinates[n-1],r=this.coordinates[n];e.drawImage(this.canvas,i[0],i[1],i[2],i[3],r[0],r[1],r[2],r[3])}}},{key:"drawImageAtPosition",value:function(e,t,n,i,r,o){if(this.initialized())if(t>2){t*=.5;for(var s=0;t>2&&s<this.NUM_ITERATIONS;)t*=.5,s+=1;s>=this.NUM_ITERATIONS&&(s=this.NUM_ITERATIONS-1);var a=this.coordinates[s];e.drawImage(this.canvas,a[0],a[1],a[2],a[3],n,i,r,o)}else e.drawImage(this.image,n,i,r,o)}}]),e}(),pl=function(){function e(t){cl(this,e),this.images={},this.imageBroken={},this.callback=t}return dl(e,[{key:"_tryloadBrokenUrl",value:function(e,t,n){void 0!==e&&void 0!==n&&(void 0!==t?(n.image.onerror=function(){console.error("Could not load brokenImage:",t)},n.image.src=t):console.warn("No broken url image defined"))}},{key:"_redrawWithImage",value:function(e){this.callback&&this.callback(e)}},{key:"load",value:function(e,t){var n=this,i=this.images[e];if(i)return i;var r=new fl;return this.images[e]=r,r.image.onload=function(){n._fixImageCoordinates(r.image),r.init(),n._redrawWithImage(r)},r.image.onerror=function(){console.error("Could not load image:",e),n._tryloadBrokenUrl(e,t,r)},r.image.src=e,r}},{key:"_fixImageCoordinates",value:function(e){0===e.width&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}]),e}(),vl=function(){function e(){cl(this,e),this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},_e(this.options,this.defaultOptions)}return dl(e,[{key:"setOptions",value:function(e){var t=["useDefaultGroups"];if(void 0!==e)for(var n in e)e.hasOwnProperty(n)&&-1===pr(t).call(t,n)&&this.add(n,e[n])}},{key:"clear",value:function(){this.groups={},this.groupsArray=[]}},{key:"get",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.groups[e];if(void 0===n&&t)if(!1===this.options.useDefaultGroups&&this.groupsArray.length>0){var i=this.groupIndex%this.groupsArray.length;this.groupIndex++,(n={}).color=this.groups[this.groupsArray[i]],this.groups[e]=n}else{var r=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++,(n={}).color=this.defaultGroups[r],this.groups[e]=n}return n}},{key:"add",value:function(e,t){return this.groups[e]=t,this.groupsArray.push(e),t}}]),e}(),yl=[].slice,gl=/MSIE .\./.test(Ui),ml=function(e){return function(t,n){var i=arguments.length>2,r=i?yl.call(arguments,2):void 0;return e(i?function(){("function"==typeof t?t:Function(t)).apply(this,r)}:t,n)}};U({global:!0,bind:!0,forced:gl},{setTimeout:ml(s.setTimeout),setInterval:ml(s.setInterval)});var bl=R.setTimeout,_l=Vt.some,wl=ki("some"),kl=Oi("some");U({target:"Array",proto:!0,forced:!wl||!kl},{some:function(e){return _l(this,e,arguments.length>1?arguments[1]:void 0)}});var Cl=K("Array").some,xl=Array.prototype,Sl=s.isFinite;U({target:"Number",stat:!0},{isFinite:Number.isFinite||function(e){return"number"==typeof e&&Sl(e)}});var Ol=R.Number.isFinite;U({target:"Number",stat:!0},{isNaN:function(e){return e!=e}});var El=R.Number.isNaN,Tl=ut.f,Dl=a((function(){return!Object.getOwnPropertyNames(1)}));U({target:"Object",stat:!0,forced:Dl},{getOwnPropertyNames:Tl});var Ml=R.Object,Pl=_i.trim,Al=s.parseFloat,Il=1/Al(vi+"-0")!=-1/0?function(e){var t=Pl(String(e)),n=Al(t);return 0===n&&"-"==t.charAt(0)?-0:n}:Al;U({global:!0,forced:parseFloat!=Il},{parseFloat:Il});var Nl=R.parseFloat;function Fl(e,t){var n=["node","edge","label"],i=!0,r=jo(t,"chosen");if("boolean"==typeof r)i=r;else if("object"===Jr(r)){if(-1===pr(n).call(n,e))throw new Error("choosify: subOption '"+e+"' should be one of '"+n.join("', '")+"'");var o=jo(t,["chosen",e]);"boolean"!=typeof o&&"function"!=typeof o||(i=o)}return i}function Rl(e,t,n){if(e.width<=0||e.height<=0)return!1;if(void 0!==n){var i={x:t.x-n.x,y:t.y-n.y};if(0!==n.angle){var r=-n.angle;t={x:Math.cos(r)*i.x-Math.sin(r)*i.y,y:Math.sin(r)*i.x+Math.cos(r)*i.y}}else t=i}return e.left<t.x&&e.x+e.width>t.x&&e.top<t.y&&e.y+e.width>t.y}function jl(e){return"string"==typeof e&&""!==e}function zl(e,t,n,i){var r=i.x,o=i.y;if("function"==typeof i.distanceToBorder){var s=i.distanceToBorder(e,t),a=Math.sin(t)*s,l=Math.cos(t)*s;l===s?(r+=s,o=i.y):a===s?(r=i.x,o-=s):(r+=l,o-=a)}else i.shape.width>i.shape.height?(r=i.x+.5*i.shape.width,o=i.y-n):(r=i.x+n,o=i.y-.5*i.shape.height);return{x:r,y:o}}var Bl=K("Array").values,Ll=Array.prototype,Hl={DOMTokenList:!0,NodeList:!0},Vl=function(e){var t=e.values;return e===Ll||e instanceof Array&&t===Ll.values||Hl.hasOwnProperty(kt(e))?Bl:t},Wl=function(){function e(t){cl(this,e),this.measureText=t,this.current=0,this.width=0,this.height=0,this.lines=[]}return dl(e,[{key:"_add",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[e]&&(this.lines[e]={width:0,height:0,blocks:[]});var i=t;void 0!==t&&""!==t||(i=" ");var r=this.measureText(i,n),o=_e({},Vl(r));o.text=t,o.width=r.width,o.mod=n,void 0!==t&&""!==t||(o.width=0),this.lines[e].blocks.push(o),this.lines[e].width+=o.width}},{key:"curWidth",value:function(){var e=this.lines[this.current];return void 0===e?0:e.width}},{key:"append",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,e,t)}},{key:"newLine",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,e,t),this.current++}},{key:"determineLineHeights",value:function(){for(var e=0;e<this.lines.length;e++){var t=this.lines[e],n=0;if(void 0!==t.blocks)for(var i=0;i<t.blocks.length;i++){var r=t.blocks[i];n<r.height&&(n=r.height)}t.height=n}}},{key:"determineLabelSize",value:function(){for(var e=0,t=0,n=0;n<this.lines.length;n++){var i=this.lines[n];i.width>e&&(e=i.width),t+=i.height}this.width=e,this.height=t}},{key:"removeEmptyBlocks",value:function(){for(var e=[],t=0;t<this.lines.length;t++){var n=this.lines[t];if(0!==n.blocks.length&&(t!==this.lines.length-1||0!==n.width)){var i={};_e(i,n),i.blocks=[];for(var r=void 0,o=[],s=0;s<n.blocks.length;s++){var a=n.blocks[s];0!==a.width?o.push(a):void 0===r&&(r=a)}0===o.length&&void 0!==r&&o.push(r),i.blocks=o,e.push(i)}}return e}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}]),e}(),Yl={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/\_/,"`":/`/,afterBold:/[^\*]/,afterItal:/[^_]/,afterMono:/[^`]/},Ul=function(){function e(t){cl(this,e),this.text=t,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return dl(e,[{key:"mod",value:function(){return 0===this.modStack.length?"normal":this.modStack[0]}},{key:"modName",value:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":this.bold&&this.ital?"boldital":this.bold?"bold":this.ital?"ital":void 0}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(e){" "===e&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=e&&(this.buffer+=e)}},{key:"parseWS",value:function(e){return!!/[ \t]/.test(e)&&(this.mono?this.add(e):this.spacing=!0,!0)}},{key:"setTag",value:function(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}},{key:"unsetTag",value:function(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(e,t){return!(this.mono||this[e]||!this.match(t)||(this.setTag(e),0))}},{key:"match",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.prepareRegExp(e),i=Br(n,2),r=i[0],o=i[1],s=r.test(this.text.substr(this.position,o));return s&&t&&(this.position+=o-1),s}},{key:"parseEndTag",value:function(e,t,n){var i=this.mod()===e;return!(!(i="mono"===e?i&&this.mono:i&&!this.mono)||!this.match(t)||(void 0!==n?(this.position===this.text.length-1||this.match(n,!1))&&this.unsetTag(e):this.unsetTag(e),0))}},{key:"replace",value:function(e,t){return!!this.match(e)&&(this.add(t),this.position+=length-1,!0)}},{key:"prepareRegExp",value:function(e){var t,n;if(e instanceof RegExp)n=e,t=1;else{var i=Yl[e];n=void 0!==i?i:new RegExp(e),t=e.length}return[n,t]}}]),e}(),Gl=function(){function e(t,n,i,r){var o=this;cl(this,e),this.ctx=t,this.parent=n,this.selected=i,this.hover=r,this.lines=new Wl((function(e,n){if(void 0===e)return 0;var s=o.parent.getFormattingValues(t,i,r,n),a=0;return""!==e&&(a=o.ctx.measureText(e).width),{width:a,values:s}}))}return dl(e,[{key:"process",value:function(e){if(!jl(e))return this.lines.finalize();var t=this.parent.fontOptions;e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");var n=String(e).split("\n"),i=n.length;if(t.multi)for(var r=0;r<i;r++){var o=this.splitBlocks(n[r],t.multi);if(void 0!==o)if(0!==o.length){if(t.maxWdt>0)for(var s=0;s<o.length;s++)this.splitStringIntoLines(o[s].text,o[s].mod,!0);else for(var a=0;a<o.length;a++)this.lines.append(o[a].text,o[a].mod);this.lines.newLine()}else this.lines.newLine("")}else if(t.maxWdt>0)for(var l=0;l<i;l++)this.splitStringIntoLines(n[l]);else for(var u=0;u<i;u++)this.lines.newLine(n[u]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(e){var t="none";return"markdown"===e||"md"===e?t="markdown":!0!==e&&"html"!==e||(t="html"),t}},{key:"splitHtmlBlocks",value:function(e){for(var t=new Ul(e),n=function(e){return!!/&/.test(e)&&(t.replace(t.text,"&lt;","<")||t.replace(t.text,"&amp;","&")||t.add("&"),!0)};t.position<t.text.length;){var i=t.text.charAt(t.position);t.parseWS(i)||/</.test(i)&&(t.parseStartTag("bold","<b>")||t.parseStartTag("ital","<i>")||t.parseStartTag("mono","<code>")||t.parseEndTag("bold","</b>")||t.parseEndTag("ital","</i>")||t.parseEndTag("mono","</code>"))||n(i)||t.add(i),t.position++}return t.emitBlock(),t.blocks}},{key:"splitMarkdownBlocks",value:function(e){for(var t=this,n=new Ul(e),i=!0,r=function(e){return!!/\\/.test(e)&&(n.position<t.text.length+1&&(n.position++,e=t.text.charAt(n.position),/ \t/.test(e)?n.spacing=!0:(n.add(e),i=!1)),!0)};n.position<n.text.length;){var o=n.text.charAt(n.position);n.parseWS(o)||r(o)||(i||n.spacing)&&(n.parseStartTag("bold","*")||n.parseStartTag("ital","_")||n.parseStartTag("mono","`"))||n.parseEndTag("bold","*","afterBold")||n.parseEndTag("ital","_","afterItal")||n.parseEndTag("mono","`","afterMono")||(n.add(o),i=!1),n.position++}return n.emitBlock(),n.blocks}},{key:"splitBlocks",value:function(e,t){var n=this.decodeMarkupSystem(t);return"none"===n?[{text:e,mod:"normal"}]:"markdown"===n?this.splitMarkdownBlocks(e):"html"===n?this.splitHtmlBlocks(e):void 0}},{key:"overMaxWidth",value:function(e){var t=this.ctx.measureText(e).width;return this.lines.curWidth()+t>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(e){for(var t="",n=0;n<e.length;){var i=t+(""===t?"":" ")+e[n];if(this.overMaxWidth(i))break;t=i,n++}return n}},{key:"getLongestFitWord",value:function(e){for(var t=0;t<e.length&&!this.overMaxWidth(Qr(e).call(e,0,t));)t++;return t}},{key:"splitStringIntoLines",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.parent.getFormattingValues(this.ctx,this.selected,this.hover,t);for(var i=(e=(e=e.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");i.length>0;){var r=this.getLongestFit(i);if(0===r){var o=i[0],s=this.getLongestFitWord(o);this.lines.newLine(Qr(o).call(o,0,s),t),i[0]=Qr(o).call(o,s)}else{var a=r;" "===i[r-1]?r--:" "===i[a]&&a++;var l=Qr(i).call(i,0,r).join("");r==i.length&&n?this.lines.append(l,t):this.lines.newLine(l,t),i=Qr(i).call(i,a)}}}}]),e}(),ql=["bold","ital","boldital","mono"],Zl=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];cl(this,e),this.body=t,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(n),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=i}return dl(e,[{key:"setOptions",value:function(e){if(this.elementOptions=e,this.initFontOptions(e.font),jl(e.label)?this.labelDirty=!0:e.label=void 0,null!=e.font)if("string"==typeof e.font)this.baseSize=this.fontOptions.size;else if("object"===Jr(e.font)){var t=e.font.size;void 0!==t&&(this.baseSize=t)}}},{key:"initFontOptions",value:function(t){var n=this;Co(ql,(function(e){n.fontOptions[e]={}})),e.parseFontString(this.fontOptions,t)?this.fontOptions.vadjust=0:Co(t,(function(e,t){null!=e&&"object"!==Jr(e)&&(n.fontOptions[t]=e)}))}},{key:"constrain",value:function(e){var t={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=jo(e,"widthConstraint");if("number"==typeof n)t.maxWdt=Number(n),t.minWdt=Number(n);else if("object"===Jr(n)){var i=jo(e,["widthConstraint","maximum"]);"number"==typeof i&&(t.maxWdt=Number(i));var r=jo(e,["widthConstraint","minimum"]);"number"==typeof r&&(t.minWdt=Number(r))}var o=jo(e,"heightConstraint");if("number"==typeof o)t.minHgt=Number(o);else if("object"===Jr(o)){var s=jo(e,["heightConstraint","minimum"]);"number"==typeof s&&(t.minHgt=Number(s));var a=jo(e,["heightConstraint","valign"]);"string"==typeof a&&("top"!==a&&"bottom"!==a||(t.valign=a))}return t}},{key:"update",value:function(e,t){this.setOptions(e,!0),this.propagateFonts(t),bo(this.fontOptions,this.constrain(t)),this.fontOptions.chooser=Fl("label",t)}},{key:"adjustSizes",value:function(e){var t=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=t,this.fontOptions.minWdt-=t),this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=e?e.top+e.bottom:0)}},{key:"addFontOptionsToPile",value:function(e,t){for(var n=0;n<t.length;++n)this.addFontToPile(e,t[n])}},{key:"addFontToPile",value:function(e,t){void 0!==t&&null!=t.font&&e.push(t.font)}},{key:"getBasicOptions",value:function(t){for(var n={},i=0;i<t.length;++i){var r=t[i],o={};e.parseFontString(o,r)&&(r=o),Co(r,(function(e,t){void 0!==e&&(n.hasOwnProperty(t)||(n[t]=-1!==pr(ql).call(ql,t)?{}:e))}))}return n}},{key:"getFontOption",value:function(t,n,i){for(var r,o=0;o<t.length;++o){var s=t[o];if(s.hasOwnProperty(n)){if(null==(r=s[n]))continue;var a={};if(e.parseFontString(a,r)&&(r=a),r.hasOwnProperty(i))return r[i]}}if(this.fontOptions.hasOwnProperty(i))return this.fontOptions[i];throw new Error("Did not find value for multi-font for property: '"+i+"'")}},{key:"getFontOptions",value:function(e,t){for(var n={},i=["color","size","face","mod","vadjust"],r=0;r<i.length;++r){var o=i[r];n[o]=this.getFontOption(e,t,o)}return n}},{key:"propagateFonts",value:function(e){var t=this,n=[];this.addFontOptionsToPile(n,e),this.fontOptions=this.getBasicOptions(n);for(var i=function(e){var i=ql[e],r=t.fontOptions[i];Co(t.getFontOptions(n,i),(function(e,t){r[t]=e})),r.size=Number(r.size),r.vadjust=Number(r.vadjust)},r=0;r<ql.length;++r)i(r)}},{key:"draw",value:function(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var s=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&s<this.elementOptions.scaling.label.drawThreshold-1||(s>=this.elementOptions.scaling.label.maxVisible&&(s=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,i,r,t,n,o),this._drawBackground(e),this._drawText(e,t,this.size.yLine,o,s))}}},{key:"_drawBackground",value:function(e){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){e.fillStyle=this.fontOptions.background;var t=this.getSize();e.fillRect(t.left,t.top,t.width,t.height)}}},{key:"_drawText",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle",r=arguments.length>4?arguments[4]:void 0,o=this._setAlignment(e,t,n,i),s=Br(o,2);t=s[0],n=s[1],e.textAlign="left",t-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(n-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(n+=(this.size.height-this.size.labelHeight)/2));for(var a=0;a<this.lineCount;a++){var l=this.lines[a];if(l&&l.blocks){var u=0;this.isEdgeLabel||"center"===this.fontOptions.align?u+=(this.size.width-l.width)/2:"right"===this.fontOptions.align&&(u+=this.size.width-l.width);for(var c=0;c<l.blocks.length;c++){var h=l.blocks[c];e.font=h.font;var d=this._getColor(h.color,r,h.strokeColor),f=Br(d,2),p=f[0],v=f[1];h.strokeWidth>0&&(e.lineWidth=h.strokeWidth,e.strokeStyle=v,e.lineJoin="round"),e.fillStyle=p,h.strokeWidth>0&&e.strokeText(h.text,t+u,n+h.vadjust),e.fillText(h.text,t+u,n+h.vadjust),u+=h.width}n+=l.height}}}},{key:"_setAlignment",value:function(e,t,n,i){return this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf?(t=0,n=0,"top"===this.fontOptions.align?(e.textBaseline="alphabetic",n-=4):"bottom"===this.fontOptions.align?(e.textBaseline="hanging",n+=4):e.textBaseline="middle"):e.textBaseline=i,[t,n]}},{key:"_getColor",value:function(e,t,n){var i=e||"#000000",r=n||"#ffffff";if(t<=this.elementOptions.scaling.label.drawThreshold){var o=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-t)));i=So(i,o),r=So(r,o)}return[i,r]}},{key:"getTextSize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._processLabel(e,t,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var e=this.size.left,t=this.size.top-1;if(this.isEdgeLabel){var n=.5*-this.size.width;switch(this.fontOptions.align){case"middle":e=n,t=.5*-this.size.height;break;case"top":e=n,t=-(this.size.height+2);break;case"bottom":e=n,t=2}}return{left:e,top:t,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(e,t,n),this.size.left=i-.5*this.size.width,this.size.top=r-.5*this.size.height,this.size.yLine=r+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===o&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(e,t,n,i){var r=function(e,t,n){return"normal"===t?"mod"===n?"":e[n]:void 0!==e[t][n]?e[t][n]:e[n]},o={color:r(this.fontOptions,i,"color"),size:r(this.fontOptions,i,"size"),face:r(this.fontOptions,i,"face"),mod:r(this.fontOptions,i,"mod"),vadjust:r(this.fontOptions,i,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(t||n)&&("normal"===i&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?o.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(o,this.elementOptions.id,t,n));var s="";return void 0!==o.mod&&""!==o.mod&&(s+=o.mod+" "),e.font=(s+=o.size+"px "+o.face).replace(/"/g,""),o.font=e.font,o.height=o.size,o}},{key:"differentState",value:function(e,t){return e!==this.selectedState||t!==this.hoverState}},{key:"_processLabelText",value:function(e,t,n,i){return new Gl(e,this,t,n).process(i)}},{key:"_processLabel",value:function(e,t,n){if(!1!==this.labelDirty||this.differentState(t,n)){var i=this._processLabelText(e,t,n,this.elementOptions.label);this.fontOptions.minWdt>0&&i.width<this.fontOptions.minWdt&&(i.width=this.fontOptions.minWdt),this.size.labelHeight=i.height,this.fontOptions.minHgt>0&&i.height<this.fontOptions.minHgt&&(i.height=this.fontOptions.minHgt),this.lines=i.lines,this.lineCount=i.lines.length,this.size.width=i.width,this.size.height=i.height,this.selectedState=t,this.hoverState=n,this.labelDirty=!1}}},{key:"visible",value:function(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(e,t){if(!t||"string"!=typeof t)return!1;var n=t.split(" ");return e.size=+n[0].replace("px",""),e.face=n[1],e.color=n[2],!0}}]),e}(),Xl=Ie("Reflect","construct"),Kl=a((function(){function e(){}return!(Xl((function(){}),[],e)instanceof e)})),Jl=!a((function(){Xl((function(){}))})),Ql=Kl||Jl;U({target:"Reflect",stat:!0,forced:Ql,sham:Ql},{construct:function(e,t){j(e),B(t);var n=arguments.length<3?e:j(arguments[2]);if(Jl&&!Kl)return Xl(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return i.push.apply(i,t),new(X.apply(e,i))}var r=n.prototype,o=ot(b(r)?r:Object.prototype),s=Function.apply.call(e,o,t);return b(s)?s:o}});var $l=R.Reflect.construct,eu=hi;U({target:"Object",stat:!0},{setPrototypeOf:An});var tu=R.Object.setPrototypeOf,nu=i((function(e){function t(n,i){return e.exports=t=tu||function(e,t){return e.__proto__=t,e},t(n,i)}e.exports=t})),iu=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=eu(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nu(e,t)},ru=function(e,t){return!t||"object"!==Jr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t},ou=or,su=i((function(e){function t(n){return e.exports=t=tu?ou:function(e){return e.__proto__||ou(e)},t(n)}e.exports=t}));U({target:"Array",proto:!0},{fill:function(e){for(var t=ye(this),n=re(t.length),i=arguments.length,r=ae(i>1?arguments[1]:void 0,n),o=i>2?arguments[2]:void 0,s=void 0===o?n:ae(o,n);s>r;)t[r++]=e;return t}});var au=K("Array").fill,lu=Array.prototype,uu=function(e){var t=e.fill;return e===lu||e instanceof Array&&t===lu.fill?au:t},cu=function(){function e(t,n,i){cl(this,e),this.body=n,this.labelModule=i,this.setOptions(t),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return dl(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"_setMargins",value:function(e){this.margin={},this.options.margin&&("object"==Jr(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(e,t){var n=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+n}},{key:"enableShadow",value:function(e,t){t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}},{key:"disableShadow",value:function(e,t){t.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(e,t){if(!1!==t.borderDashes)if(void 0!==e.setLineDash){var n=t.borderDashes;!0===n&&(n=[5,15]),e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1}},{key:"disableBorderDashes",value:function(e,t){!1!==t.borderDashes&&(void 0!==e.setLineDash?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1))}},{key:"needsRefresh",value:function(e,t){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(e,t)}},{key:"initContextForDraw",value:function(e,t){e.lineWidth=Math.min(this.width,t.borderWidth/this.body.view.scale),e.strokeStyle=t.borderColor,e.fillStyle=t.color}},{key:"performStroke",value:function(e,t){var n=t.borderWidth/this.body.view.scale;e.save(),n>0&&(this.enableBorderDashes(e,t),e.stroke(),this.disableBorderDashes(e,t)),e.restore()}},{key:"performFill",value:function(e,t){e.save(),e.fillStyle=t.color,this.enableShadow(e,t),uu(e).call(e),this.disableShadow(e,t),e.restore(),this.performStroke(e,t)}},{key:"_addBoundingBoxMargin",value:function(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}},{key:"_updateBoundingBox",value:function(e,t,n,i,r){void 0!==n&&this.resize(n,i,r),this.left=e-this.width/2,this.top=t-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(e,t,n,i,r){this._updateBoundingBox(e,t,n,i,r)}},{key:"getDimensionsFromLabel",value:function(e,t,n){this.textSize=this.labelModule.getTextSize(e,t,n);var i=this.textSize.width,r=this.textSize.height;return 0===i&&(i=14,r=14),{width:i,height:r}}}]),e}(),hu=function(e){iu(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!$l)return!1;if($l.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call($l(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=su(e);if(t){var r=su(this).constructor;n=$l(i,arguments,r)}else n=i.apply(this,arguments);return ru(this,n)}}(n);function n(e,i,r){var o;return cl(this,n),(o=t.call(this,e,i,r))._setMargins(r),o}return dl(n,[{key:"resize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(t,n)){var i=this.getDimensionsFromLabel(e,t,n);this.width=i.width+this.margin.right+this.margin.left,this.height=i.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(e,t,n,i,r,o){this.resize(e,i,r),this.left=t-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,o),ke(e,this.left,this.top,this.width,this.height,o.borderRadius),this.performFill(e,o),this.updateBoundingBox(t,n,e,i,r),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,r)}},{key:"updateBoundingBox",value:function(e,t,n,i,r){this._updateBoundingBox(e,t,n,i,r),this._addBoundingBoxMargin(this.options.shapeProperties.borderRadius)}},{key:"distanceToBorder",value:function(e,t){e&&this.resize(e);var n=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+n}}]),n}(cu),du=function(e){iu(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!$l)return!1;if($l.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call($l(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=su(e);if(t){var r=su(this).constructor;n=$l(i,arguments,r)}else n=i.apply(this,arguments);return ru(this,n)}}(n);function n(e,i,r){var o;return cl(this,n),(o=t.call(this,e,i,r)).labelOffset=0,o.selected=!1,o}return dl(n,[{key:"setOptions",value:function(e,t,n){this.options=e,void 0===t&&void 0===n||this.setImages(t,n)}},{key:"setImages",value:function(e,t){t&&this.selected?(this.imageObj=t,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=t)}},{key:"switchImages",value:function(e){var t=e&&!this.selected||!e&&this.selected;if(this.selected=e,void 0!==this.imageObjAlt&&t){var n=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=n}}},{key:"_getImagePadding",value:function(){var e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var t=this.options.imagePadding;"object"==Jr(t)?(e.top=t.top,e.right=t.right,e.bottom=t.bottom,e.left=t.left):(e.top=t,e.right=t,e.bottom=t,e.left=t)}return e}},{key:"_resizeImage",value:function(){var e,t;if(!1===this.options.shapeProperties.useImageSize){var n=1,i=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?n=this.imageObj.width/this.imageObj.height:i=this.imageObj.height/this.imageObj.width),e=2*this.options.size*n,t=2*this.options.size*i}else{var r=this._getImagePadding();e=this.imageObj.width+r.left+r.right,t=this.imageObj.height+r.top+r.bottom}this.width=e,this.height=t,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(e,t,n,i){this.initContextForDraw(e,i),we(e,t,n,i.size),this.performFill(e,i)}},{key:"_drawImageAtPosition",value:function(e,t){if(0!=this.imageObj.width){e.globalAlpha=void 0!==t.opacity?t.opacity:1,this.enableShadow(e,t);var n=1;!0===this.options.shapeProperties.interpolation&&(n=this.imageObj.width/this.width/this.body.view.scale);var i=this._getImagePadding();this.imageObj.drawImageAtPosition(e,n,this.left+i.left,this.top+i.top,this.width-i.left-i.right,this.height-i.top-i.bottom),this.disableShadow(e,t)}}},{key:"_drawImageLabel",value:function(e,t,n,i,r){var o,s=0;if(void 0!==this.height){s=.5*this.height;var a=this.labelModule.getTextSize(e,i,r);a.lineCount>=1&&(s+=a.height/2)}o=n+s,this.options.label&&(this.labelOffset=s),this.labelModule.draw(e,t,o,i,r,"hanging")}}]),n}(cu),fu=function(e){iu(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!$l)return!1;if($l.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call($l(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=su(e);if(t){var r=su(this).constructor;n=$l(i,arguments,r)}else n=i.apply(this,arguments);return ru(this,n)}}(n);function n(e,i,r){var o;return cl(this,n),(o=t.call(this,e,i,r))._setMargins(r),o}return dl(n,[{key:"resize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(t,n)){var i=this.getDimensionsFromLabel(e,t,n),r=Math.max(i.width+this.margin.right+this.margin.left,i.height+this.margin.top+this.margin.bottom);this.options.size=r/2,this.width=r,this.height=r,this.radius=this.width/2}}},{key:"draw",value:function(e,t,n,i,r,o){this.resize(e,i,r),this.left=t-this.width/2,this.top=n-this.height/2,this._drawRawCircle(e,t,n,o),this.updateBoundingBox(t,n),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,n,i,r)}},{key:"updateBoundingBox",value:function(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size}},{key:"distanceToBorder",value:function(e,t){return e&&this.resize(e),.5*this.width}}]),n}(du),pu=function(e){iu(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!$l)return!1;if($l.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call($l(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=su(e);if(t){var r=su(this).constructor;n=$l(i,arguments,r)}else n=i.apply(this,arguments);return ru(this,n)}}(n);function n(e,i,r,o,s){var a;return cl(this,n),(a=t.call(this,e,i,r)).setImages(o,s),a}return dl(n,[{key:"resize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,i=void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height;if(i){var r=2*this.options.size;return this.width=r,this.height=r,void(this.radius=.5*this.width)}this.needsRefresh(t,n)&&this._resizeImage()}},{key:"draw",value:function(e,t,n,i,r,o){this.switchImages(i),this.resize(),this.left=t-this.width/2,this.top=n-this.height/2,this._drawRawCircle(e,t,n,o),e.save(),e.clip(),this._drawImageAtPosition(e,o),e.restore(),this._drawImageLabel(e,t,n,i,r),this.updateBoundingBox(t,n)}},{key:"updateBoundingBox",value:function(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size,this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(e,t){return e&&this.resize(e),.5*this.width}}]),n}(du),vu=function(e){iu(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!$l)return!1;if($l.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call($l(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=su(e);if(t){var r=su(this).constructor;n=$l(i,arguments,r)}else n=i.apply(this,arguments);return ru(this,n)}}(n);function n(e,i,r){var o;return cl(this,n),(o=t.call(this,e,i,r))._setMargins(r),o}return dl(n,[{key:"resize",value:function(e,t,n){if(this.needsRefresh(t,n)){var i=this.getDimensionsFromLabel(e,t,n).width+this.margin.right+this.margin.left;this.width=i,this.height=i,this.radius=this.width/2}}},{key:"draw",value:function(e,t,n,i,r,o){this.resize(e,i,r),this.left=t-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,o),xe(e,t-this.width/2,n-this.height/2,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(t,n,e,i,r),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,r)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),n}(cu),yu=function(e){iu(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!$l)return!1;if($l.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call($l(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=su(e);if(t){var r=su(this).constructor;n=$l(i,arguments,r)}else n=i.apply(this,arguments);return ru(this,n)}}(n);function n(e,i,r){return cl(this,n),t.call(this,e,i,r)}return dl(n,[{key:"resize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(t,n)){this.labelModule.getTextSize(e,t,n);var r=2*i.size;this.width=r,this.height=r,this.radius=.5*this.width}}},{key:"_drawShape",value:function(e,t,n,i,r,o,s,a){var l;this.resize(e,o,s,a),this.left=i-this.width/2,this.top=r-this.height/2,this.initContextForDraw(e,a),(l=t,Object.prototype.hasOwnProperty.call(Oe,l)?Oe[l]:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];CanvasRenderingContext2D.prototype[l].call(e,n)})(e,i,r,a.size),this.performFill(e,a),void 0!==this.options.icon&&void 0!==this.options.icon.code&&(e.font=(o?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,i,r)),void 0!==this.options.label&&(this.labelModule.calculateLabelSize(e,o,s,i,r,"hanging"),this.labelModule.draw(e,i,r+.5*this.height+.5*this.labelModule.size.height,o,s,"hanging")),this.updateBoundingBox(i,r)}},{key:"updateBoundingBox",value:function(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),n}(cu),gu=function(e){iu(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!$l)return!1;if($l.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call($l(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=su(e);if(t){var r=su(this).constructor;n=$l(i,arguments,r)}else n=i.apply(this,arguments);return ru(this,n)}}(n);function n(e,i,r){return cl(this,n),t.call(this,e,i,r)}return dl(n,[{key:"draw",value:function(e,t,n,i,r,o){this._drawShape(e,"diamond",4,t,n,i,r,o)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),n}(yu),mu=function(e){iu(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!$l)return!1;if($l.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call($l(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=su(e);if(t){var r=su(this).constructor;n=$l(i,arguments,r)}else n=i.apply(this,arguments);return ru(this,n)}}(n);function n(e,i,r){return cl(this,n),t.call(this,e,i,r)}return dl(n,[{key:"draw",value:function(e,t,n,i,r,o){this._drawShape(e,"circle",2,t,n,i,r,o)}},{key:"distanceToBorder",value:function(e,t){return e&&this.resize(e),this.options.size}}]),n}(yu),bu=function(e){iu(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!$l)return!1;if($l.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call($l(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=su(e);if(t){var r=su(this).constructor;n=$l(i,arguments,r)}else n=i.apply(this,arguments);return ru(this,n)}}(n);function n(e,i,r){return cl(this,n),t.call(this,e,i,r)}return dl(n,[{key:"resize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(t,n)){var i=this.getDimensionsFromLabel(e,t,n);this.height=2*i.height,this.width=i.width+i.height,this.radius=.5*this.width}}},{key:"draw",value:function(e,t,n,i,r,o){this.resize(e,i,r),this.left=t-.5*this.width,this.top=n-.5*this.height,this.initContextForDraw(e,o),Ce(e,this.left,this.top,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(t,n,e,i,r),this.labelModule.draw(e,t,n,i,r)}},{key:"distanceToBorder",value:function(e,t){e&&this.resize(e);var n=.5*this.width,i=.5*this.height,r=Math.sin(t)*n,o=Math.cos(t)*i;return n*i/Math.sqrt(r*r+o*o)}}]),n}(cu),_u=function(e){iu(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!$l)return!1;if($l.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call($l(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=su(e);if(t){var r=su(this).constructor;n=$l(i,arguments,r)}else n=i.apply(this,arguments);return ru(this,n)}}(n);function n(e,i,r){var o;return cl(this,n),(o=t.call(this,e,i,r))._setMargins(r),o}return dl(n,[{key:"resize",value:function(e,t,n){this.needsRefresh(t,n)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(e,t,n,i,r,o){this.resize(e,i,r),this.options.icon.size=this.options.icon.size||50,this.left=t-this.width/2,this.top=n-this.height/2,this._icon(e,t,n,i,r,o),void 0!==this.options.label&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,n+this.height/2+5,i),this.updateBoundingBox(t,n)}},{key:"updateBoundingBox",value:function(e,t){this.boundingBox.top=t-.5*this.options.icon.size,this.boundingBox.left=e-.5*this.options.icon.size,this.boundingBox.right=e+.5*this.options.icon.size,this.boundingBox.bottom=t+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}},{key:"_icon",value:function(e,t,n,i,r,o){var s=Number(this.options.icon.size);void 0!==this.options.icon.code?(e.font=[null!=this.options.icon.weight?this.options.icon.weight:i?"bold":"",(null!=this.options.icon.weight&&i?5:0)+s+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,o),e.fillText(this.options.icon.code,t,n),this.disableShadow(e,o)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),n}(cu),wu=function(e){iu(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!$l)return!1;if($l.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call($l(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=su(e);if(t){var r=su(this).constructor;n=$l(i,arguments,r)}else n=i.apply(this,arguments);return ru(this,n)}}(n);function n(e,i,r,o,s){var a;return cl(this,n),(a=t.call(this,e,i,r)).setImages(o,s),a}return dl(n,[{key:"resize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,i=void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height;if(i){var r=2*this.options.size;return this.width=r,void(this.height=r)}this.needsRefresh(t,n)&&this._resizeImage()}},{key:"draw",value:function(e,t,n,i,r,o){if(e.save(),this.switchImages(i),this.resize(),this.left=t-this.width/2,this.top=n-this.height/2,!0===this.options.shapeProperties.useBorderWithImage){e.lineWidth=Math.min(this.width,(i?this.options.borderWidthSelected||2*this.options.borderWidth:this.options.borderWidth)/this.body.view.scale),e.beginPath();var s=i?this.options.color.highlight.border:r?this.options.color.hover.border:this.options.color.border,a=i?this.options.color.highlight.background:r?this.options.color.hover.background:this.options.color.background;void 0!==o.opacity&&(s=So(s,o.opacity),a=So(a,o.opacity)),e.strokeStyle=s,e.fillStyle=a,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),uu(e).call(e),this.performStroke(e,o),e.closePath()}this._drawImageAtPosition(e,o),this._drawImageLabel(e,t,n,i,r),this.updateBoundingBox(t,n),e.restore()}},{key:"updateBoundingBox",value:function(e,t){this.resize(),this._updateBoundingBox(e,t),void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),n}(du),ku=function(e){iu(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!$l)return!1;if($l.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call($l(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=su(e);if(t){var r=su(this).constructor;n=$l(i,arguments,r)}else n=i.apply(this,arguments);return ru(this,n)}}(n);function n(e,i,r){return cl(this,n),t.call(this,e,i,r)}return dl(n,[{key:"draw",value:function(e,t,n,i,r,o){this._drawShape(e,"square",2,t,n,i,r,o)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),n}(yu),Cu=function(e){iu(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!$l)return!1;if($l.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call($l(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=su(e);if(t){var r=su(this).constructor;n=$l(i,arguments,r)}else n=i.apply(this,arguments);return ru(this,n)}}(n);function n(e,i,r){return cl(this,n),t.call(this,e,i,r)}return dl(n,[{key:"draw",value:function(e,t,n,i,r,o){this._drawShape(e,"hexagon",4,t,n,i,r,o)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),n}(yu),xu=function(e){iu(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!$l)return!1;if($l.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call($l(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=su(e);if(t){var r=su(this).constructor;n=$l(i,arguments,r)}else n=i.apply(this,arguments);return ru(this,n)}}(n);function n(e,i,r){return cl(this,n),t.call(this,e,i,r)}return dl(n,[{key:"draw",value:function(e,t,n,i,r,o){this._drawShape(e,"star",4,t,n,i,r,o)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),n}(yu),Su=function(e){iu(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!$l)return!1;if($l.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call($l(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=su(e);if(t){var r=su(this).constructor;n=$l(i,arguments,r)}else n=i.apply(this,arguments);return ru(this,n)}}(n);function n(e,i,r){var o;return cl(this,n),(o=t.call(this,e,i,r))._setMargins(r),o}return dl(n,[{key:"resize",value:function(e,t,n){this.needsRefresh(t,n)&&(this.textSize=this.labelModule.getTextSize(e,t,n),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(e,t,n,i,r,o){this.resize(e,i,r),this.left=t-this.width/2,this.top=n-this.height/2,this.enableShadow(e,o),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,r),this.disableShadow(e,o),this.updateBoundingBox(t,n,e,i,r)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),n}(cu),Ou=function(e){iu(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!$l)return!1;if($l.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call($l(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=su(e);if(t){var r=su(this).constructor;n=$l(i,arguments,r)}else n=i.apply(this,arguments);return ru(this,n)}}(n);function n(e,i,r){return cl(this,n),t.call(this,e,i,r)}return dl(n,[{key:"draw",value:function(e,t,n,i,r,o){this._drawShape(e,"triangle",3,t,n,i,r,o)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),n}(yu),Eu=function(e){iu(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!$l)return!1;if($l.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call($l(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=su(e);if(t){var r=su(this).constructor;n=$l(i,arguments,r)}else n=i.apply(this,arguments);return ru(this,n)}}(n);function n(e,i,r){return cl(this,n),t.call(this,e,i,r)}return dl(n,[{key:"draw",value:function(e,t,n,i,r,o){this._drawShape(e,"triangleDown",3,t,n,i,r,o)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),n}(yu),Tu=Ie("JSON","stringify"),Du=/[\uD800-\uDFFF]/g,Mu=/^[\uD800-\uDBFF]$/,Pu=/^[\uDC00-\uDFFF]$/,Au=function(e,t,n){var i=n.charAt(t-1),r=n.charAt(t+1);return Mu.test(e)&&!Pu.test(r)||Pu.test(e)&&!Mu.test(i)?"\\u"+e.charCodeAt(0).toString(16):e},Iu=a((function(){return'"\\udf06\\ud834"'!==Tu("\udf06\ud834")||'"\\udead"'!==Tu("\udead")}));Tu&&U({target:"JSON",stat:!0,forced:Iu},{stringify:function(e,t,n){var i=Tu.apply(null,arguments);return"string"==typeof i?i.replace(Du,Au):i}}),R.JSON||(R.JSON={stringify:JSON.stringify});var Nu,Fu=function(e,t,n){return R.JSON.stringify.apply(null,arguments)},Ru=!1,ju="background: #FFeeee; color: #dd0000",zu=function(){function e(){cl(this,e)}return dl(e,null,[{key:"validate",value:function(t,n,i){Ru=!1,Nu=n;var r=n;return void 0!==i&&(r=n[i]),e.parse(t,r,[]),Ru}},{key:"parse",value:function(t,n,i){for(var r in t)t.hasOwnProperty(r)&&e.check(r,t,n,i)}},{key:"check",value:function(t,n,i,r){if(void 0!==i[t]||void 0!==i.__any__){var o=t,s=!0;void 0===i[t]&&void 0!==i.__any__&&(o="__any__",s="object"===e.getType(n[t]));var a=i[o];s&&void 0!==a.__type__&&(a=a.__type__),e.checkFields(t,n,i,o,a,r)}else e.getSuggestion(t,i,r)}},{key:"checkFields",value:function(t,n,i,r,o,s){var a=function(n){console.log("%c"+n+e.printLocation(s,t),ju)},l=e.getType(n[t]),u=o[l];void 0!==u?"array"===e.getType(u)&&-1===pr(u).call(u,n[t])?(a('Invalid option detected in "'+t+'". Allowed values are:'+e.print(u)+' not "'+n[t]+'". '),Ru=!0):"object"===l&&"__any__"!==r&&(s=_o(s,t),e.parse(n[t],i[r],s)):void 0===o.any&&(a('Invalid type received for "'+t+'". Expected: '+e.print(Vr(o))+". Received ["+l+'] "'+n[t]+'"'),Ru=!0)}},{key:"getType",value:function(e){var t=Jr(e);return"object"===t?null===e?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Xr(e)?"array":e instanceof Date?"date":void 0!==e.nodeType?"dom":!0===e._isAMomentObject?"moment":"object":"number"===t?"number":"boolean"===t?"boolean":"string"===t?"string":void 0===t?"undefined":t}},{key:"getSuggestion",value:function(t,n,i){var r,o=e.findInOptions(t,n,i,!1),s=e.findInOptions(t,Nu,[],!0);r=void 0!==o.indexMatch?" in "+e.printLocation(o.path,t,"")+'Perhaps it was incomplete? Did you mean: "'+o.indexMatch+'"?\n\n':s.distance<=4&&o.distance>s.distance?" in "+e.printLocation(o.path,t,"")+"Perhaps it was misplaced? Matching option found at: "+e.printLocation(s.path,s.closestMatch,""):o.distance<=8?'. Did you mean "'+o.closestMatch+'"?'+e.printLocation(o.path,t):". Did you mean one of these: "+e.print(Vr(n))+e.printLocation(i,t),console.log('%cUnknown option detected: "'+t+'"'+r,ju),Ru=!0}},{key:"findInOptions",value:function(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=1e9,s="",a=[],l=t.toLowerCase(),u=void 0;for(var c in n){var h=void 0;if(void 0!==n[c].__type__&&!0===r){var d=e.findInOptions(t,n[c],_o(i,c));o>d.distance&&(s=d.closestMatch,a=d.path,o=d.distance,u=d.indexMatch)}else{var f;-1!==pr(f=c.toLowerCase()).call(f,l)&&(u=c),o>(h=e.levenshteinDistance(t,c))&&(s=c,a=wo(i),o=h)}}return{closestMatch:s,path:a,distance:o,indexMatch:u}}},{key:"printLocation",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n",i="\n\n"+n+"options = {\n",r=0;r<e.length;r++){for(var o=0;o<r+1;o++)i+="  ";i+=e[r]+": {\n"}for(var s=0;s<e.length+1;s++)i+="  ";i+=t+"\n";for(var a=0;a<e.length+1;a++){for(var l=0;l<e.length-a;l++)i+="  ";i+="}\n"}return i+"\n\n"}},{key:"print",value:function(e){return Fu(e).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(e,t){if(0===e.length)return t.length;if(0===t.length)return e.length;var n,i,r=[];for(n=0;n<=t.length;n++)r[n]=[n];for(i=0;i<=e.length;i++)r[0][i]=i;for(n=1;n<=t.length;n++)for(i=1;i<=e.length;i++)r[n][i]=t.charAt(n-1)==e.charAt(i-1)?r[n-1][i-1]:Math.min(r[n-1][i-1]+1,Math.min(r[n][i-1]+1,r[n-1][i]+1));return r[t.length][e.length]}}]),e}();function Bu(e,t){var n=Vr(e);if(kn){var i=kn(e);t&&(i=ir(i).call(i,(function(t){return We(e,t).enumerable}))),n.push.apply(n,i)}return n}function Lu(e){for(var t=1;t<arguments.length;t++){var n,i=null!=arguments[t]?arguments[t]:{};if(t%2)Ni(n=Bu(Object(i),!0)).call(n,(function(t){pi(e,t,i[t])}));else if(ze)Pe(e,ze(i));else{var r;Ni(r=Bu(Object(i))).call(r,(function(t){De(e,t,We(i,t))}))}}return e}var Hu=function(){function e(t,n,i,r,o,s){cl(this,e),this.options=No(o),this.globalOptions=o,this.defaultOptions=s,this.body=n,this.edges=[],this.id=void 0,this.imagelist=i,this.grouplist=r,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new Zl(this.body,this.options,!1),this.setOptions(t)}return dl(e,[{key:"attachEdge",value:function(e){var t;-1===pr(t=this.edges).call(t,e)&&this.edges.push(e)}},{key:"detachEdge",value:function(e){var t,n,i=pr(t=this.edges).call(t,e);-1!=i&&Yo(n=this.edges).call(n,i,1)}},{key:"setOptions",value:function(t){var n=this.options.shape;if(t){if(void 0!==t.color&&(this._localColor=t.color),void 0!==t.id&&(this.id=t.id),void 0===this.id)throw new Error("Node must have an id");return e.checkMass(t,this.id),void 0!==t.x&&(null===t.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=Bi(t.x),this.predefinedPosition=!0)),void 0!==t.y&&(null===t.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=Bi(t.y),this.predefinedPosition=!0)),void 0!==t.size&&(this.baseSize=t.size),void 0!==t.value&&(t.value=Nl(t.value)),e.parseOptions(this.options,t,!0,this.globalOptions,this.grouplist),this.chooser=Fl("node",[t,this.options,this.defaultOptions]),this._load_images(),this.updateLabelModule(t),void 0!==t.opacity&&e.checkOpacity(t.opacity)&&(this.options.opacity=t.opacity),this.updateShape(n),void 0!==t.hidden||void 0!==t.physics}}},{key:"_load_images",value:function(){if(("circularImage"===this.options.shape||"image"===this.options.shape)&&void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0!==this.options.image){if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.imageObjAlt=void 0!==this.options.image.selected?this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):void 0}}}},{key:"getFormattingValues",value:function(){var e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?!0===this.chooser?this.selected?(e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(e,this.options.id,this.selected,this.hover),!1===e.shadow&&(e.shadowColor===this.options.shadow.color&&e.shadowSize===this.options.shadow.size&&e.shadowX===this.options.shadow.x&&e.shadowY===this.options.shadow.y||(e.shadow=!0))):e.shadow=this.options.shadow.enabled,void 0!==this.options.opacity){var t=this.options.opacity;e.borderColor=So(e.borderColor,t),e.color=So(e.color,t),e.shadowColor=So(e.shadowColor,t)}return e}},{key:"updateLabelModule",value:function(t){null!=this.options.label||(this.options.label=""),e.updateGroupOptions(this.options,Lu(Lu({},t),{},{color:t&&t.color||this._localColor||void 0}),this.grouplist);var n=this.grouplist.get(this.options.group,!1);this.labelModule.update(this.options,[t,this.options,n,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new hu(this.options,this.body,this.labelModule);break;case"circle":this.shape=new fu(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new pu(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"database":this.shape=new vu(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new gu(this.options,this.body,this.labelModule);break;case"dot":this.shape=new mu(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new bu(this.options,this.body,this.labelModule);break;case"icon":this.shape=new _u(this.options,this.body,this.labelModule);break;case"image":this.shape=new wu(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new ku(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new Cu(this.options,this.body,this.labelModule);break;case"star":this.shape=new xu(this.options,this.body,this.labelModule);break;case"text":this.shape=new Su(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new Ou(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new Eu(this.options,this.body,this.labelModule);break;default:this.shape=new bu(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(e,t){return this.shape.distanceToBorder(e,t)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(e,t,n){if(void 0!==this.options.value){var i=this.options.scaling.customScalingFunction(e,t,n,this.options.value),r=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+i*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.size=this.options.scaling.min+i*r}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(e){var t=this.getFormattingValues();this.shape.draw(e,this.x,this.y,this.selected,this.hover,t)}},{key:"updateBoundingBox",value:function(e){this.shape.updateBoundingBox(this.x,this.y,e)}},{key:"resize",value:function(e){var t=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,t)}},{key:"getItemsOnPoint",value:function(e){var t=[];return this.labelModule.visible()&&Rl(this.labelModule.getSize(),e)&&t.push({nodeId:this.id,labelId:0}),Rl(this.shape.boundingBox,e)&&t.push({nodeId:this.id}),t}},{key:"isOverlappingWith",value:function(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}},{key:"isBoundingBoxOverlappingWith",value:function(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}}],[{key:"checkOpacity",value:function(e){return 0<=e&&e<=1}},{key:"updateGroupOptions",value:function(t,n,i){var r;if(void 0!==i){var o=t.group;if(void 0!==n&&void 0!==n.group&&o!==n.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"==typeof o||"string"==typeof o&&""!=o){var s=i.get(o);void 0!==s.opacity&&void 0===n.opacity&&(e.checkOpacity(s.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+s.opacity),s.opacity=void 0));var a=ir(r=function(e){return Ml.getOwnPropertyNames(e)}(n)).call(r,(function(e){return null!=n[e]}));a.push("font"),mo(a,t,s),t.color=Eo(t.color)}}}},{key:"parseOptions",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0,s=["color","fixed","shadow"];if(mo(s,t,n,i),e.checkMass(n),void 0!==t.opacity&&(e.checkOpacity(t.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity),t.opacity=void 0)),void 0!==n.opacity&&(e.checkOpacity(n.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+n.opacity),n.opacity=void 0)),Fo(t,n,"shadow",r),null!=n.color){var a=Eo(n.color);yo(t.color,a)}else!0===i&&null===n.color&&(t.color=No(r.color));null!=n.fixed&&("boolean"==typeof n.fixed?(t.fixed.x=n.fixed,t.fixed.y=n.fixed):(void 0!==n.fixed.x&&"boolean"==typeof n.fixed.x&&(t.fixed.x=n.fixed.x),void 0!==n.fixed.y&&"boolean"==typeof n.fixed.y&&(t.fixed.y=n.fixed.y))),!0===i&&null===n.font&&(t.font=No(r.font)),e.updateGroupOptions(t,n,o),void 0!==n.scaling&&Fo(t.scaling,n.scaling,"label",r.scaling)}},{key:"checkMass",value:function(e,t){if(void 0!==e.mass&&e.mass<=0){var n="";void 0!==t&&(n=" in node id: "+t),console.log("%cNegative or zero mass disallowed"+n+", setting mass to 1.",ju),e.mass=1}}}]),e}();function Vu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Wu=function(){function e(t,n,i,r){var o,s=this;if(cl(this,e),this.body=t,this.images=n,this.groups=i,this.layoutEngine=r,this.body.functions.createNode=$(o=this.create).call(o,this),this.nodesListeners={add:function(e,t){s.add(t.items)},update:function(e,t){s.update(t.items,t.data,t.oldData)},remove:function(e,t){s.remove(t.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(e,t,n,i){return t===e?.5:Math.max(0,1/(t-e)*(i-e))}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=No(this.defaultOptions),this.bindEventListeners()}return dl(e,[{key:"bindEventListeners",value:function(){var e,t,n=this;this.body.emitter.on("refreshNodes",$(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",$(t=this.refresh).call(t,this)),this.body.emitter.on("destroy",(function(){Co(n.nodesListeners,(function(e,t){n.body.data.nodes&&n.body.data.nodes.off(t,e)})),delete n.body.functions.createNode,delete n.nodesListeners.add,delete n.nodesListeners.update,delete n.nodesListeners.remove,delete n.nodesListeners}))}},{key:"setOptions",value:function(e){if(void 0!==e){if(Hu.parseOptions(this.options,e),void 0!==e.opacity&&(El(e.opacity)||!Ol(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),void 0!==e.shape)for(var t in this.body.nodes)this.body.nodes.hasOwnProperty(t)&&this.body.nodes[t].updateShape();if(void 0!==e.font||void 0!==e.widthConstraint||void 0!==e.heightConstraint)for(var n=0,i=Vr(this.body.nodes);n<i.length;n++){var r=i[n];this.body.nodes[r].updateLabelModule(),this.body.nodes[r].needsRefresh()}if(void 0!==e.size)for(var o in this.body.nodes)this.body.nodes.hasOwnProperty(o)&&this.body.nodes[o].needsRefresh();void 0===e.hidden&&void 0===e.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.data.nodes;if(e instanceof t.DataSet||e instanceof t.DataView)this.body.data.nodes=e;else if(Xr(e))this.body.data.nodes=new t.DataSet,this.body.data.nodes.add(e);else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new t.DataSet}if(i&&Co(this.nodesListeners,(function(e,t){i.off(t,e)})),this.body.nodes={},this.body.data.nodes){var r=this;Co(this.nodesListeners,(function(e,t){r.body.data.nodes.on(t,e)}));var o=this.body.data.nodes.getIds();this.add(o,!0)}!1===n&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=[],r=0;r<e.length;r++){var o=this.body.data.nodes.get(t=e[r]),s=this.create(o);i.push(s),this.body.nodes[t]=s}this.layoutEngine.positionInitially(i),!1===n&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e,t,n){for(var i=this.body.nodes,r=!1,o=0;o<e.length;o++){var s=e[o],a=i[s],l=t[o];void 0!==a?a.setOptions(l)&&(r=!0):(r=!0,a=this.create(l),i[s]=a)}r||void 0===n||(r=function(e){var t=e.some;return e===xl||e instanceof Array&&t===xl.some?Cl:t}(t).call(t,(function(e,t){var i=n[t];return i&&i.level!==e.level}))),this.body.emitter.emit(!0===r?"_dataChanged":"_dataUpdated")}},{key:"remove",value:function(e){for(var t=this.body.nodes,n=0;n<e.length;n++)delete t[e[n]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hu;return new t(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Co(this.body.nodes,(function(n,i){var r=e.body.data.nodes.get(i);void 0!==r&&(!0===t&&n.setOptions({x:null,y:null}),n.setOptions({fixed:!1}),n.setOptions(r))}))}},{key:"getPositions",value:function(e){var t={};if(void 0!==e){if(!0===Xr(e)){for(var n=0;n<e.length;n++)if(void 0!==this.body.nodes[e[n]]){var i=this.body.nodes[e[n]];t[e[n]]={x:Math.round(i.x),y:Math.round(i.y)}}}else if(void 0!==this.body.nodes[e]){var r=this.body.nodes[e];t[e]={x:Math.round(r.x),y:Math.round(r.y)}}}else for(var o=0;o<this.body.nodeIndices.length;o++){var s=this.body.nodes[this.body.nodeIndices[o]];t[this.body.nodeIndices[o]]={x:Math.round(s.x),y:Math.round(s.y)}}return t}},{key:"getPosition",value:function(e){if(null==e)throw new TypeError("No id was specified for getPosition method.");if(null==this.body.nodes[e])throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}},{key:"storePositions",value:function(){var e,t=[],n=this.body.data.nodes.getDataSet(),i=function(e,t){var n;if(void 0===no||null==Jn(e)){if(Xr(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return Vu(e,t);var i=Qr(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?li(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Vu(e,t):void 0}}(e))){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=Kn(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}(n.get());try{for(i.s();!(e=i.n()).done;){var r=e.value,o=r.id,s=this.body.nodes[o],a=Math.round(s.x),l=Math.round(s.y);r.x===a&&r.y===l||t.push({id:o,x:a,y:l})}}catch(e){i.e(e)}finally{i.f()}n.update(t)}},{key:"getBoundingBox",value:function(e){if(void 0!==this.body.nodes[e])return this.body.nodes[e].shape.boundingBox}},{key:"getConnectedNodes",value:function(e,t){var n=[];if(void 0!==this.body.nodes[e])for(var i=this.body.nodes[e],r={},o=0;o<i.edges.length;o++){var s=i.edges[o];"to"!==t&&s.toId==i.id?void 0===r[s.fromId]&&(n.push(s.fromId),r[s.fromId]=!0):"from"!==t&&s.fromId==i.id&&void 0===r[s.toId]&&(n.push(s.toId),r[s.toId]=!0)}return n}},{key:"getConnectedEdges",value:function(e){var t=[];if(void 0!==this.body.nodes[e])for(var n=this.body.nodes[e],i=0;i<n.edges.length;i++)t.push(n.edges[i].id);else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return t}},{key:"moveNode",value:function(e,t,n){var i=this;void 0!==this.body.nodes[e]?(this.body.nodes[e].x=Number(t),this.body.nodes[e].y=Number(n),bl((function(){i.body.emitter.emit("startSimulation")}),0)):console.log("Node id supplied to moveNode does not exist. Provided: ",e)}}]),e}(),Yu=Ve;U({target:"Reflect",stat:!0},{get:function e(t,n){var i,r,o=arguments.length<3?t:arguments[2];return B(t)===o?t[n]:(i=T.f(t,n))?k(i,"value")?i.value:void 0===i.get?void 0:i.get.call(o):b(r=En(t))?e(r,n,o):void 0}});var Uu=R.Reflect.get,Gu=i((function(e){function t(n,i,r){return e.exports=t="undefined"!=typeof Reflect&&Uu?Uu:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=su(e)););return e}(e,t);if(i){var r=Yu(i,t);return r.get?r.get.call(n):r.value}},t(n,i,r||n)}e.exports=t})),qu=Math.hypot,Zu=Math.abs,Xu=Math.sqrt,Ku=!!qu&&qu(1/0,NaN)!==1/0;U({target:"Math",stat:!0,forced:Ku},{hypot:function(e,t){for(var n,i,r=0,o=0,s=arguments.length,a=0;o<s;)a<(n=Zu(arguments[o++]))?(r=r*(i=a/n)*i+1,a=n):r+=n>0?(i=n/a)*i:n;return a===1/0?1/0:a*Xu(r)}});var Ju=R.Math.hypot;function Qu(e){var t=function(){if("undefined"==typeof Reflect||!$l)return!1;if($l.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call($l(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=su(e);if(t){var r=su(this).constructor;n=$l(i,arguments,r)}else n=i.apply(this,arguments);return ru(this,n)}}var $u=function(){function e(){cl(this,e)}return dl(e,null,[{key:"transform",value:function(e,t){Xr(e)||(e=[e]);for(var n=t.point.x,i=t.point.y,r=t.angle,o=t.length,s=0;s<e.length;++s){var a=e[s],l=a.x*Math.cos(r)-a.y*Math.sin(r),u=a.x*Math.sin(r)+a.y*Math.cos(r);a.x=n+o*l,a.y=i+o*u}}},{key:"drawPath",value:function(e,t){e.beginPath(),e.moveTo(t[0].x,t[0].y);for(var n=1;n<t.length;++n)e.lineTo(t[n].x,t[n].y);e.closePath()}}]),e}(),ec=function(e){iu(n,e);var t=Qu(n);function n(){return cl(this,n),t.apply(this,arguments)}return dl(n,null,[{key:"draw",value:function(e,t){if(t.image){e.save(),e.translate(t.point.x,t.point.y),e.rotate(Math.PI/2+t.angle);var n=null!=t.imageWidth?t.imageWidth:t.image.width;t.image.drawImageAtPosition(e,1,-n/2,0,n,null!=t.imageHeight?t.imageHeight:t.image.height),e.restore()}return!1}}]),n}($u),tc=function(e){iu(n,e);var t=Qu(n);function n(){return cl(this,n),t.apply(this,arguments)}return dl(n,null,[{key:"draw",value:function(e,t){var n=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return $u.transform(n,t),$u.drawPath(e,n),!0}}]),n}($u),nc=function(){function e(){cl(this,e)}return dl(e,null,[{key:"draw",value:function(e,t){var n=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return $u.transform(n,t),$u.drawPath(e,n),!0}}]),e}(),ic=function(){function e(){cl(this,e)}return dl(e,null,[{key:"draw",value:function(e,t){var n={x:-.4,y:0};$u.transform(n,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var i=Math.PI,r=t.angle-i/2,o=t.angle+i/2;return e.beginPath(),e.arc(n.x,n.y,.4*t.length,r,o,!1),e.stroke(),!0}}]),e}(),rc=function(){function e(){cl(this,e)}return dl(e,null,[{key:"draw",value:function(e,t){var n={x:-.3,y:0};$u.transform(n,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var i=Math.PI,r=t.angle+i/2,o=t.angle+3*i/2;return e.beginPath(),e.arc(n.x,n.y,.4*t.length,r,o,!1),e.stroke(),!0}}]),e}(),oc=function(){function e(){cl(this,e)}return dl(e,null,[{key:"draw",value:function(e,t){var n=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return $u.transform(n,t),$u.drawPath(e,n),!0}}]),e}(),sc=function(){function e(){cl(this,e)}return dl(e,null,[{key:"draw",value:function(e,t){var n=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return $u.transform(n,t),$u.drawPath(e,n),!0}}]),e}(),ac=function(){function e(){cl(this,e)}return dl(e,null,[{key:"draw",value:function(e,t){var n={x:-.4,y:0};return $u.transform(n,t),we(e,n.x,n.y,.4*t.length),!0}}]),e}(),lc=function(){function e(){cl(this,e)}return dl(e,null,[{key:"draw",value:function(e,t){var n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return $u.transform(n,t),$u.drawPath(e,n),!0}}]),e}(),uc=function(){function e(){cl(this,e)}return dl(e,null,[{key:"draw",value:function(e,t){var n=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return $u.transform(n,t),$u.drawPath(e,n),!0}}]),e}(),cc=function(){function e(){cl(this,e)}return dl(e,null,[{key:"draw",value:function(e,t){var n=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return $u.transform(n,t),$u.drawPath(e,n),!0}}]),e}(),hc=function(){function e(){cl(this,e)}return dl(e,null,[{key:"draw",value:function(e,t){var n=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return $u.transform(n,t),$u.drawPath(e,n),!0}}]),e}(),dc=function(){function e(){cl(this,e)}return dl(e,null,[{key:"draw",value:function(e,t){var n;switch(t.type&&(n=t.type.toLowerCase()),n){case"image":return ec.draw(e,t);case"circle":return ac.draw(e,t);case"box":return uc.draw(e,t);case"crow":return nc.draw(e,t);case"curve":return ic.draw(e,t);case"diamond":return cc.draw(e,t);case"inv_curve":return rc.draw(e,t);case"triangle":return oc.draw(e,t);case"inv_triangle":return sc.draw(e,t);case"bar":return lc.draw(e,t);case"vee":return hc.draw(e,t);case"arrow":default:return tc.draw(e,t)}}}]),e}();function fc(e,t){var n=Vr(e);if(kn){var i=kn(e);t&&(i=ir(i).call(i,(function(t){return We(e,t).enumerable}))),n.push.apply(n,i)}return n}function pc(e){for(var t=1;t<arguments.length;t++){var n,i=null!=arguments[t]?arguments[t]:{};if(t%2)Ni(n=fc(Object(i),!0)).call(n,(function(t){pi(e,t,i[t])}));else if(ze)Pe(e,ze(i));else{var r;Ni(r=fc(Object(i))).call(r,(function(t){De(e,t,We(i,t))}))}}return e}var vc=function(){function e(t,n,i){cl(this,e),this._body=n,this._labelModule=i,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(t),this.fromPoint=this.from,this.toPoint=this.to}return dl(e,[{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,t),e.lineWidth=t.width,!1!==t.dashes?this._drawDashedLine(e,t,r):this._drawLine(e,t,r)}},{key:"_drawLine",value:function(e,t,n,i,r){if(this.from!=this.to)this._line(e,t,n,i,r);else{var o=this._getCircleData(e),s=Br(o,3);this._circle(e,t,s[0],s[1],s[2])}}},{key:"_drawDashedLine",value:function(e,t,n,i,r){e.lineCap="round";var o=Xr(t.dashes)?t.dashes:[5,5];if(void 0!==e.setLineDash){if(e.save(),e.setLineDash(o),e.lineDashOffset=0,this.from!=this.to)this._line(e,t,n);else{var s=this._getCircleData(e),a=Br(s,3);this._circle(e,t,a[0],a[1],a[2])}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)Se(e,this.from.x,this.from.y,this.to.x,this.to.y,o);else{var l=this._getCircleData(e),u=Br(l,3);this._circle(e,t,u[0],u[1],u[2])}this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}}},{key:"findBorderPosition",value:function(e,t,n){return this.from!=this.to?this._findBorderPosition(e,t,n):this._findBorderPositionCircle(e,t,n)}},{key:"findBorderPositions",value:function(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};var t,n=Qr(t=this._getCircleData(e)).call(t,0,2),i=Br(n,2),r=i[0],o=i[1];return{from:this._findBorderPositionCircle(this.from,e,{x:r,y:o,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:r,y:o,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(e){var t=this.options.selfReference.size;void 0!==e&&void 0===this.from.shape.width&&this.from.shape.resize(e);var n=zl(e,this.options.selfReference.angle,t,this.from);return[n.x,n.y,t]}},{key:"_pointOnCircle",value:function(e,t,n,i){var r=2*i*Math.PI;return{x:e+n*Math.cos(r),y:t-n*Math.sin(r)}}},{key:"_findBorderPositionCircle",value:function(e,t,n){var i,r=n.x,o=n.y,s=n.low,a=n.high,l=n.direction,u=this.options.selfReference.size,c=.5*(s+a),h=0;!0===this.options.arrowStrikethrough&&(-1===l?h=this.options.endPointOffset.from:1===l&&(h=this.options.endPointOffset.to));var d=0;do{i=this._pointOnCircle(r,o,u,c=.5*(s+a));var f=Math.atan2(e.y-i.y,e.x-i.x),p=e.distanceToBorder(t,f)+h-Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2));if(Math.abs(p)<.05)break;p>0?l>0?s=c:a=c:l>0?a=c:s=c,++d}while(s<=a&&d<10);return pc(pc({},i),{},{t:c})}},{key:"getLineWidth",value:function(e,t){return!0===e?Math.max(this.selectionWidth,.3/this._body.view.scale):!0===t?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}},{key:"getColor",value:function(e,t){if(!1!==t.inheritsColor){if("both"===t.inheritsColor&&this.from.id!==this.to.id){var n=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),i=this.from.options.color.highlight.border,r=this.to.options.color.highlight.border;return!1===this.from.selected&&!1===this.to.selected?(i=So(this.from.options.color.border,t.opacity),r=So(this.to.options.color.border,t.opacity)):!0===this.from.selected&&!1===this.to.selected?r=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(i=this.from.options.color.border),n.addColorStop(0,i),n.addColorStop(1,r),n}return So("to"===t.inheritsColor?this.to.options.color.border:this.from.options.color.border,t.opacity)}return So(t.color,t.opacity)}},{key:"_circle",value:function(e,t,n,i,r){this.enableShadow(e,t);var o=0,s=2*Math.PI;if(!this.options.selfReference.renderBehindTheNode){var a=this.options.selfReference.angle,l=this.options.selfReference.angle+Math.PI,u=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:a,high:l,direction:-1}),c=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:a,high:l,direction:1});o=Math.atan2(u.y-i,u.x-n),s=Math.atan2(c.y-i,c.x-n)}e.beginPath(),e.arc(n,i,r,o,s,!1),e.stroke(),this.disableShadow(e,t)}},{key:"getDistanceToEdge",value:function(e,t,n,i,r,o){if(this.from!=this.to)return this._getDistanceToEdge(e,t,n,i,r,o);var s=this._getCircleData(void 0),a=Br(s,3),l=a[2],u=a[0]-r,c=a[1]-o;return Math.abs(Math.sqrt(u*u+c*c)-l)}},{key:"_getDistanceToLine",value:function(e,t,n,i,r,o){var s=n-e,a=i-t,l=((r-e)*s+(o-t)*a)/(s*s+a*a);l>1?l=1:l<0&&(l=0);var u=e+l*s-r,c=t+l*a-o;return Math.sqrt(u*u+c*c)}},{key:"getArrowData",value:function(e,t,n,i,r,o){var s,a,l,u,c,h,d,f=o.width;"from"===t?(l=this.from,u=this.to,c=o.fromArrowScale<0,h=Math.abs(o.fromArrowScale),d=o.fromArrowType):"to"===t?(l=this.to,u=this.from,c=o.toArrowScale<0,h=Math.abs(o.toArrowScale),d=o.toArrowType):(l=this.to,u=this.from,c=o.middleArrowScale<0,h=Math.abs(o.middleArrowScale),d=o.middleArrowType);var p=15*h+3*f;if(l!=u){var v=p/Ju(l.x-u.x,l.y-u.y);if("middle"!==t)if(!0===this.options.smooth.enabled){var y=this._findBorderPosition(l,e,{via:n}),g=this.getPoint(y.t+v*("from"===t?1:-1),n);s=Math.atan2(y.y-g.y,y.x-g.x),a=y}else s=Math.atan2(l.y-u.y,l.x-u.x),a=this._findBorderPosition(l,e);else{var m=(c?-v:v)/2,b=this.getPoint(.5+m,n),_=this.getPoint(.5-m,n);s=Math.atan2(b.y-_.y,b.x-_.x),a=this.getPoint(.5,n)}}else{var w=this._getCircleData(e),k=Br(w,3),C=k[0],x=k[1],S=k[2];if("from"===t){var O=this.options.selfReference.angle+Math.PI,E=this._findBorderPositionCircle(this.from,e,{x:C,y:x,low:this.options.selfReference.angle,high:O,direction:-1});s=-2*E.t*Math.PI+1.5*Math.PI+.1*Math.PI,a=E}else if("to"===t){var T=this.options.selfReference.angle+Math.PI,D=this._findBorderPositionCircle(this.from,e,{x:C,y:x,low:this.options.selfReference.angle,high:T,direction:1});s=-2*D.t*Math.PI+1.5*Math.PI-1.1*Math.PI,a=D}else{var M=this.options.selfReference.angle/(2*Math.PI);a=this._pointOnCircle(C,x,S,M),s=-2*M*Math.PI+1.5*Math.PI+.1*Math.PI}}return{point:a,core:{x:a.x-.9*p*Math.cos(s),y:a.y-.9*p*Math.sin(s)},angle:s,length:p,type:d}}},{key:"drawArrowHead",value:function(e,t,n,i,r){e.strokeStyle=this.getColor(e,t),e.fillStyle=e.strokeStyle,e.lineWidth=t.width,dc.draw(e,r)&&(this.enableShadow(e,t),uu(e).call(e),this.disableShadow(e,t))}},{key:"enableShadow",value:function(e,t){!0===t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}},{key:"disableShadow",value:function(e,t){!0===t.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"drawBackground",value:function(e,t){if(!1!==t.background){var n={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=t.backgroundColor,e.lineWidth=t.backgroundSize,this.setStrokeDashed(e,t.backgroundDashes),e.stroke(),e.strokeStyle=n.strokeStyle,e.lineWidth=n.lineWidth,e.dashes=n.dashes,this.setStrokeDashed(e,t.dashes)}}},{key:"setStrokeDashed",value:function(e,t){if(!1!==t)if(void 0!==e.setLineDash){var n=Xr(t)?t:[5,5];e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else void 0!==e.setLineDash?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),e}();function yc(e,t){var n=Vr(e);if(kn){var i=kn(e);t&&(i=ir(i).call(i,(function(t){return We(e,t).enumerable}))),n.push.apply(n,i)}return n}function gc(e){for(var t=1;t<arguments.length;t++){var n,i=null!=arguments[t]?arguments[t]:{};if(t%2)Ni(n=yc(Object(i),!0)).call(n,(function(t){pi(e,t,i[t])}));else if(ze)Pe(e,ze(i));else{var r;Ni(r=yc(Object(i))).call(r,(function(t){De(e,t,We(i,t))}))}}return e}var mc=function(e){iu(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!$l)return!1;if($l.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call($l(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=su(e);if(t){var r=su(this).constructor;n=$l(i,arguments,r)}else n=i.apply(this,arguments);return ru(this,n)}}(n);function n(e,i,r){return cl(this,n),t.call(this,e,i,r)}return dl(n,[{key:"_findBorderPositionBezier",value:function(e,t){var n,i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),o=10,s=.2,a=!1,l=1,u=0,c=this.to,h=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(c=this.from,a=!0,h=this.options.endPointOffset?this.options.endPointOffset.from:0),!1===this.options.arrowStrikethrough&&(h=0);var d=0;do{n=this.getPoint(i=.5*(u+l),r);var f=Math.atan2(c.y-n.y,c.x-n.x),p=c.distanceToBorder(t,f)+h,v=Math.sqrt(Math.pow(n.x-c.x,2)+Math.pow(n.y-c.y,2)),y=p-v;if(Math.abs(y)<s)break;y<0?!1===a?u=i:l=i:!1===a?l=i:u=i,++d}while(u<=l&&d<o);return gc(gc({},n),{},{t:i})}},{key:"_getDistanceToBezierEdge",value:function(e,t,n,i,r,o,s){var a,l,u,c,h,d=1e9,f=e,p=t;for(l=1;l<10;l++)u=.1*l,c=Math.pow(1-u,2)*e+2*u*(1-u)*s.x+Math.pow(u,2)*n,h=Math.pow(1-u,2)*t+2*u*(1-u)*s.y+Math.pow(u,2)*i,l>0&&(d=(a=this._getDistanceToLine(f,p,c,h,r,o))<d?a:d),f=c,p=h;return d}},{key:"_bezierCurve",value:function(e,t,n,i){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),null!=n&&null!=n.x?null!=i&&null!=i.x?e.bezierCurveTo(n.x,n.y,i.x,i.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(n.x,n.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,t),this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),n}(vc),bc=function(e){iu(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!$l)return!1;if($l.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call($l(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=su(e);if(t){var r=su(this).constructor;n=$l(i,arguments,r)}else n=i.apply(this,arguments);return ru(this,n)}}(n);function n(e,i,r){var o;return cl(this,n),(o=t.call(this,e,i,r)).via=o.via,o._boundFunction=function(){o.positionBezierNode()},o._body.emitter.on("_repositionBezierNodes",o._boundFunction),o}return dl(n,[{key:"setOptions",value:function(e){Gu(su(n.prototype),"setOptions",this).call(this,e);var t=!1;this.options.physics!==e.physics&&(t=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===t&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.via.setOptions(void 0===this.from||void 0===this.to||!1===this.options.physics||this.from.id===this.to.id?{physics:!1}:{physics:!0})}},{key:"cleanup",value:function(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this._body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var e="edgeId:"+this.id,t=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=t,this.via=t,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(e,t,n){this._bezierCurve(e,t,n)}},{key:"_getViaCoordinates",value:function(){return this.via}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via;if(this.from===this.to){var n=this._getCircleData(),i=Br(n,3),r=i[0],o=i[1],s=i[2],a=2*Math.PI*(1-e);return{x:r+s*Math.sin(a),y:o+s-s*(1-Math.cos(a))}}return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*t.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*t.y+Math.pow(e,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(e,t){return this._findBorderPositionBezier(e,t,this.via)}},{key:"_getDistanceToEdge",value:function(e,t,n,i,r,o){return this._getDistanceToBezierEdge(e,t,n,i,r,o,this.via)}}]),n}(mc),_c=function(e){iu(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!$l)return!1;if($l.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call($l(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=su(e);if(t){var r=su(this).constructor;n=$l(i,arguments,r)}else n=i.apply(this,arguments);return ru(this,n)}}(n);function n(e,i,r){return cl(this,n),t.call(this,e,i,r)}return dl(n,[{key:"_line",value:function(e,t,n){this._bezierCurve(e,t,n)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var e,t,n=this.options.smooth.roundness,i=this.options.smooth.type,r=Math.abs(this.from.x-this.to.x),o=Math.abs(this.from.y-this.to.y);if("discrete"===i||"diagonalCross"===i){var s,a;s=a=r<=o?n*o:n*r,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);var l=this.from.x+s,u=this.from.y+a;return"discrete"===i&&(r<=o?l=r<n*o?this.from.x:l:u=o<n*r?this.from.y:u),{x:l,y:u}}if("straightCross"===i){var c=(1-n)*r,h=(1-n)*o;return r<=o?(c=0,this.from.y<this.to.y&&(h=-h)):(this.from.x<this.to.x&&(c=-c),h=0),{x:this.to.x+c,y:this.to.y+h}}if("horizontal"===i){var d=(1-n)*r;return this.from.x<this.to.x&&(d=-d),{x:this.to.x+d,y:this.from.y}}if("vertical"===i){var f=(1-n)*o;return this.from.y<this.to.y&&(f=-f),{x:this.from.x,y:this.to.y+f}}if("curvedCW"===i){r=this.to.x-this.from.x,o=this.from.y-this.to.y;var p=Math.sqrt(r*r+o*o),v=Math.PI,y=(Math.atan2(o,r)+(.5*n+.5)*v)%(2*v);return{x:this.from.x+(.5*n+.5)*p*Math.sin(y),y:this.from.y+(.5*n+.5)*p*Math.cos(y)}}if("curvedCCW"===i){r=this.to.x-this.from.x,o=this.from.y-this.to.y;var g=Math.sqrt(r*r+o*o),m=Math.PI,b=(Math.atan2(o,r)+(.5*-n+.5)*m)%(2*m);return{x:this.from.x+(.5*n+.5)*g*Math.sin(b),y:this.from.y+(.5*n+.5)*g*Math.cos(b)}}e=t=r<=o?n*o:n*r,this.from.x>this.to.x&&(e=-e),this.from.y>=this.to.y&&(t=-t);var _=this.from.x+e,w=this.from.y+t;return r<=o?_=this.from.x<=this.to.x?this.to.x<_?this.to.x:_:this.to.x>_?this.to.x:_:w=this.from.y>=this.to.y?this.to.y>w?this.to.y:w:this.to.y<w?this.to.y:w,{x:_,y:w}}},{key:"_findBorderPosition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(e,t,n.via)}},{key:"_getDistanceToEdge",value:function(e,t,n,i,r,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,t,n,i,r,o,s)}},{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),n=e,i=Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*t.x+Math.pow(n,2)*this.toPoint.x,r=Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*t.y+Math.pow(n,2)*this.toPoint.y;return{x:i,y:r}}}]),n}(mc),wc=function(e){iu(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!$l)return!1;if($l.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call($l(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=su(e);if(t){var r=su(this).constructor;n=$l(i,arguments,r)}else n=i.apply(this,arguments);return ru(this,n)}}(n);function n(e,i,r){return cl(this,n),t.call(this,e,i,r)}return dl(n,[{key:"_line",value:function(e,t,n){this._bezierCurve(e,t,n[0],n[1])}},{key:"_getViaCoordinates",value:function(){var e,t,n,i,r=this.from.x-this.to.x,o=this.from.y-this.to.y,s=this.options.smooth.roundness;return(Math.abs(r)>Math.abs(o)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(t=this.from.y,i=this.to.y,e=this.from.x-s*r,n=this.to.x+s*r):(t=this.from.y-s*o,i=this.to.y+s*o,e=this.from.x,n=this.to.x),[{x:e,y:t},{x:n,y:i}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(e,t){return this._findBorderPositionBezier(e,t)}},{key:"_getDistanceToEdge",value:function(e,t,n,i,r,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),a=Br(s,2),l=a[0],u=a[1];return this._getDistanceToBezierEdge2(e,t,n,i,r,o,l,u)}},{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),n=Br(t,2),i=n[0],r=n[1],o=e,s=[Math.pow(1-o,3),3*o*Math.pow(1-o,2),3*Math.pow(o,2)*(1-o),Math.pow(o,3)],a=s[0]*this.fromPoint.x+s[1]*i.x+s[2]*r.x+s[3]*this.toPoint.x,l=s[0]*this.fromPoint.y+s[1]*i.y+s[2]*r.y+s[3]*this.toPoint.y;return{x:a,y:l}}}]),n}(function(e){iu(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!$l)return!1;if($l.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call($l(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=su(e);if(t){var r=su(this).constructor;n=$l(i,arguments,r)}else n=i.apply(this,arguments);return ru(this,n)}}(n);function n(e,i,r){return cl(this,n),t.call(this,e,i,r)}return dl(n,[{key:"_getDistanceToBezierEdge2",value:function(e,t,n,i,r,o,s,a){for(var l=1e9,u=e,c=t,h=[0,0,0,0],d=1;d<10;d++){var f=.1*d;h[0]=Math.pow(1-f,3),h[1]=3*f*Math.pow(1-f,2),h[2]=3*Math.pow(f,2)*(1-f),h[3]=Math.pow(f,3);var p=h[0]*e+h[1]*s.x+h[2]*a.x+h[3]*n,v=h[0]*t+h[1]*s.y+h[2]*a.y+h[3]*i;if(d>0){var y=this._getDistanceToLine(u,c,p,v,r,o);l=y<l?y:l}u=p,c=v}return l}}]),n}(mc)),kc=function(e){iu(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!$l)return!1;if($l.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call($l(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=su(e);if(t){var r=su(this).constructor;n=$l(i,arguments,r)}else n=i.apply(this,arguments);return ru(this,n)}}(n);function n(e,i,r){return cl(this,n),t.call(this,e,i,r)}return dl(n,[{key:"_line",value:function(e,t){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}},{key:"_findBorderPosition",value:function(e,t){var n=this.to,i=this.from;e.id===this.from.id&&(n=this.from,i=this.to);var r=Math.atan2(n.y-i.y,n.x-i.x),o=n.x-i.x,s=n.y-i.y,a=Math.sqrt(o*o+s*s),l=(a-e.distanceToBorder(t,r))/a;return{x:(1-l)*i.x+l*n.x,y:(1-l)*i.y+l*n.y,t:0}}},{key:"_getDistanceToEdge",value:function(e,t,n,i,r,o){return this._getDistanceToLine(e,t,n,i,r,o)}}]),n}(vc),Cc=function(){function e(t,n,i,r,o){if(cl(this,e),void 0===n)throw new Error("No body provided");this.options=No(r),this.globalOptions=r,this.defaultOptions=o,this.body=n,this.imagelist=i,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new Zl(this.body,this.options,!0),this.setOptions(t)}return dl(e,[{key:"setOptions",value:function(t){if(t){var n=void 0!==t.physics&&this.options.physics!==t.physics||void 0!==t.hidden&&(this.options.hidden||!1)!==(t.hidden||!1)||void 0!==t.from&&this.options.from!==t.from||void 0!==t.to&&this.options.to!==t.to;return e.parseOptions(this.options,t,!0,this.globalOptions),void 0!==t.id&&(this.id=t.id),void 0!==t.from&&(this.fromId=t.from),void 0!==t.to&&(this.toId=t.to),void 0!==t.title&&(this.title=t.title),void 0!==t.value&&(t.value=Nl(t.value)),this.chooser=Fl("edge",[t,this.options,this.defaultOptions]),this.updateLabelModule(t),n=this.updateEdgeType()||n,this._setInteractionWidths(),this.connect(),n}}},{key:"getFormattingValues",value:function(){var e=this.options.color.inherit,t={toArrow:!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:e?void 0:this.options.color.color,inheritsColor:e,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){var n=this.options.selectionWidth;"function"==typeof n?t.width=n(t.width):"number"==typeof n&&(t.width+=n),t.width=Math.max(t.width,.3/this.body.view.scale),t.color=this.options.color.highlight,t.shadow=this.options.shadow.enabled}else if(this.hover){var i=this.options.hoverWidth;"function"==typeof i?t.width=i(t.width):"number"==typeof i&&(t.width+=i),t.width=Math.max(t.width,.3/this.body.view.scale),t.color=this.options.color.hover,t.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(t,this.options.id,this.selected,this.hover),void 0!==t.color&&(t.inheritsColor=!1),!1===t.shadow&&(t.shadowColor===this.options.shadow.color&&t.shadowSize===this.options.shadow.size&&t.shadowX===this.options.shadow.x&&t.shadowY===this.options.shadow.y||(t.shadow=!0)));else t.shadow=this.options.shadow.enabled,t.width=Math.max(t.width,.3/this.body.view.scale);return t}},{key:"updateLabelModule",value:function(e){this.labelModule.update(this.options,[e,this.options,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var e=this.options.smooth,t=!1,n=!0;return void 0!==this.edgeType&&((this.edgeType instanceof bc&&!0===e.enabled&&"dynamic"===e.type||this.edgeType instanceof wc&&!0===e.enabled&&"cubicBezier"===e.type||this.edgeType instanceof _c&&!0===e.enabled&&"dynamic"!==e.type&&"cubicBezier"!==e.type||this.edgeType instanceof kc&&!1===e.type.enabled)&&(n=!1),!0===n&&(t=this.cleanup())),!0===n?!0===e.enabled?"dynamic"===e.type?(t=!0,this.edgeType=new bc(this.options,this.body,this.labelModule)):this.edgeType="cubicBezier"===e.type?new wc(this.options,this.body,this.labelModule):new _c(this.options,this.body,this.labelModule):this.edgeType=new kc(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),t}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(e,t,n){if(void 0!==this.options.value){var i=this.options.scaling.customScalingFunction(e,t,n,this.options.value),r=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+i*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.width=this.options.scaling.min+i*r}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){this.edgeType.hoverWidth="function"==typeof this.options.hoverWidth?this.options.hoverWidth(this.options.width):this.options.hoverWidth+this.options.width,this.edgeType.selectionWidth="function"==typeof this.options.selectionWidth?this.options.selectionWidth(this.options.width):this.options.selectionWidth+this.options.width}},{key:"draw",value:function(e){var t=this.getFormattingValues();if(!t.hidden){var n=this.edgeType.getViaNode();this.edgeType.drawLine(e,t,this.selected,this.hover,n),this.drawLabel(e,n)}}},{key:"drawArrows",value:function(e){var t=this.getFormattingValues();if(!t.hidden){var n=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,t.fromArrow&&(i.from=this.edgeType.getArrowData(e,"from",n,this.selected,this.hover,t),!1===t.arrowStrikethrough&&(this.edgeType.fromPoint=i.from.core),t.fromArrowSrc&&(i.from.image=this.imagelist.load(t.fromArrowSrc)),t.fromArrowImageWidth&&(i.from.imageWidth=t.fromArrowImageWidth),t.fromArrowImageHeight&&(i.from.imageHeight=t.fromArrowImageHeight)),t.toArrow&&(i.to=this.edgeType.getArrowData(e,"to",n,this.selected,this.hover,t),!1===t.arrowStrikethrough&&(this.edgeType.toPoint=i.to.core),t.toArrowSrc&&(i.to.image=this.imagelist.load(t.toArrowSrc)),t.toArrowImageWidth&&(i.to.imageWidth=t.toArrowImageWidth),t.toArrowImageHeight&&(i.to.imageHeight=t.toArrowImageHeight)),t.middleArrow&&(i.middle=this.edgeType.getArrowData(e,"middle",n,this.selected,this.hover,t),t.middleArrowSrc&&(i.middle.image=this.imagelist.load(t.middleArrowSrc)),t.middleArrowImageWidth&&(i.middle.imageWidth=t.middleArrowImageWidth),t.middleArrowImageHeight&&(i.middle.imageHeight=t.middleArrowImageHeight)),t.fromArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,i.from),t.middleArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,i.middle),t.toArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,i.to)}}},{key:"drawLabel",value:function(e,t){if(void 0!==this.options.label){var n=this.from,i=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover),n.id!=i.id){this.labelModule.pointToSelf=!1;var r=this.edgeType.getPoint(.5,t);e.save();var o=this._getRotation(e);0!=o.angle&&(e.translate(o.x,o.y),e.rotate(o.angle)),this.labelModule.draw(e,r.x,r.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;var s=zl(e,this.options.selfReference.angle,this.options.selfReference.size,n);r=this._pointOnCircle(s.x,s.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,r.x,r.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(e){var t=[];if(this.labelModule.visible()){var n=this._getRotation();Rl(this.labelModule.getSize(),e,n)&&t.push({edgeId:this.id,labelId:0})}return this.isOverlappingWith({left:e.x,top:e.y})&&t.push({edgeId:this.id}),t}},{key:"isOverlappingWith",value:function(e){return!!this.connected&&this.edgeType.getDistanceToEdge(this.from.x,this.from.y,this.to.x,this.to.y,e.left,e.top)<10}},{key:"_getRotation",value:function(e){var t=this.edgeType.getViaNode(),n=this.edgeType.getPoint(.5,t);void 0!==e&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,n.x,n.y);var i={x:n.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible())return i;if("horizontal"===this.options.font.align)return i;var r=this.from.x-this.to.x,o=Math.atan2(this.from.y-this.to.y,r);return(o<-1&&r<0||o>0&&r<0)&&(o+=Math.PI),i.angle=o,i}},{key:"_pointOnCircle",value:function(e,t,n,i){return{x:e+n*Math.cos(i),y:t-n*Math.sin(i)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"];if(go(o,e,t,n),void 0!==t.endPointOffset&&void 0!==t.endPointOffset.from&&(Ol(t.endPointOffset.from)?e.endPointOffset.from=t.endPointOffset.from:(e.endPointOffset.from=void 0!==i.endPointOffset.from?i.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),void 0!==t.endPointOffset&&void 0!==t.endPointOffset.to&&(Ol(t.endPointOffset.to)?e.endPointOffset.to=t.endPointOffset.to:(e.endPointOffset.to=void 0!==i.endPointOffset.to?i.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),jl(t.label)?e.label=t.label:jl(e.label)||(e.label=void 0),Fo(e,t,"smooth",i),Fo(e,t,"shadow",i),Fo(e,t,"background",i),null!=t.dashes?e.dashes=t.dashes:!0===n&&null===t.dashes&&(e.dashes=di(i.dashes)),null!=t.scaling?(void 0!==t.scaling.min&&(e.scaling.min=t.scaling.min),void 0!==t.scaling.max&&(e.scaling.max=t.scaling.max),Fo(e.scaling,t.scaling,"label",i.scaling)):!0===n&&null===t.scaling&&(e.scaling=di(i.scaling)),null!=t.arrows)if("string"==typeof t.arrows){var s=t.arrows.toLowerCase();e.arrows.to.enabled=-1!=pr(s).call(s,"to"),e.arrows.middle.enabled=-1!=pr(s).call(s,"middle"),e.arrows.from.enabled=-1!=pr(s).call(s,"from")}else{if("object"!==Jr(t.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+Fu(t.arrows));Fo(e.arrows,t.arrows,"to",i.arrows),Fo(e.arrows,t.arrows,"middle",i.arrows),Fo(e.arrows,t.arrows,"from",i.arrows)}else!0===n&&null===t.arrows&&(e.arrows=di(i.arrows));if(null!=t.color){var a=fo(t.color)?{color:t.color,highlight:t.color,hover:t.color,inherit:!1,opacity:1}:t.color,l=e.color;if(r)bo(l,i.color,!1,n);else for(var u in l)l.hasOwnProperty(u)&&delete l[u];if(fo(l))l.color=l,l.highlight=l,l.hover=l,l.inherit=!1,void 0===a.opacity&&(l.opacity=1);else{var c=!1;void 0!==a.color&&(l.color=a.color,c=!0),void 0!==a.highlight&&(l.highlight=a.highlight,c=!0),void 0!==a.hover&&(l.hover=a.hover,c=!0),void 0!==a.inherit&&(l.inherit=a.inherit),void 0!==a.opacity&&(l.opacity=Math.min(1,Math.max(0,a.opacity))),!0===c?l.inherit=!1:void 0===l.inherit&&(l.inherit="from")}}else!0===n&&null===t.color&&(e.color=No(i.color));!0===n&&null===t.font&&(e.font=No(i.font)),t.hasOwnProperty("selfReferenceSize")&&(console.log("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=t.selfReferenceSize)}}]),e}(),xc=function(){function e(t,n,i){var r,o=this;cl(this,e),this.body=t,this.images=n,this.groups=i,this.body.functions.createEdge=$(r=this.create).call(r,this),this.edgesListeners={add:function(e,t){o.add(t.items)},update:function(e,t){o.update(t.items)},remove:function(e,t){o.remove(t.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(e,t,n,i){return t===e?.5:Math.max(0,1/(t-e)*(i-e))}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},bo(this.options,this.defaultOptions),this.bindEventListeners()}return dl(e,[{key:"bindEventListeners",value:function(){var e,t,n=this;this.body.emitter.on("_forceDisableDynamicCurves",(function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===e&&(e="continuous");var i=!1;for(var r in n.body.edges)if(n.body.edges.hasOwnProperty(r)){var o=n.body.edges[r],s=n.body.data.edges.get(r);if(null!=s){var a=s.smooth;void 0!==a&&!0===a.enabled&&"dynamic"===a.type&&(o.setOptions(void 0===e?{smooth:!1}:{smooth:{type:e}}),i=!0)}}!0===t&&!0===i&&n.body.emitter.emit("_dataChanged")})),this.body.emitter.on("_dataUpdated",(function(){n.reconnectEdges()})),this.body.emitter.on("refreshEdges",$(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",$(t=this.refresh).call(t,this)),this.body.emitter.on("destroy",(function(){Co(n.edgesListeners,(function(e,t){n.body.data.edges&&n.body.data.edges.off(t,e)})),delete n.body.functions.createEdge,delete n.edgesListeners.add,delete n.edgesListeners.update,delete n.edgesListeners.remove,delete n.edgesListeners}))}},{key:"setOptions",value:function(e){if(void 0!==e){Cc.parseOptions(this.options,e,!0,this.defaultOptions,!0);var t=!1;if(void 0!==e.smooth)for(var n in this.body.edges)this.body.edges.hasOwnProperty(n)&&(t=this.body.edges[n].updateEdgeType()||t);if(void 0!==e.font)for(var i in this.body.edges)this.body.edges.hasOwnProperty(i)&&this.body.edges[i].updateLabelModule();void 0===e.hidden&&void 0===e.physics&&!0!==t||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.body.data.edges;if(e instanceof t.DataSet||e instanceof t.DataView)this.body.data.edges=e;else if(Xr(e))this.body.data.edges=new t.DataSet,this.body.data.edges.add(e);else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.edges=new t.DataSet}if(r&&Co(this.edgesListeners,(function(e,t){r.off(t,e)})),this.body.edges={},this.body.data.edges){Co(this.edgesListeners,(function(e,t){n.body.data.edges.on(t,e)}));var o=this.body.data.edges.getIds();this.add(o,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.body.edges,i=this.body.data.edges,r=0;r<e.length;r++){var o=e[r],s=n[o];s&&s.disconnect();var a=i.get(o,{showInternalIds:!0});n[o]=this.create(a)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===t&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e){for(var t=this.body.edges,n=this.body.data.edges,i=!1,r=0;r<e.length;r++){var o=e[r],s=n.get(o),a=t[o];void 0!==a?(a.disconnect(),i=a.setOptions(s)||i,a.connect()):(this.body.edges[o]=this.create(s),i=!0)}!0===i?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==e.length){var n=this.body.edges;Co(e,(function(e){var t=n[e];void 0!==t&&t.remove()})),t&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var e=this;Co(this.body.edges,(function(t,n){var i=e.body.data.edges.get(n);void 0!==i&&t.setOptions(i)}))}},{key:"create",value:function(e){return new Cc(e,this.body,this.images,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var e,t=this.body.nodes,n=this.body.edges;for(e in t)t.hasOwnProperty(e)&&(t[e].edges=[]);for(e in n)if(n.hasOwnProperty(e)){var i=n[e];i.from=null,i.to=null,i.connect()}}},{key:"getConnectedNodes",value:function(e){var t=[];if(void 0!==this.body.edges[e]){var n=this.body.edges[e];void 0!==n.fromId&&t.push(n.fromId),void 0!==n.toId&&t.push(n.toId)}return t}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var e=this,t=[];Co(this.body.edges,(function(n,i){var r=e.body.nodes[n.toId],o=e.body.nodes[n.fromId];void 0!==r&&!0===r.isCluster||void 0!==o&&!0===o.isCluster||void 0!==r&&void 0!==o||t.push(i)})),this.remove(t,!1)}},{key:"_addMissingEdges",value:function(){var e=this.body.data.edges;if(null!=e){var t=this.body.edges,n=[];Ni(e).call(e,(function(e,i){void 0===t[i]&&n.push(i)})),this.add(n,!0)}}}]),e}(),Sc=function(){function e(t,n,i){cl(this,e),this.body=t,this.physicsBody=n,this.setOptions(i),this._rng=ro("BARNES HUT SOLVER")}return dl(e,[{key:"setOptions",value:function(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var e,t=this.body.nodes,n=this.physicsBody.physicsNodeIndices,i=n.length,r=this._formBarnesHutTree(t,n);this.barnesHutTree=r;for(var o=0;o<i;o++)(e=t[n[o]]).options.mass>0&&this._getForceContributions(r.root,e)}}},{key:"_getForceContributions",value:function(e,t){this._getForceContribution(e.children.NW,t),this._getForceContribution(e.children.NE,t),this._getForceContribution(e.children.SW,t),this._getForceContribution(e.children.SE,t)}},{key:"_getForceContribution",value:function(e,t){var n,i,r;e.childrenCount>0&&(n=e.centerOfMass.x-t.x,i=e.centerOfMass.y-t.y,(r=Math.sqrt(n*n+i*i))*e.calcSize>this.thetaInversed?this._calculateForces(r,n,i,t,e):4===e.childrenCount?this._getForceContributions(e,t):e.children.data.id!=t.id&&this._calculateForces(r,n,i,t,e))}},{key:"_calculateForces",value:function(e,t,n,i,r){0===e&&(t=e=.1),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));var o=this.options.gravitationalConstant*r.mass*i.options.mass/Math.pow(e,3),s=n*o;this.physicsBody.forces[i.id].x+=t*o,this.physicsBody.forces[i.id].y+=s}},{key:"_formBarnesHutTree",value:function(e,t){for(var n,i=t.length,r=e[t[0]].x,o=e[t[0]].y,s=e[t[0]].x,a=e[t[0]].y,l=1;l<i;l++){var u=e[t[l]],c=u.x,h=u.y;u.options.mass>0&&(c<r&&(r=c),c>s&&(s=c),h<o&&(o=h),h>a&&(a=h))}var d=Math.abs(s-r)-Math.abs(a-o);d>0?(o-=.5*d,a+=.5*d):(r+=.5*d,s-=.5*d);var f=Math.max(1e-5,Math.abs(s-r)),p=.5*f,v=.5*(r+s),y=.5*(o+a),g={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:v-p,maxX:v+p,minY:y-p,maxY:y+p},size:f,calcSize:1/f,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(g.root);for(var m=0;m<i;m++)(n=e[t[m]]).options.mass>0&&this._placeInTree(g.root,n);return g}},{key:"_updateBranchMass",value:function(e,t){var n=e.centerOfMass,i=e.mass+t.options.mass,r=1/i;n.x=n.x*e.mass+t.x*t.options.mass,n.x*=r,n.y=n.y*e.mass+t.y*t.options.mass,n.y*=r,e.mass=i;var o=Math.max(Math.max(t.height,t.radius),t.width);e.maxWidth=e.maxWidth<o?o:e.maxWidth}},{key:"_placeInTree",value:function(e,t,n){1==n&&void 0!==n||this._updateBranchMass(e,t);var i=e.children.NW.range;this._placeInRegion(e,t,i.maxX>t.x?i.maxY>t.y?"NW":"SW":i.maxY>t.y?"NE":"SE")}},{key:"_placeInRegion",value:function(e,t,n){var i=e.children[n];switch(i.childrenCount){case 0:i.children.data=t,i.childrenCount=1,this._updateBranchMass(i,t);break;case 1:i.children.data.x===t.x&&i.children.data.y===t.y?(t.x+=this._rng(),t.y+=this._rng()):(this._splitBranch(i),this._placeInTree(i,t));break;case 4:this._placeInTree(i,t)}}},{key:"_splitBranch",value:function(e){var t=null;1===e.childrenCount&&(t=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),null!=t&&this._placeInTree(e,t)}},{key:"_insertRegion",value:function(e,t){var n,i,r,o,s=.5*e.size;switch(t){case"NW":n=e.range.minX,i=e.range.minX+s,r=e.range.minY,o=e.range.minY+s;break;case"NE":n=e.range.minX+s,i=e.range.maxX,r=e.range.minY,o=e.range.minY+s;break;case"SW":n=e.range.minX,i=e.range.minX+s,r=e.range.minY+s,o=e.range.maxY;break;case"SE":n=e.range.minX+s,i=e.range.maxX,r=e.range.minY+s,o=e.range.maxY}e.children[t]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:i,minY:r,maxY:o},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}},{key:"_debug",value:function(e,t){void 0!==this.barnesHutTree&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,t))}},{key:"_drawBranch",value:function(e,t,n){void 0===n&&(n="#FF0000"),4===e.childrenCount&&(this._drawBranch(e.children.NW,t),this._drawBranch(e.children.NE,t),this._drawBranch(e.children.SE,t),this._drawBranch(e.children.SW,t)),t.strokeStyle=n,t.beginPath(),t.moveTo(e.range.minX,e.range.minY),t.lineTo(e.range.maxX,e.range.minY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.minY),t.lineTo(e.range.maxX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.maxY),t.lineTo(e.range.minX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.minX,e.range.maxY),t.lineTo(e.range.minX,e.range.minY),t.stroke()}}]),e}(),Oc=function(){function e(t,n,i){cl(this,e),this._rng=ro("REPULSION SOLVER"),this.body=t,this.physicsBody=n,this.setOptions(i)}return dl(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,n,i,r,o,s,a,l=this.body.nodes,u=this.physicsBody.physicsNodeIndices,c=this.physicsBody.forces,h=this.options.nodeDistance,d=-2/3/h,f=0;f<u.length-1;f++){s=l[u[f]];for(var p=f+1;p<u.length;p++)e=(a=l[u[p]]).x-s.x,t=a.y-s.y,0===(n=Math.sqrt(e*e+t*t))&&(e=n=.1*this._rng()),n<2*h&&(o=n<.5*h?1:d*n+4/3,i=e*(o/=n),r=t*o,c[s.id].x-=i,c[s.id].y-=r,c[a.id].x+=i,c[a.id].y+=r)}}}]),e}(),Ec=function(){function e(t,n,i){cl(this,e),this.body=t,this.physicsBody=n,this.setOptions(i)}return dl(e,[{key:"setOptions",value:function(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}},{key:"solve",value:function(){for(var e=this.body.nodes,t=this.physicsBody.physicsNodeIndices,n=this.physicsBody.forces,i=this.options.nodeDistance,r=0;r<t.length-1;r++)for(var o=e[t[r]],s=r+1;s<t.length;s++){var a=e[t[s]];if(o.level===a.level){var l=i+this.overlapAvoidanceFactor*((o.shape.radius||0)/2+(a.shape.radius||0)/2),u=a.x-o.x,c=a.y-o.y,h=Math.sqrt(u*u+c*c),d=void 0;d=h<l?-Math.pow(.05*h,2)+Math.pow(.05*l,2):0,0!==h&&(d/=h);var f=u*d,p=c*d;n[o.id].x-=f,n[o.id].y-=p,n[a.id].x+=f,n[a.id].y+=p}}}}]),e}(),Tc=function(){function e(t,n,i){cl(this,e),this.body=t,this.physicsBody=n,this.setOptions(i)}return dl(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,n,i,r=this.physicsBody.physicsEdgeIndices,o=this.body.edges,s=0;s<r.length;s++)!0===(t=o[r[s]]).connected&&t.toId!==t.fromId&&void 0!==this.body.nodes[t.toId]&&void 0!==this.body.nodes[t.fromId]&&(void 0!==t.edgeType.via?(i=t.from,this._calculateSpringForce(t.to,n=t.edgeType.via,.5*(e=void 0===t.options.length?this.options.springLength:t.options.length)),this._calculateSpringForce(n,i,.5*e)):this._calculateSpringForce(t.from,t.to,e=void 0===t.options.length?1.5*this.options.springLength:t.options.length))}},{key:"_calculateSpringForce",value:function(e,t,n){var i=e.x-t.x,r=e.y-t.y,o=Math.max(Math.sqrt(i*i+r*r),.01),s=this.options.springConstant*(n-o)/o,a=i*s,l=r*s;void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x+=a,this.physicsBody.forces[e.id].y+=l),void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x-=a,this.physicsBody.forces[t.id].y-=l)}}]),e}(),Dc=function(){function e(t,n,i){cl(this,e),this.body=t,this.physicsBody=n,this.setOptions(i)}return dl(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,n,i,r,o,s,a,l,u,c=this.body.edges,h=this.physicsBody.physicsEdgeIndices,d=this.physicsBody.physicsNodeIndices,f=this.physicsBody.forces,p=0;p<d.length;p++){var v=d[p];f[v].springFx=0,f[v].springFy=0}for(var y=0;y<h.length;y++)!0===(t=c[h[y]]).connected&&(e=void 0===t.options.length?this.options.springLength:t.options.length,n=t.from.x-t.to.x,i=t.from.y-t.to.y,a=0===(a=Math.sqrt(n*n+i*i))?.01:a,r=n*(s=this.options.springConstant*(e-a)/a),o=i*s,t.to.level!=t.from.level?(void 0!==f[t.toId]&&(f[t.toId].springFx-=r,f[t.toId].springFy-=o),void 0!==f[t.fromId]&&(f[t.fromId].springFx+=r,f[t.fromId].springFy+=o)):(void 0!==f[t.toId]&&(f[t.toId].x-=.5*r,f[t.toId].y-=.5*o),void 0!==f[t.fromId]&&(f[t.fromId].x+=.5*r,f[t.fromId].y+=.5*o)));s=1;for(var g=0;g<d.length;g++){var m=d[g];l=Math.min(s,Math.max(-s,f[m].springFx)),u=Math.min(s,Math.max(-s,f[m].springFy)),f[m].x+=l,f[m].y+=u}for(var b=0,_=0,w=0;w<d.length;w++){var k=d[w];b+=f[k].x,_+=f[k].y}for(var C=b/d.length,x=_/d.length,S=0;S<d.length;S++){var O=d[S];f[O].x-=C,f[O].y-=x}}}]),e}(),Mc=function(){function e(t,n,i){cl(this,e),this.body=t,this.physicsBody=n,this.setOptions(i)}return dl(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,n,i,r=this.body.nodes,o=this.physicsBody.physicsNodeIndices,s=this.physicsBody.forces,a=0;a<o.length;a++)e=-(i=r[o[a]]).x,t=-i.y,n=Math.sqrt(e*e+t*t),this._calculateForces(n,e,t,s,i)}},{key:"_calculateForces",value:function(e,t,n,i,r){var o=0===e?0:this.options.centralGravity/e;i[r.id].x=t*o,i[r.id].y=n*o}}]),e}(),Pc=function(e){iu(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!$l)return!1;if($l.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call($l(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=su(e);if(t){var r=su(this).constructor;n=$l(i,arguments,r)}else n=i.apply(this,arguments);return ru(this,n)}}(n);function n(e,i,r){var o;return cl(this,n),(o=t.call(this,e,i,r))._rng=ro("FORCE ATLAS 2 BASED REPULSION SOLVER"),o}return dl(n,[{key:"_calculateForces",value:function(e,t,n,i,r){0===e&&(t=e=.1*this._rng()),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));var o=this.options.gravitationalConstant*r.mass*i.options.mass*(i.edges.length+1)/Math.pow(e,2),s=n*o;this.physicsBody.forces[i.id].x+=t*o,this.physicsBody.forces[i.id].y+=s}}]),n}(Sc),Ac=function(e){iu(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!$l)return!1;if($l.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call($l(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=su(e);if(t){var r=su(this).constructor;n=$l(i,arguments,r)}else n=i.apply(this,arguments);return ru(this,n)}}(n);function n(e,i,r){return cl(this,n),t.call(this,e,i,r)}return dl(n,[{key:"_calculateForces",value:function(e,t,n,i,r){if(e>0){var o=this.options.centralGravity*(r.edges.length+1)*r.options.mass;i[r.id].x=t*o,i[r.id].y=n*o}}}]),n}(Mc),Ic=function(){function e(t){cl(this,e),this.body=t,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},_e(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return dl(e,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("initPhysics",(function(){e.initPhysics()})),this.body.emitter.on("_layoutFailed",(function(){e.layoutFailed=!0})),this.body.emitter.on("resetPhysics",(function(){e.stopSimulation(),e.ready=!1})),this.body.emitter.on("disablePhysics",(function(){e.physicsEnabled=!1,e.stopSimulation()})),this.body.emitter.on("restorePhysics",(function(){e.setOptions(e.options),!0===e.ready&&e.startSimulation()})),this.body.emitter.on("startSimulation",(function(){!0===e.ready&&e.startSimulation()})),this.body.emitter.on("stopSimulation",(function(){e.stopSimulation()})),this.body.emitter.on("destroy",(function(){e.stopSimulation(!1),e.body.emitter.off()})),this.body.emitter.on("_dataChanged",(function(){e.updatePhysicsData()}))}},{key:"setOptions",value:function(e){if(void 0!==e)if(!1===e)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(!0===e)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,mo(["stabilization"],this.options,e),Fo(this.options,e,"stabilization"),void 0===e.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation());var t=this.options.wind;t&&(("number"!=typeof t.x||El(t.x))&&(t.x=0),("number"!=typeof t.y||El(t.y))&&(t.y=0)),this.timestep=this.options.timestep}this.init()}},{key:"init",value:function(){var e;"forceAtlas2Based"===this.options.solver?(this.nodesSolver=new Pc(this.body,this.physicsBody,e=this.options.forceAtlas2Based),this.edgesSolver=new Tc(this.body,this.physicsBody,e),this.gravitySolver=new Ac(this.body,this.physicsBody,e)):"repulsion"===this.options.solver?(this.nodesSolver=new Oc(this.body,this.physicsBody,e=this.options.repulsion),this.edgesSolver=new Tc(this.body,this.physicsBody,e),this.gravitySolver=new Mc(this.body,this.physicsBody,e)):"hierarchicalRepulsion"===this.options.solver?(this.nodesSolver=new Ec(this.body,this.physicsBody,e=this.options.hierarchicalRepulsion),this.edgesSolver=new Dc(this.body,this.physicsBody,e),this.gravitySolver=new Mc(this.body,this.physicsBody,e)):(this.nodesSolver=new Sc(this.body,this.physicsBody,e=this.options.barnesHut),this.edgesSolver=new Tc(this.body,this.physicsBody,e),this.gravitySolver=new Mc(this.body,this.physicsBody,e)),this.modelOptions=e}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){var e;!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=$(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===e&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===e&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var e=Lr();this.physicsTick(),(Lr()-e<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&bl((function(){e.body.emitter.emit("stabilized",{iterations:t}),e.startedStabilization=!1,e.stabilizationIterations=0}),0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){this._startStabilizing(),!0!==this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var e=this.body.nodes,t=this.body.edges;for(var n in e)e.hasOwnProperty(n)&&!0===e[n].options.physics&&this.physicsBody.physicsNodeIndices.push(e[n].id);for(var i in t)t.hasOwnProperty(i)&&!0===t[i].options.physics&&this.physicsBody.physicsEdgeIndices.push(t[i].id);for(var r=0;r<this.physicsBody.physicsNodeIndices.length;r++){var o=this.physicsBody.physicsNodeIndices[r];this.physicsBody.forces[o]={x:0,y:0},void 0===this.physicsBody.velocities[o]&&(this.physicsBody.velocities[o]={x:0,y:0})}for(var s in this.physicsBody.velocities)void 0===e[s]&&delete this.physicsBody.velocities[s]}},{key:"revert",value:function(){var e=Vr(this.previousStates),t=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(var i=0;i<e.length;i++){var r=e[i];void 0!==t[r]?!0===t[r].options.physics&&(this.referenceState[r]={positions:{x:t[r].x,y:t[r].y}},n[r].x=this.previousStates[r].vx,n[r].y=this.previousStates[r].vy,t[r].x=this.previousStates[r].x,t[r].y=this.previousStates[r].y):delete this.previousStates[r]}}},{key:"_evaluateStepQuality",value:function(){var e,t=this.body.nodes,n=this.referenceState;for(var i in this.referenceState)if(this.referenceState.hasOwnProperty(i)&&void 0!==t[i]&&(e=t[i].y-n[i].positions.y,Math.sqrt(Math.pow(t[i].x-n[i].positions.x,2)+Math.pow(e,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var e=this.physicsBody.physicsNodeIndices,t=0,n=0,i=0;i<e.length;i++){var r=this._performStep(e[i]);t=Math.max(t,r),n+=r}this.adaptiveTimestepEnabled=n/e.length<5,this.stabilized=t<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(e,t,n){e+=(t-this.modelOptions.damping*e)/n*this.timestep;var i=this.options.maxVelocity||1e9;return Math.abs(e)>i&&(e=e>0?i:-i),e}},{key:"_performStep",value:function(e){var t=this.body.nodes[e],n=this.physicsBody.forces[e];this.options.wind&&(n.x+=this.options.wind.x,n.y+=this.options.wind.y);var i=this.physicsBody.velocities[e];return this.previousStates[e]={x:t.x,y:t.y,vx:i.x,vy:i.y},!1===t.options.fixed.x?(i.x=this.calculateComponentVelocity(i.x,n.x,t.options.mass),t.x+=i.x*this.timestep):(n.x=0,i.x=0),!1===t.options.fixed.y?(i.y=this.calculateComponentVelocity(i.y,n.y,t.options.mass),t.y+=i.y*this.timestep):(n.y=0,i.y=0),Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))}},{key:"_freezeNodes",value:function(){var e=this.body.nodes;for(var t in e)if(e.hasOwnProperty(t)&&e[t].x&&e[t].y){var n=e[t].options.fixed;this.freezeCache[t]={x:n.x,y:n.y},n.x=!0,n.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var e=this.body.nodes;for(var t in e)e.hasOwnProperty(t)&&void 0!==this.freezeCache[t]&&(e[t].options.fixed.x=this.freezeCache[t].x,e[t].options.fixed.y=this.freezeCache[t].y);this.freezeCache={}}},{key:"stabilize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!=typeof t&&(t=this.options.stabilization.iterations,console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",t)),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=t,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,bl((function(){return e._stabilizationBatch()}),0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var e=this,t=function(){return!1===e.stabilized&&e.stabilizationIterations<e.targetIterations},n=function(){e.body.emitter.emit("stabilizationProgress",{iterations:e.stabilizationIterations,total:e.targetIterations})};this._startStabilizing()&&n();for(var i,r=0;t()&&r<this.options.stabilization.updateInterval;)this.physicsTick(),r++;n(),t()?bl($(i=this._stabilizationBatch).call(i,this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(e){for(var t=0;t<this.physicsBody.physicsNodeIndices.length;t++){var n=this.physicsBody.physicsNodeIndices[t],i=this.body.nodes[n],r=this.physicsBody.forces[n],o=Math.sqrt(Math.pow(r.x,2)+Math.pow(r.x,2)),s=Math.min(Math.max(5,o),15),a=3*s,l=Mo((180-180*Math.min(1,Math.max(0,.03*o)))/360,1,1),u={x:i.x+20*r.x,y:i.y+20*r.y};e.lineWidth=s,e.strokeStyle=l,e.beginPath(),e.moveTo(i.x,i.y),e.lineTo(u.x,u.y),e.stroke();var c=Math.atan2(r.y,r.x);e.fillStyle=l,dc.draw(e,{type:"arrow",point:u,angle:c,length:a}),uu(e).call(e)}}}]),e}(),Nc=[].reverse,Fc=[1,2];U({target:"Array",proto:!0,forced:String(Fc)===String(Fc.reverse())},{reverse:function(){return Ge(this)&&(this.length=this.length),Nc.call(this)}});var Rc=K("Array").reverse,jc=Array.prototype,zc=function(e){var t=e.reverse;return e===jc||e instanceof Array&&t===jc.reverse?Rc:t},Bc="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),Lc=new Uint8Array(16);function Hc(){if(!Bc)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Bc(Lc)}for(var Vc=[],Wc=0;Wc<256;++Wc)Vc.push((Wc+256).toString(16).substr(1));function Yc(e,t,n){"string"==typeof e&&(t="binary"===e?new Uint8Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||Hc)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){for(var r=n||0,o=0;o<16;++o)t[r+o]=i[o];return t}return function(e,t){return(Vc[e[0]]+Vc[e[1]]+Vc[e[2]]+Vc[e[3]]+"-"+Vc[e[4]]+Vc[e[5]]+"-"+Vc[e[6]]+Vc[e[7]]+"-"+Vc[e[8]]+Vc[e[9]]+"-"+Vc[e[10]]+Vc[e[11]]+Vc[e[12]]+Vc[e[13]]+Vc[e[14]]+Vc[e[15]]).toLowerCase()}(i)}var Uc=function(){function e(){cl(this,e)}return dl(e,null,[{key:"getRange",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=1e9,r=-1e9,o=1e9,s=-1e9;if(n.length>0)for(var a=0;a<n.length;a++)o>(t=e[n[a]]).shape.boundingBox.left&&(o=t.shape.boundingBox.left),s<t.shape.boundingBox.right&&(s=t.shape.boundingBox.right),i>t.shape.boundingBox.top&&(i=t.shape.boundingBox.top),r<t.shape.boundingBox.bottom&&(r=t.shape.boundingBox.bottom);return 1e9===o&&-1e9===s&&1e9===i&&-1e9===r&&(i=0,r=0,o=0,s=0),{minX:o,maxX:s,minY:i,maxY:r}}},{key:"getRangeCore",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=1e9,r=-1e9,o=1e9,s=-1e9;if(n.length>0)for(var a=0;a<n.length;a++)o>(t=e[n[a]]).x&&(o=t.x),s<t.x&&(s=t.x),i>t.y&&(i=t.y),r<t.y&&(r=t.y);return 1e9===o&&-1e9===s&&1e9===i&&-1e9===r&&(i=0,r=0,o=0,s=0),{minX:o,maxX:s,minY:i,maxY:r}}},{key:"findCenter",value:function(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}},{key:"cloneOptions",value:function(e,t){var n={};return void 0===t||"node"===t?(bo(n,e.options,!0),n.x=e.x,n.y=e.y,n.amountOfConnections=e.edges.length):bo(n,e.options,!0),n}}]),e}(),Gc=function(e){iu(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!$l)return!1;if($l.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call($l(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=su(e);if(t){var r=su(this).constructor;n=$l(i,arguments,r)}else n=i.apply(this,arguments);return ru(this,n)}}(n);function n(e,i,r,o,s,a){var l;return cl(this,n),(l=t.call(this,e,i,r,o,s,a)).isCluster=!0,l.containedNodes={},l.containedEdges={},l}return dl(n,[{key:"_openChildCluster",value:function(e){var t=this,n=this.body.nodes[e];if(void 0===this.containedNodes[e])throw new Error("node with id: "+e+" not in current cluster");if(!n.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],Co(n.edges,(function(e){delete t.containedEdges[e.id]})),Co(n.containedNodes,(function(e,n){t.containedNodes[n]=e})),n.containedNodes={},Co(n.containedEdges,(function(e,n){t.containedEdges[n]=e})),n.containedEdges={},Co(n.edges,(function(e){Co(t.edges,(function(n){var i,r,o=pr(i=n.clusteringEdgeReplacingIds).call(i,e.id);-1!==o&&(Co(e.clusteringEdgeReplacingIds,(function(e){n.clusteringEdgeReplacingIds.push(e),t.body.edges[e].edgeReplacedById=n.id})),Yo(r=n.clusteringEdgeReplacingIds).call(r,o,1))}))})),n.edges=[]}}]),n}(Hu),qc=function(){function e(t){var n=this;cl(this,e),this.body=t,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},_e(this.options,this.defaultOptions),this.body.emitter.on("_resetData",(function(){n.clusteredNodes={},n.clusteredEdges={}}))}return dl(e,[{key:"clusterByHubsize",value:function(e,t){void 0===e?e=this._getHubSize():"object"===Jr(e)&&(t=this._checkOptions(e),e=this._getHubSize());for(var n=[],i=0;i<this.body.nodeIndices.length;i++){var r=this.body.nodes[this.body.nodeIndices[i]];r.edges.length>=e&&n.push(r.id)}for(var o=0;o<n.length;o++)this.clusterByConnection(n[o],t,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===t.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");t=this._checkOptions(t);var i={},r={};Co(this.body.nodes,(function(n,o){n.options&&!0===t.joinCondition(n.options)&&(i[o]=n,Co(n.edges,(function(t){void 0===e.clusteredEdges[t.id]&&(r[t.id]=t)})))})),this._cluster(i,r,t,n)}},{key:"clusterByEdgeCount",value:function(e,t){var n=this,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t=this._checkOptions(t);for(var r,o,s,a=[],l={},u=function(i){var u={},c={},f=n.body.nodeIndices[i],p=n.body.nodes[f];if(void 0===l[f]){s=0,o=[];for(var v=0;v<p.edges.length;v++)void 0===n.clusteredEdges[(r=p.edges[v]).id]&&(r.toId!==r.fromId&&s++,o.push(r));if(s===e){h=function(e){if(null==t.joinCondition)return!0;var n=Uc.cloneOptions(e);return t.joinCondition(n)};for(var y=!0,g=0;g<o.length;g++){var m=n._getConnectedId(r=o[g],f);if(!h(p)){y=!1;break}c[r.id]=r,u[f]=p,u[m]=n.body.nodes[m],l[f]=!0}if(Vr(u).length>0&&Vr(c).length>0&&!0===y)if(void 0!==(d=function(){for(var e=0;e<a.length;++e)for(var t in u)if(void 0!==a[e].nodes[t])return a[e]}())){for(var b in u)void 0===d.nodes[b]&&(d.nodes[b]=u[b]);for(var _ in c)void 0===d.edges[_]&&(d.edges[_]=c[_])}else a.push({nodes:u,edges:c})}}},c=0;c<this.body.nodeIndices.length;c++){var h,d;u(c)}for(var f=0;f<a.length;f++)this._cluster(a[f].nodes,a[f].edges,t,!1);!0===i&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(1,e,t)}},{key:"clusterBridges",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(2,e,t)}},{key:"clusterByConnection",value:function(e,t){var n,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===e)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[e])throw new Error("The nodeId given to clusterByConnection does not exist!");var r=this.body.nodes[e];void 0===(t=this._checkOptions(t,r)).clusterNodeProperties.x&&(t.clusterNodeProperties.x=r.x),void 0===t.clusterNodeProperties.y&&(t.clusterNodeProperties.y=r.y),void 0===t.clusterNodeProperties.fixed&&(t.clusterNodeProperties.fixed={},t.clusterNodeProperties.fixed.x=r.options.fixed.x,t.clusterNodeProperties.fixed.y=r.options.fixed.y);var o={},s={},a=r.id,l=Uc.cloneOptions(r);o[a]=r;for(var u=0;u<r.edges.length;u++){var c=r.edges[u];if(void 0===this.clusteredEdges[c.id]){var h=this._getConnectedId(c,a);if(void 0===this.clusteredNodes[h])if(h!==a)if(void 0===t.joinCondition)s[c.id]=c,o[h]=this.body.nodes[h];else{var d=Uc.cloneOptions(this.body.nodes[h]);!0===t.joinCondition(l,d)&&(s[c.id]=c,o[h]=this.body.nodes[h])}else s[c.id]=c}}var f=Zr(n=Vr(o)).call(n,(function(e){return o[e].id}));for(p in o)if(o.hasOwnProperty(p))for(var p=o[p],v=0;v<p.edges.length;v++){var y=p.edges[v];pr(f).call(f,this._getConnectedId(y,p.id))>-1&&(s[y.id]=y)}this._cluster(o,s,t,i)}},{key:"_createClusterEdges",value:function(e,t,n,i){for(var r,o,s,a,l,u,c=Vr(e),h=[],d=0;d<c.length;d++){s=e[o=c[d]];for(var f=0;f<s.edges.length;f++)void 0===this.clusteredEdges[(r=s.edges[f]).id]&&(r.toId==r.fromId?t[r.id]=r:r.toId==o?(a=n.id,u=l=r.fromId):(l=n.id,u=a=r.toId),void 0===e[u]&&h.push({edge:r,fromId:l,toId:a}))}for(var p=[],v=function(e){for(var t=0;t<p.length;t++){var n=p[t];if(e.fromId===n.fromId&&e.toId===n.toId||e.fromId===n.toId&&e.toId===n.fromId)return n}return null},y=0;y<h.length;y++){var g=h[y],m=g.edge,b=v(g);null===b?(b=this._createClusteredEdge(g.fromId,g.toId,m,i),p.push(b)):b.clusteringEdgeReplacingIds.push(m.id),this.body.edges[m.id].edgeReplacedById=b.id,this._backupEdgeOptions(m),m.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===e.clusterEdgeProperties&&(e.clusterEdgeProperties={}),void 0===e.clusterNodeProperties&&(e.clusterNodeProperties={}),e}},{key:"_cluster",value:function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=[];for(var o in e)e.hasOwnProperty(o)&&void 0!==this.clusteredNodes[o]&&r.push(o);for(var s=0;s<r.length;++s)delete e[r[s]];if(0!=Vr(e).length&&(1!=Vr(e).length||1==n.clusterNodeProperties.allowSingleNodeCluster)){var a=bo({},n.clusterNodeProperties);if(void 0!==n.processProperties){var l=[];for(var u in e)if(e.hasOwnProperty(u)){var c=Uc.cloneOptions(e[u]);l.push(c)}var h=[];for(var d in t)if(t.hasOwnProperty(d)&&"clusterEdge:"!==d.substr(0,12)){var f=Uc.cloneOptions(t[d],"edge");h.push(f)}if(!(a=n.processProperties(a,l,h)))throw new Error("The processProperties function does not return properties!")}void 0===a.id&&(a.id="cluster:"+Yc());var p=a.id;void 0===a.label&&(a.label="cluster");var v=void 0;void 0===a.x&&(v=this._getClusterPosition(e),a.x=v.x),void 0===a.y&&(void 0===v&&(v=this._getClusterPosition(e)),a.y=v.y),a.id=p;var y=this.body.functions.createNode(a,Gc);y.containedNodes=e,y.containedEdges=t,y.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[a.id]=y,this._clusterEdges(e,t,a,n.clusterEdgeProperties),a.id=void 0,!0===i&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(e){void 0===this.clusteredEdges[e.id]&&(this.clusteredEdges[e.id]={physics:e.options.physics})}},{key:"_restoreEdge",value:function(e){var t=this.clusteredEdges[e.id];void 0!==t&&(e.setOptions({physics:t.physics}),delete this.clusteredEdges[e.id])}},{key:"isCluster",value:function(e){return void 0!==this.body.nodes[e]?!0===this.body.nodes[e].isCluster:(console.log("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(e){for(var t,n=Vr(e),i=e[n[0]].x,r=e[n[0]].x,o=e[n[0]].y,s=e[n[0]].y,a=1;a<n.length;a++)i=(t=e[n[a]]).x<i?t.x:i,r=t.x>r?t.x:r,o=t.y<o?t.y:o,s=t.y>s?t.y:s;return{x:.5*(i+r),y:.5*(o+s)}}},{key:"openCluster",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===e)throw new Error("No clusterNodeId supplied to openCluster.");var i=this.body.nodes[e];if(void 0===i)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==i.isCluster||void 0===i.containedNodes||void 0===i.containedEdges)throw new Error("The node:"+e+" is not a valid cluster.");var r=this.findNode(e),o=pr(r).call(r,e)-1;if(o>=0){var s=r[o],a=this.body.nodes[s];return a._openChildCluster(e),delete this.body.nodes[e],void(!0===n&&this.body.emitter.emit("_dataChanged"))}var l=i.containedNodes,u=i.containedEdges;if(void 0!==t&&void 0!==t.releaseFunction&&"function"==typeof t.releaseFunction){var c={},h={x:i.x,y:i.y};for(var d in l)if(l.hasOwnProperty(d)){var f=this.body.nodes[d];c[d]={x:f.x,y:f.y}}var p=t.releaseFunction(h,c);for(var v in l)if(l.hasOwnProperty(v)){var y=this.body.nodes[v];void 0!==p[v]&&(y.x=void 0===p[v].x?i.x:p[v].x,y.y=void 0===p[v].y?i.y:p[v].y)}}else Co(l,(function(e){!1===e.options.fixed.x&&(e.x=i.x),!1===e.options.fixed.y&&(e.y=i.y)}));for(var g in l)if(l.hasOwnProperty(g)){var m=this.body.nodes[g];m.vx=i.vx,m.vy=i.vy,m.setOptions({physics:!0}),delete this.clusteredNodes[g]}for(var b=[],_=0;_<i.edges.length;_++)b.push(i.edges[_]);for(var w=0;w<b.length;w++){for(var k=b[w],C=this._getConnectedId(k,e),x=this.clusteredNodes[C],S=0;S<k.clusteringEdgeReplacingIds.length;S++){var O=k.clusteringEdgeReplacingIds[S],E=this.body.edges[O];if(void 0!==E)if(void 0!==x){var T=this.body.nodes[x.clusterId];T.containedEdges[E.id]=E,delete u[E.id];var D=E.fromId,M=E.toId;E.toId==C?M=x.clusterId:D=x.clusterId,this._createClusteredEdge(D,M,E,T.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(E)}k.remove()}for(var P in u)u.hasOwnProperty(P)&&this._restoreEdge(u[P]);delete this.body.nodes[e],!0===n&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(e){var t=[];if(!0===this.isCluster(e)){var n=this.body.nodes[e].containedNodes;for(var i in n)n.hasOwnProperty(i)&&t.push(this.body.nodes[i].id)}return t}},{key:"findNode",value:function(e){for(var t,n=[],i=0;void 0!==this.clusteredNodes[e]&&i<100;){if(void 0===(t=this.body.nodes[e]))return[];n.push(t.id),e=this.clusteredNodes[e].clusterId,i++}return void 0===(t=this.body.nodes[e])?[]:(n.push(t.id),zc(n).call(n),n)}},{key:"updateClusteredNode",value:function(e,t){if(void 0===e)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===t)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[e])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(t),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(e,t){if(void 0===e)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===t)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[e])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var n=this.getClusteredEdges(e),i=0;i<n.length;i++)this.body.edges[n[i]].setOptions(t);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(e){for(var t=[],n=0;void 0!==e&&void 0!==this.body.edges[e]&&n<100;)t.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,n++;return zc(t).call(t),t}},{key:"getBaseEdge",value:function(e){return this.getBaseEdges(e)[0]}},{key:"getBaseEdges",value:function(e){for(var t=[e],n=[],i=[],r=0;t.length>0&&r<100;){var o=t.pop();if(void 0!==o){var s=this.body.edges[o];if(void 0!==s){r++;var a=s.clusteringEdgeReplacingIds;if(void 0===a)i.push(o);else for(var l=0;l<a.length;++l){var u=a[l];-1===pr(t).call(t,a)&&-1===pr(n).call(n,a)&&t.push(u)}n.push(o)}}}return i}},{key:"_getConnectedId",value:function(e,t){return e.toId!=t?e.toId:e.fromId}},{key:"_getHubSize",value:function(){for(var e=0,t=0,n=0,i=0,r=0;r<this.body.nodeIndices.length;r++){var o=this.body.nodes[this.body.nodeIndices[r]];o.edges.length>i&&(i=o.edges.length),e+=o.edges.length,t+=Math.pow(o.edges.length,2),n+=1}e/=n;var s=(t/=n)-Math.pow(e,2),a=Math.sqrt(s),l=Math.floor(e+2*a);return l>i&&(l=i),l}},{key:"_createClusteredEdge",value:function(e,t,n,i,r){var o=Uc.cloneOptions(n,"edge");bo(o,i),o.from=e,o.to=t,o.id="clusterEdge:"+Yc(),void 0!==r&&bo(o,r);var s=this.body.functions.createEdge(o);return s.clusteringEdgeReplacingIds=[n.id],s.connect(),this.body.edges[s.id]=s,s}},{key:"_clusterEdges",value:function(e,t,n,i){if(t instanceof Cc){var r={};r[t.id]=t,t=r}if(e instanceof Hu){var o={};o[e.id]=e,e=o}if(null==n)throw new Error("_clusterEdges: parameter clusterNode required");for(var s in void 0===i&&(i=n.clusterEdgeProperties),this._createClusterEdges(e,t,n,i),t)if(t.hasOwnProperty(s)&&void 0!==this.body.edges[s]){var a=this.body.edges[s];this._backupEdgeOptions(a),a.setOptions({physics:!1})}for(var l in e)e.hasOwnProperty(l)&&(this.clusteredNodes[l]={clusterId:n.id,node:this.body.nodes[l]},this.body.nodes[l].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(e){if(void 0!==e){var t=this.clusteredNodes[e];if(void 0!==t){var n=t.clusterId;if(void 0!==n)return this.body.nodes[n]}}}},{key:"_filter",value:function(e,t){var n=[];return Co(e,(function(e){t(e)&&n.push(e)})),n}},{key:"_updateState",value:function(){var e,t=this,n=[],i={},r=function(e){Co(t.body.nodes,(function(t){!0===t.isCluster&&e(t)}))};for(e in this.clusteredNodes)this.clusteredNodes.hasOwnProperty(e)&&void 0===this.body.nodes[e]&&n.push(e);r((function(e){for(var t=0;t<n.length;t++)delete e.containedNodes[n[t]]}));for(var o=0;o<n.length;o++)delete this.clusteredNodes[n[o]];Co(this.clusteredEdges,(function(e){var n=t.body.edges[e];void 0!==n&&n.endPointsValid()||(i[e]=e)})),r((function(e){Co(e.containedEdges,(function(e,t){e.endPointsValid()||i[t]||(i[t]=t)}))})),Co(this.body.edges,(function(e,n){var r=!0,o=e.clusteringEdgeReplacingIds;if(void 0!==o){var s=0;Co(o,(function(e){var n=t.body.edges[e];void 0!==n&&n.endPointsValid()&&(s+=1)})),r=s>0}e.endPointsValid()&&r||(i[n]=n)})),r((function(e){Co(i,(function(n){delete e.containedEdges[n],Co(e.edges,(function(r,o){r.id!==n?r.clusteringEdgeReplacingIds=t._filter(r.clusteringEdgeReplacingIds,(function(e){return!i[e]})):e.edges[o]=null})),e.edges=t._filter(e.edges,(function(e){return null!==e}))}))})),Co(i,(function(e){delete t.clusteredEdges[e]})),Co(i,(function(e){delete t.body.edges[e]})),Co(Vr(this.body.edges),(function(e){var n=t.body.edges[e],i=t._isClusteredNode(n.fromId)||t._isClusteredNode(n.toId);if(i!==t._isClusteredEdge(n.id))if(i){var r=t._getClusterNodeForNode(n.fromId);void 0!==r&&t._clusterEdges(t.body.nodes[n.fromId],n,r);var o=t._getClusterNodeForNode(n.toId);void 0!==o&&t._clusterEdges(t.body.nodes[n.toId],n,o)}else delete t._clusterEdges[e],t._restoreEdge(n)}));for(var s=!1,a=!0,l=function(){var e=[];r((function(t){var n=Vr(t.containedNodes).length,i=!0===t.options.allowSingleNodeCluster;(i&&n<1||!i&&n<2)&&e.push(t.id)}));for(var n=0;n<e.length;++n)t.openCluster(e[n],{},!1);a=e.length>0,s=s||a};a;)l();s&&this._updateState()}},{key:"_isClusteredNode",value:function(e){return void 0!==this.clusteredNodes[e]}},{key:"_isClusteredEdge",value:function(e){return void 0!==this.clusteredEdges[e]}}]),e}(),Zc=function(){function e(t,n){var i;cl(this,e),void 0!==window&&(i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===i?function(e){e()}:i,this.body=t,this.canvas=n,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},_e(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return dl(e,[{key:"bindEventListeners",value:function(){var e,t=this;this.body.emitter.on("dragStart",(function(){t.dragging=!0})),this.body.emitter.on("dragEnd",(function(){t.dragging=!1})),this.body.emitter.on("zoom",(function(){t.zooming=!0,window.clearTimeout(t.zoomTimeoutId),t.zoomTimeoutId=window.setTimeout((function(){var e;t.zooming=!1,$(e=t._requestRedraw).call(e,t)()}),250)})),this.body.emitter.on("_resizeNodes",(function(){t._resizeNodes()})),this.body.emitter.on("_redraw",(function(){!1===t.renderingActive&&t._redraw()})),this.body.emitter.on("_blockRedraw",(function(){t.allowRedraw=!1})),this.body.emitter.on("_allowRedraw",(function(){t.allowRedraw=!0,t.redrawRequested=!1})),this.body.emitter.on("_requestRedraw",$(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",(function(){t.renderRequests+=1,t.renderingActive=!0,t._startRendering()})),this.body.emitter.on("_stopRendering",(function(){t.renderRequests-=1,t.renderingActive=t.renderRequests>0,t.renderTimer=void 0})),this.body.emitter.on("destroy",(function(){t.renderRequests=0,t.allowRedraw=!1,t.renderingActive=!1,!0===t.requiresTimeout?clearTimeout(t.renderTimer):window.cancelAnimationFrame(t.renderTimer),t.body.emitter.off()}))}},{key:"setOptions",value:function(e){void 0!==e&&go(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}},{key:"_requestNextFrame",value:function(e,t){if("undefined"!=typeof window){var n,i=window;return!0===this.requiresTimeout?n=i.setTimeout(e,t):i.requestAnimationFrame&&(n=i.requestAnimationFrame(e)),n}}},{key:"_startRendering",value:function(){var e;!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame($(e=this._renderStep).call(e,this),this.simulationInterval))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var e=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame((function(){e._redraw(!1)}),0))}},{key:"_redraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1,0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.canvas.setTransform();var t=this.canvas.getContext(),n=this.canvas.frame.canvas.clientWidth,i=this.canvas.frame.canvas.clientHeight;if(t.clearRect(0,0,n,i),0===this.canvas.frame.clientWidth)return;t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale),t.beginPath(),this.body.emitter.emit("beforeDrawing",t),t.closePath(),!1===e&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawEdges(t),(!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag)&&this._drawNodes(t,e),!1===e&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawArrows(t),t.beginPath(),this.body.emitter.emit("afterDrawing",t),t.closePath(),t.restore(),!0===e&&t.clearRect(0,0,n,i)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);var t,n=this.body.nodes;for(var i in n)n.hasOwnProperty(i)&&((t=n[i]).resize(e),t.updateBoundingBox(e,t.selected));e.restore()}},{key:"_drawNodes",value:function(e){for(var t,n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.body.nodes,o=this.body.nodeIndices,s=[],a=[],l=20,u=this.canvas.DOMtoCanvas({x:-l,y:-l}),c=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+l,y:this.canvas.frame.canvas.clientHeight+l}),h={top:u.y,left:u.x,bottom:c.y,right:c.x},d=0;d<o.length;d++)(t=r[o[d]]).hover?a.push(o[d]):t.isSelected()?s.push(o[d]):!0===i||!0===t.isBoundingBoxOverlappingWith(h)?t.draw(e):t.updateBoundingBox(e,t.selected);var f=s.length,p=a.length;for(n=0;n<f;n++)(t=r[s[n]]).draw(e);for(n=0;n<p;n++)(t=r[a[n]]).draw(e)}},{key:"_drawEdges",value:function(e){for(var t=this.body.edges,n=this.body.edgeIndices,i=0;i<n.length;i++){var r=t[n[i]];!0===r.connected&&r.draw(e)}}},{key:"_drawArrows",value:function(e){for(var t=this.body.edges,n=this.body.edgeIndices,i=0;i<n.length;i++){var r=t[n[i]];!0===r.connected&&r.drawArrows(e)}}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var e=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,(-1!=pr(e).call(e,"msie 9.0")||-1!=pr(e).call(e,"safari")&&pr(e).call(e,"chrome")<=-1)&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}}]),e}(),Xc=R.setInterval;function Kc(e,t){t.inputHandler=function(e){e.isFirst&&t(e)},e.on("hammer.input",t.inputHandler)}function Jc(e,t){return t.inputHandler=function(e){e.isFinal&&t(e)},e.on("hammer.input",t.inputHandler)}var Qc=function(){function e(t){var n;cl(this,e),this.body=t,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=$(n=this._onResize).call(n,this),this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},_e(this.options,this.defaultOptions),this.bindEventListeners()}return dl(e,[{key:"bindEventListeners",value:function(){var e,t=this;this.body.emitter.once("resize",(function(e){0!==e.width&&(t.body.view.translation.x=.5*e.width),0!==e.height&&(t.body.view.translation.y=.5*e.height)})),this.body.emitter.on("setSize",$(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",(function(){t.hammerFrame.destroy(),t.hammer.destroy(),t._cleanUp()}))}},{key:"setOptions",value:function(e){var t,n,i,r,o,s,a=this;void 0!==e&&go(["width","height","autoResize"],this.options,e),!0===this.options.autoResize&&(this._cleanUp(),this.resizeTimer=Xc((function(){!0===a.setSize()&&a.body.emitter.emit("_requestRedraw")}),1e3),this.resizeFunction=$(t=this._onResize).call(t,this),n=window,i="resize",r=this.resizeFunction,n.addEventListener?(void 0===o&&(o=!1),"mousewheel"===i&&pr(s=navigator.userAgent).call(s,"Firefox")>=0&&(i="DOMMouseScroll"),n.addEventListener(i,r,o)):n.attachEvent("on"+i,r))}},{key:"_cleanUp",value:function(){var e,t,n,i,r;void 0!==this.resizeTimer&&clearInterval(this.resizeTimer),e=window,t="resize",n=this.resizeFunction,e.removeEventListener?(void 0===i&&(i=!1),"mousewheel"===t&&pr(r=navigator.userAgent).call(r,"Firefox")>=0&&(t="DOMMouseScroll"),e.removeEventListener(t,n,i)):e.detachEvent("on"+t,n),this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){var e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,t=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,n=this.cameraState.scale;1!=e&&1!=t?n=.5*this.cameraState.scale*(e+t):1!=e?n=this.cameraState.scale*e:1!=t&&(n=this.cameraState.scale*t),this.body.view.scale=n;var i=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),r={x:i.x-this.cameraState.position.x,y:i.y-this.cameraState.position.y};this.body.view.translation.x+=r.x*this.body.view.scale,this.body.view.translation.y+=r.y*this.body.view.scale}}},{key:"_prepareValue",value:function(e){if("number"==typeof e)return e+"px";if("string"==typeof e){if(-1!==pr(e).call(e,"%")||-1!==pr(e).call(e,"px"))return e;if(-1===pr(e).call(e,"%"))return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var e=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new al(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:al.DIRECTION_ALL}),Kc(this.hammer,(function(t){e.body.eventListeners.onTouch(t)})),this.hammer.on("tap",(function(t){e.body.eventListeners.onTap(t)})),this.hammer.on("doubletap",(function(t){e.body.eventListeners.onDoubleTap(t)})),this.hammer.on("press",(function(t){e.body.eventListeners.onHold(t)})),this.hammer.on("panstart",(function(t){e.body.eventListeners.onDragStart(t)})),this.hammer.on("panmove",(function(t){e.body.eventListeners.onDrag(t)})),this.hammer.on("panend",(function(t){e.body.eventListeners.onDragEnd(t)})),this.hammer.on("pinch",(function(t){e.body.eventListeners.onPinch(t)})),this.frame.canvas.addEventListener("wheel",(function(t){e.body.eventListeners.onMouseWheel(t)})),this.frame.canvas.addEventListener("mousemove",(function(t){e.body.eventListeners.onMouseMove(t)})),this.frame.canvas.addEventListener("contextmenu",(function(t){e.body.eventListeners.onContext(t)})),this.hammerFrame=new al(this.frame),Jc(this.hammerFrame,(function(t){e.body.eventListeners.onRelease(t)}))}},{key:"setSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;e=this._prepareValue(e),t=this._prepareValue(t);var n=!1,i=this.frame.canvas.width,r=this.frame.canvas.height,o=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||t!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=t)this._getCameraState(o),this.frame.style.width=e,this.frame.style.height=t,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=t,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},n=!0;else{var s=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),a=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===s&&this.frame.canvas.height===a||this._getCameraState(o),this.frame.canvas.width!==s&&(this.frame.canvas.width=s,n=!0),this.frame.canvas.height!==a&&(this.frame.canvas.height=a,n=!0)}return!0===n&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(i/this.pixelRatio),oldHeight:Math.round(r/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,n}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var e=this.getContext();if(void 0===e)throw new Error("Could not get canvax context");var t=1;return"undefined"!=typeof window&&(t=window.devicePixelRatio||1),t/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var e=this.getContext();if(void 0===e)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}},{key:"DOMtoCanvas",value:function(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}]),e}(),$c=function(){function e(t,n){var i,r,o=this;cl(this,e),this.body=t,this.canvas=n,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",$(i=this.fit).call(i,this)),this.body.emitter.on("animationFinished",(function(){o.body.emitter.emit("_stopRendering")})),this.body.emitter.on("unlockNode",$(r=this.releaseNode).call(r,this))}return dl(e,[{key:"setOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e}},{key:"fit",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{nodes:[]},i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];void 0!==(n=_e({},n)).nodes&&0!==n.nodes.length||(n.nodes=this.body.nodeIndices);var r=this.canvas.frame.canvas.clientWidth,o=this.canvas.frame.canvas.clientHeight;if(0===r||0===o)t=1,e=Uc.getRange(this.body.nodes,n.nodes);else if(!0===i){var s=0;for(var a in this.body.nodes)if(this.body.nodes.hasOwnProperty(a)){var l=this.body.nodes[a];!0===l.predefinedPosition&&(s+=1)}if(s>.5*this.body.nodeIndices.length)return void this.fit(n,!1);e=Uc.getRange(this.body.nodes,n.nodes);var u=this.body.nodeIndices.length;t=12.662/(u+7.4147)+.0964822;var c=Math.min(r/600,o/600);t*=c}else{this.body.emitter.emit("_resizeNodes"),e=Uc.getRange(this.body.nodes,n.nodes);var h=1.1*Math.abs(e.maxX-e.minX),d=1.1*Math.abs(e.maxY-e.minY),f=r/h,p=o/d;t=f<=p?f:p}(t>1||0===t)&&(t=1);var v=Uc.findCenter(e),y={position:v,scale:t,animation:n.animation};this.moveTo(y)}},{key:"focus",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==this.body.nodes[e]){var n={x:this.body.nodes[e].x,y:this.body.nodes[e].y};t.position=n,t.lockedOnNode=e,this.moveTo(t)}else console.log("Node: "+e+" cannot be found.")}},{key:"moveTo",value:function(e){if(void 0!==e){if(null!=e.offset){if(null!=e.offset.x){if(e.offset.x=+e.offset.x,!Ol(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(null!=e.offset.y){if(e.offset.y=+e.offset.y,!Ol(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(null!=e.position){if(null!=e.position.x){if(e.position.x=+e.position.x,!Ol(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(null!=e.position.y){if(e.position.y=+e.position.y,!Ol(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(null!=e.scale){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;void 0===e.animation&&(e.animation={duration:0}),!1===e.animation&&(e.animation={duration:0}),!0===e.animation&&(e.animation={}),void 0===e.animation.duration&&(e.animation.duration=1e3),void 0===e.animation.easingFunction&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}else e={}}},{key:"animateView",value:function(e){if(void 0!==e){this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),!0===e.locked&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;var t,n,i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight});this.targetTranslation={x:this.sourceTranslation.x+(i.x-e.position.x)*this.targetScale+e.offset.x,y:this.sourceTranslation.y+(i.y-e.position.y)*this.targetScale+e.offset.y},0===e.animation.duration?null!=this.lockedOnNodeId?(this.viewFunction=$(t=this._lockedRedraw).call(t,this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=$(n=this._transitionRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var e=this.body.nodes[this.lockedOnNodeId].x,t=this.body.nodes[this.lockedOnNodeId].y,n=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i=this.body.view.translation;this.body.view.translation={x:i.x+(n.x-e)*this.body.view.scale+this.lockedOnNodeOffset.x,y:i.y+(n.y-t)*this.body.view.scale+this.lockedOnNodeOffset.y}}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===e?1:this.easingTime;var t,n=Ro[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*n,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*n,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*n},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=$(t=this._lockedRedraw).call(t,this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),e}(),eh=function(){function e(t,n){var i=this;cl(this,e),this.body=t,this.canvas=n,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",(function(){i.activated=!0,i.configureKeyboardBindings()})),this.body.emitter.on("deactivate",(function(){i.activated=!1,i.configureKeyboardBindings()})),this.body.emitter.on("destroy",(function(){void 0!==i.keycharm&&i.keycharm.destroy()})),this.options={}}return dl(e,[{key:"setOptions",value:function(e){void 0!==e&&(this.options=e,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var e=this;this.cleanNavigation(),this.navigationDOM={};var t=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],n=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var i=0;i<t.length;i++){this.navigationDOM[t[i]]=document.createElement("div"),this.navigationDOM[t[i]].className="vis-button vis-"+t[i],this.navigationDOM.wrapper.appendChild(this.navigationDOM[t[i]]);var r,o,s=new al(this.navigationDOM[t[i]]);Kc(s,"_fit"===n[i]?$(r=this._fit).call(r,this):$(o=this.bindToRedraw).call(o,this,n[i])),this.navigationHammers.push(s)}var a=new al(this.canvas.frame);Jc(a,(function(){e._stopMovement()})),this.navigationHammers.push(a),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(e){var t;void 0===this.boundFunctions[e]&&(this.boundFunctions[e]=$(t=this[e]).call(t,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(e){void 0!==this.boundFunctions[e]&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var e in this.boundFunctions)this.boundFunctions.hasOwnProperty(e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var e=this.body.view.scale*(1+this.options.keyboard.speed.zoom),t=this.body.view.translation,n=e/this.body.view.scale,i=(1-n)*this.canvas.canvasViewCenter.x+t.x*n,r=(1-n)*this.canvas.canvasViewCenter.y+t.y*n;this.body.view.scale=e,this.body.view.translation={x:i,y:r},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var e=this.body.view.scale/(1+this.options.keyboard.speed.zoom),t=this.body.view.translation,n=e/this.body.view.scale,i=(1-n)*this.canvas.canvasViewCenter.x+t.x*n,r=(1-n)*this.canvas.canvasViewCenter.y+t.y*n;this.body.view.scale=e,this.body.view.translation={x:i,y:r},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var e,t,n,i,r,o,s,a,l,u,c,h,d,f,p,v,y,g,m,b,_,w,k,C,x=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(this.keycharm=Ns(!0===this.options.keyboard.bindToWindow?{container:window,preventDefault:!0}:{container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&($(e=this.keycharm).call(e,"up",(function(){x.bindToRedraw("_moveUp")}),"keydown"),$(t=this.keycharm).call(t,"down",(function(){x.bindToRedraw("_moveDown")}),"keydown"),$(n=this.keycharm).call(n,"left",(function(){x.bindToRedraw("_moveLeft")}),"keydown"),$(i=this.keycharm).call(i,"right",(function(){x.bindToRedraw("_moveRight")}),"keydown"),$(r=this.keycharm).call(r,"=",(function(){x.bindToRedraw("_zoomIn")}),"keydown"),$(o=this.keycharm).call(o,"num+",(function(){x.bindToRedraw("_zoomIn")}),"keydown"),$(s=this.keycharm).call(s,"num-",(function(){x.bindToRedraw("_zoomOut")}),"keydown"),$(a=this.keycharm).call(a,"-",(function(){x.bindToRedraw("_zoomOut")}),"keydown"),$(l=this.keycharm).call(l,"[",(function(){x.bindToRedraw("_zoomOut")}),"keydown"),$(u=this.keycharm).call(u,"]",(function(){x.bindToRedraw("_zoomIn")}),"keydown"),$(c=this.keycharm).call(c,"pageup",(function(){x.bindToRedraw("_zoomIn")}),"keydown"),$(h=this.keycharm).call(h,"pagedown",(function(){x.bindToRedraw("_zoomOut")}),"keydown"),$(d=this.keycharm).call(d,"up",(function(){x.unbindFromRedraw("_moveUp")}),"keyup"),$(f=this.keycharm).call(f,"down",(function(){x.unbindFromRedraw("_moveDown")}),"keyup"),$(p=this.keycharm).call(p,"left",(function(){x.unbindFromRedraw("_moveLeft")}),"keyup"),$(v=this.keycharm).call(v,"right",(function(){x.unbindFromRedraw("_moveRight")}),"keyup"),$(y=this.keycharm).call(y,"=",(function(){x.unbindFromRedraw("_zoomIn")}),"keyup"),$(g=this.keycharm).call(g,"num+",(function(){x.unbindFromRedraw("_zoomIn")}),"keyup"),$(m=this.keycharm).call(m,"num-",(function(){x.unbindFromRedraw("_zoomOut")}),"keyup"),$(b=this.keycharm).call(b,"-",(function(){x.unbindFromRedraw("_zoomOut")}),"keyup"),$(_=this.keycharm).call(_,"[",(function(){x.unbindFromRedraw("_zoomOut")}),"keyup"),$(w=this.keycharm).call(w,"]",(function(){x.unbindFromRedraw("_zoomIn")}),"keyup"),$(k=this.keycharm).call(k,"pageup",(function(){x.unbindFromRedraw("_zoomIn")}),"keyup"),$(C=this.keycharm).call(C,"pagedown",(function(){x.unbindFromRedraw("_zoomOut")}),"keyup")))}}]),e}(),th=function(){function e(t,n){cl(this,e),this.container=t,this.overflowMethod=n||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return dl(e,[{key:"setPosition",value:function(e,t){this.x=Bi(e),this.y=Bi(t)}},{key:"setText",value:function(e){e instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(e)):this.frame.innerHTML=e}},{key:"show",value:function(e){if(void 0===e&&(e=!0),!0===e){var t=this.frame.clientHeight,n=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,r=this.frame.parentNode.clientWidth,o=0,s=0;if("flip"==this.overflowMethod){var a=!1,l=!0;this.y-t<this.padding&&(l=!1),this.x+n>r-this.padding&&(a=!0),o=a?this.x-n:this.x,s=l?this.y-t:this.y}else(s=this.y-t)+t+this.padding>i&&(s=i-t-this.padding),s<this.padding&&(s=this.padding),(o=this.x)+n+this.padding>r&&(o=r-n-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=s+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),e}(),nh=function(){function e(t,n,i){var r,o,s,a,l,u,c,h,d,f,p,v,y;cl(this,e),this.body=t,this.canvas=n,this.selectionHandler=i,this.navigationHandler=new eh(t,n),this.body.eventListeners.onTap=$(r=this.onTap).call(r,this),this.body.eventListeners.onTouch=$(o=this.onTouch).call(o,this),this.body.eventListeners.onDoubleTap=$(s=this.onDoubleTap).call(s,this),this.body.eventListeners.onHold=$(a=this.onHold).call(a,this),this.body.eventListeners.onDragStart=$(l=this.onDragStart).call(l,this),this.body.eventListeners.onDrag=$(u=this.onDrag).call(u,this),this.body.eventListeners.onDragEnd=$(c=this.onDragEnd).call(c,this),this.body.eventListeners.onMouseWheel=$(h=this.onMouseWheel).call(h,this),this.body.eventListeners.onPinch=$(d=this.onPinch).call(d,this),this.body.eventListeners.onMouseMove=$(f=this.onMouseMove).call(f,this),this.body.eventListeners.onRelease=$(p=this.onRelease).call(p,this),this.body.eventListeners.onContext=$(v=this.onContext).call(v,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=$(y=this.getPointer).call(y,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},_e(this.options,this.defaultOptions),this.bindEventListeners()}return dl(e,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("destroy",(function(){clearTimeout(e.popupTimer),delete e.body.functions.getPointer}))}},{key:"setOptions",value:function(e){void 0!==e&&(mo(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),Fo(this.options,e,"keyboard"),e.tooltip&&(_e(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=Eo(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(e){return{x:e.x-(t=this.canvas.frame.canvas,t.getBoundingClientRect().left),y:e.y-ko(this.canvas.frame.canvas)};var t}},{key:"onTouch",value:function(e){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(e){var t=this.getPointer(e.center);this.checkSelectionChanges(t,e,this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey)),this.selectionHandler._generateClickEvent("click",e,t)}},{key:"onDoubleTap",value:function(e){var t=this.getPointer(e.center);this.selectionHandler._generateClickEvent("doubleClick",e,t)}},{key:"onHold",value:function(e){var t=this.getPointer(e.center);this.checkSelectionChanges(t,e,this.selectionHandler.options.multiselect),this.selectionHandler._generateClickEvent("click",e,t),this.selectionHandler._generateClickEvent("hold",e,t)}},{key:"onRelease",value:function(e){if((new Date).valueOf()-this.touchTime>10){var t=this.getPointer(e.center);this.selectionHandler._generateClickEvent("release",e,t),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(e){var t=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler._generateClickEvent("oncontext",e,t)}},{key:"checkSelectionChanges",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.selectionHandler.getSelection(),r=!1;r=!0===n?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e);var o=this.selectionHandler.getSelection(),s=this._determineDifference(i,o),a=this._determineDifference(o,i);s.edges.length>0&&(this.selectionHandler._generateClickEvent("deselectEdge",t,e,i),r=!0),s.nodes.length>0&&(this.selectionHandler._generateClickEvent("deselectNode",t,e,i),r=!0),a.nodes.length>0&&(this.selectionHandler._generateClickEvent("selectNode",t,e),r=!0),a.edges.length>0&&(this.selectionHandler._generateClickEvent("selectEdge",t,e),r=!0),!0===r&&this.selectionHandler._generateClickEvent("select",t,e)}},{key:"_determineDifference",value:function(e,t){var n=function(e,t){for(var n=[],i=0;i<e.length;i++){var r=e[i];-1===pr(t).call(t,r)&&n.push(r)}return n};return{nodes:n(e.nodes,t.nodes),edges:n(e.edges,t.edges)}}},{key:"onDragStart",value:function(e){if(!this.drag.dragging){void 0===this.drag.pointer&&this.onTouch(e);var t=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=_e({},this.body.view.translation),this.drag.nodeId=void 0,void 0!==t&&!0===this.options.dragNodes){this.drag.nodeId=t.id,!1===t.isSelected()&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(t)),this.selectionHandler._generateClickEvent("dragStart",e,this.drag.pointer);var n=this.selectionHandler.selectionObj.nodes;for(var i in n)if(n.hasOwnProperty(i)){var r=n[i],o={id:r.id,node:r,x:r.x,y:r.y,xFixed:r.options.fixed.x,yFixed:r.options.fixed.y};r.options.fixed.x=!0,r.options.fixed.y=!0,this.drag.selection.push(o)}}else this.selectionHandler._generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}}},{key:"onDrag",value:function(e){var t=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var n=this.getPointer(e.center),i=this.drag.selection;if(i&&i.length&&!0===this.options.dragNodes){this.selectionHandler._generateClickEvent("dragging",e,n);var r=n.x-this.drag.pointer.x,o=n.y-this.drag.pointer.y;Ni(i).call(i,(function(e){var n=e.node;!1===e.xFixed&&(n.x=t.canvas._XconvertDOMtoCanvas(t.canvas._XconvertCanvasToDOM(e.x)+r)),!1===e.yFixed&&(n.y=t.canvas._YconvertDOMtoCanvas(t.canvas._YconvertCanvasToDOM(e.y)+o))})),this.body.emitter.emit("startSimulation")}else if(!0===this.options.dragView){if(this.selectionHandler._generateClickEvent("dragging",e,n,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(e);this.body.view.translation={x:this.drag.translation.x+(n.x-this.drag.pointer.x),y:this.drag.translation.y+(n.y-this.drag.pointer.y)},this.body.emitter.emit("_requestRedraw")}}}},{key:"onDragEnd",value:function(e){this.drag.dragging=!1;var t=this.drag.selection;t&&t.length?(Ni(t).call(t,(function(e){e.node.options.fixed.x=e.xFixed,e.node.options.fixed.y=e.yFixed})),this.selectionHandler._generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler._generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}},{key:"onPinch",value:function(e){var t=this.getPointer(e.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1),this.zoom(this.pinch.scale*e.scale,t)}},{key:"zoom",value:function(e,t){if(!0===this.options.zoomView){var n=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);var i=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));var r=this.body.view.translation,o=e/n,s=(1-o)*t.x+r.x*o,a=(1-o)*t.y+r.y*o;if(this.body.view.scale=e,this.body.view.translation={x:s,y:a},null!=i){var l=this.canvas.canvasToDOM(i);this.drag.pointer.x=l.x,this.drag.pointer.y=l.y}this.body.emitter.emit("_requestRedraw"),this.body.emitter.emit("zoom",n<e?{direction:"+",scale:this.body.view.scale,pointer:t}:{direction:"-",scale:this.body.view.scale,pointer:t})}}},{key:"onMouseWheel",value:function(e){if(!0===this.options.zoomView){if(0!==e.deltaY){var t=this.body.view.scale;t*=1+.1*this.options.zoomSpeed*(e.deltaY<0?1:-1);var n=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(t,n)}e.preventDefault()}}},{key:"onMouseMove",value:function(e){var t=this,n=this.getPointer({x:e.clientX,y:e.clientY}),i=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(n),!1===this.popup.hidden&&(i=!0,this.popup.setPosition(n.x+3,n.y-5),this.popup.show())),!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===i&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=bl((function(){return t._checkShowPopup(n)}),this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(e,n)}},{key:"_checkShowPopup",value:function(e){var t=this.canvas._XconvertDOMtoCanvas(e.x),n=this.canvas._YconvertDOMtoCanvas(e.y),i={left:t,top:n,right:t,bottom:n},r=void 0===this.popupObj?void 0:this.popupObj.id,o=!1,s="node";if(void 0===this.popupObj){for(var a,l=this.body.nodeIndices,u=this.body.nodes,c=[],h=0;h<l.length;h++)!0===(a=u[l[h]]).isOverlappingWith(i)&&(o=!0,void 0!==a.getTitle()&&c.push(l[h]));c.length>0&&(this.popupObj=u[c[c.length-1]],o=!0)}if(void 0===this.popupObj&&!1===o){for(var d,f=this.body.edgeIndices,p=this.body.edges,v=[],y=0;y<f.length;y++)!0===(d=p[f[y]]).isOverlappingWith(i)&&!0===d.connected&&void 0!==d.getTitle()&&v.push(f[y]);v.length>0&&(this.popupObj=p[v[v.length-1]],s="edge")}void 0!==this.popupObj?this.popupObj.id!==r&&(void 0===this.popup&&(this.popup=new th(this.canvas.frame)),this.popup.popupTargetType=s,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(e){var t=this.selectionHandler._pointerToPositionObject(e),n=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(t))){var i=this.selectionHandler.getNodeAt(e);n=void 0!==i&&i.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(e)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(t));!1===n&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),e}(),ih=function(){function e(t,n){var i=this;cl(this,e),this.body=t,this.canvas=n,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},_e(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",(function(){i.updateSelection()}))}return dl(e,[{key:"setOptions",value:function(e){void 0!==e&&go(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}},{key:"selectOnPoint",value:function(e){var t=!1;if(!0===this.options.selectable){var n=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),void 0!==n&&(t=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return t}},{key:"selectAdditionalOnPoint",value:function(e){var t=!1;if(!0===this.options.selectable){var n=this.getNodeAt(e)||this.getEdgeAt(e);void 0!==n&&(t=!0,!0===n.isSelected()?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return t}},{key:"_initBaseEvent",value:function(e,t){var n={};return n.pointer={DOM:{x:t.x,y:t.y},canvas:this.canvas.DOMtoCanvas(t)},n.event=e,n}},{key:"_generateClickEvent",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=this._initBaseEvent(t,n);if(!0===r)o.nodes=[],o.edges=[];else{var s=this.getSelection();o.nodes=s.nodes,o.edges=s.edges}void 0!==i&&(o.previousSelection=i),"click"==e&&(o.items=this.getClickedItems(n)),void 0!==t.controlEdge&&(o.controlEdge=t.controlEdge),this.body.emitter.emit(e,o)}},{key:"selectObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;return void 0!==e&&(e instanceof Hu&&!0===t&&this._selectConnectedEdges(e),e.select(),this._addToSelection(e),!0)}},{key:"deselectObject",value:function(e){!0===e.isSelected()&&(e.selected=!1,this._removeFromSelection(e))}},{key:"_getAllNodesOverlappingWith",value:function(e){for(var t=[],n=this.body.nodes,i=0;i<this.body.nodeIndices.length;i++){var r=this.body.nodeIndices[i];n[r].isOverlappingWith(e)&&t.push(r)}return t}},{key:"_pointerToPositionObject",value:function(e){var t=this.canvas.DOMtoCanvas(e);return{left:t.x-1,top:t.y+1,right:t.x+1,bottom:t.y-1}}},{key:"getNodeAt",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._pointerToPositionObject(e),i=this._getAllNodesOverlappingWith(n);return i.length>0?!0===t?this.body.nodes[i[i.length-1]]:i[i.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(e,t){for(var n=this.body.edges,i=0;i<this.body.edgeIndices.length;i++){var r=this.body.edgeIndices[i];n[r].isOverlappingWith(e)&&t.push(r)}}},{key:"_getAllEdgesOverlappingWith",value:function(e){var t=[];return this._getEdgesOverlappingWith(e,t),t}},{key:"getEdgeAt",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.canvas.DOMtoCanvas(e),i=10,r=null,o=this.body.edges,s=0;s<this.body.edgeIndices.length;s++){var a=this.body.edgeIndices[s],l=o[a];if(l.connected){var u=l.from.x,c=l.from.y,h=l.to.x,d=l.to.y,f=l.edgeType.getDistanceToEdge(u,c,h,d,n.x,n.y);f<i&&(r=a,i=f)}}return null!==r?!0===t?this.body.edges[r]:r:void 0}},{key:"_addToSelection",value:function(e){e instanceof Hu?this.selectionObj.nodes[e.id]=e:this.selectionObj.edges[e.id]=e}},{key:"_addToHover",value:function(e){e instanceof Hu?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}},{key:"_removeFromSelection",value:function(e){e instanceof Hu?(delete this.selectionObj.nodes[e.id],this._unselectConnectedEdges(e)):delete this.selectionObj.edges[e.id]}},{key:"unselectAll",value:function(){for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&this.selectionObj.nodes[e].unselect();for(var t in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(t)&&this.selectionObj.edges[t].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var e=0;for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(e+=1);return e}},{key:"_getSelectedNode",value:function(){for(var e in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(e))return this.selectionObj.nodes[e]}},{key:"_getSelectedEdge",value:function(){for(var e in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(e))return this.selectionObj.edges[e]}},{key:"_getSelectedEdgeCount",value:function(){var e=0;for(var t in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(t)&&(e+=1);return e}},{key:"_getSelectedObjectCount",value:function(){var e=0;for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(e+=1);for(var n in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(n)&&(e+=1);return e}},{key:"_selectionIsEmpty",value:function(){for(var e in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(e))return!1;for(var t in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(t))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var e in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(e)&&this.selectionObj.nodes[e].clusterSize>1)return!0;return!1}},{key:"_selectConnectedEdges",value:function(e){for(var t=0;t<e.edges.length;t++){var n=e.edges[t];n.select(),this._addToSelection(n)}}},{key:"_hoverConnectedEdges",value:function(e){for(var t=0;t<e.edges.length;t++){var n=e.edges[t];n.hover=!0,this._addToHover(n)}}},{key:"_unselectConnectedEdges",value:function(e){for(var t=0;t<e.edges.length;t++){var n=e.edges[t];n.unselect(),this._removeFromSelection(n)}}},{key:"emitBlurEvent",value:function(e,t,n){var i=this._initBaseEvent(e,t);!0===n.hover&&(n.hover=!1,n instanceof Hu?(i.node=n.id,this.body.emitter.emit("blurNode",i)):(i.edge=n.id,this.body.emitter.emit("blurEdge",i)))}},{key:"emitHoverEvent",value:function(e,t,n){var i=this._initBaseEvent(e,t),r=!1;return!1===n.hover&&(n.hover=!0,this._addToHover(n),r=!0,n instanceof Hu?(i.node=n.id,this.body.emitter.emit("hoverNode",i)):(i.edge=n.id,this.body.emitter.emit("hoverEdge",i))),r}},{key:"hoverObject",value:function(e,t){var n=this.getNodeAt(t);void 0===n&&(n=this.getEdgeAt(t));var i=!1;for(var r in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(r)&&(void 0===n||n instanceof Hu&&n.id!=r||n instanceof Cc)&&(this.emitBlurEvent(e,t,this.hoverObj.nodes[r]),delete this.hoverObj.nodes[r],i=!0);for(var o in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(o)&&(!0===i?(this.hoverObj.edges[o].hover=!1,delete this.hoverObj.edges[o]):(void 0===n||n instanceof Cc&&n.id!=o||n instanceof Hu&&!n.hover)&&(this.emitBlurEvent(e,t,this.hoverObj.edges[o]),delete this.hoverObj.edges[o],i=!0));if(void 0!==n){var s=Vr(this.hoverObj.edges).length,a=Vr(this.hoverObj.nodes).length;(i||n instanceof Cc&&0===s&&0===a||n instanceof Hu&&0===s&&0===a)&&(i=this.emitHoverEvent(e,t,n)),n instanceof Hu&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(n)}!0===i&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodes(),edges:this.getSelectedEdges()}}},{key:"getSelectedNodes",value:function(){var e=[];if(!0===this.options.selectable)for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&e.push(this.selectionObj.nodes[t].id);return e}},{key:"getSelectedEdges",value:function(){var e=[];if(!0===this.options.selectable)for(var t in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(t)&&e.push(this.selectionObj.edges[t].id);return e}},{key:"setSelection",value:function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw"Selection must be an object with nodes and/or edges properties";if((i.unselectAll||void 0===i.unselectAll)&&this.unselectAll(),e.nodes)for(t=0;t<e.nodes.length;t++){var r=this.body.nodes[n=e.nodes[t]];if(!r)throw new RangeError('Node with id "'+n+'" not found');this.selectObject(r,i.highlightEdges)}if(e.edges)for(t=0;t<e.edges.length;t++){var o=this.body.edges[n=e.edges[t]];if(!o)throw new RangeError('Edge with id "'+n+'" not found');this.selectObject(o)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e||void 0===e.length)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:t})}},{key:"selectEdges",value:function(e){if(!e||void 0===e.length)throw"Selection must be an array with ids";this.setSelection({edges:e})}},{key:"updateSelection",value:function(){for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(this.body.nodes.hasOwnProperty(e)||delete this.selectionObj.nodes[e]);for(var t in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(t)&&(this.body.edges.hasOwnProperty(t)||delete this.selectionObj.edges[t])}},{key:"getClickedItems",value:function(e){for(var t=this.canvas.DOMtoCanvas(e),n=[],i=this.body.nodeIndices,r=this.body.nodes,o=i.length-1;o>=0;o--){var s=r[i[o]].getItemsOnPoint(t);n.push.apply(n,s)}for(var a=this.body.edgeIndices,l=this.body.edges,u=a.length-1;u>=0;u--){var c=l[a[u]].getItemsOnPoint(t);n.push.apply(n,c)}return n}}]),e}(),rh=!a((function(){return Object.isExtensible(Object.preventExtensions({}))})),oh=i((function(e){var t=H.f,n=Qe("meta"),i=0,r=Object.isExtensible||function(){return!0},o=function(e){t(e,n,{value:{objectID:"O"+ ++i,weakData:{}}})},s=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!b(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!k(e,n)){if(!r(e))return"F";if(!t)return"E";o(e)}return e[n].objectID},getWeakData:function(e,t){if(!k(e,n)){if(!r(e))return!0;if(!t)return!1;o(e)}return e[n].weakData},onFreeze:function(e){return rh&&s.REQUIRED&&r(e)&&!k(e,n)&&o(e),e}};ce[n]=!0})),sh=i((function(e){var t=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,n,i,r,o){var s,a,l,u,c,h,d,f=z(n,i,r?2:1);if(o)s=e;else{if("function"!=typeof(a=Xn(e)))throw TypeError("Target is not iterable");if(ti(a)){for(l=0,u=re(e.length);u>l;l++)if((c=r?f(B(d=e[l])[0],d[1]):f(e[l]))&&c instanceof t)return c;return new t(!1)}s=a.call(e)}for(h=s.next;!(d=h.call(s)).done;)if("object"==typeof(c=Qn(s,f,d.value,r))&&c&&c instanceof t)return c;return new t(!1)}).stop=function(e){return new t(!0,e)}})),ah=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},lh=H.f,uh=Vt.forEach,ch=jt.set,hh=jt.getterFor,dh=function(e,t,n){var i,r=-1!==e.indexOf("Map"),o=-1!==e.indexOf("Weak"),u=r?"set":"add",c=s[e],h=c&&c.prototype,d={};if(l&&"function"==typeof c&&(o||h.forEach&&!a((function(){(new c).entries().next()})))){i=t((function(t,n){ch(ah(t,i,e),{type:e,collection:new c}),null!=n&&sh(n,t[u],t,r)}));var f=hh(e);uh(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(e){var t="add"==e||"set"==e;!(e in h)||o&&"clear"==e||V(i.prototype,e,(function(n,i){var r=f(this).collection;if(!t&&o&&!b(n))return"get"==e&&void 0;var s=r[e](0===n?0:n,i);return t?this:s}))})),o||lh(i.prototype,"size",{configurable:!0,get:function(){return f(this).collection.size}})}else i=n.getConstructor(t,e,r,u),oh.REQUIRED=!0;return Ot(i,e,!1,!0),d[e]=i,U({global:!0,forced:!0},d),o||n.setStrong(i,e,r),i},fh=function(e,t,n){for(var i in t)n&&n.unsafe&&e[i]?e[i]=t[i]:ct(e,i,t[i],n);return e},ph=pt("species"),vh=H.f,yh=oh.fastKey,gh=jt.set,mh=jt.getterFor,bh={getConstructor:function(e,t,n,i){var r=e((function(e,o){ah(e,r,t),gh(e,{type:t,index:ot(null),first:void 0,last:void 0,size:0}),l||(e.size=0),null!=o&&sh(o,e[i],e,n)})),o=mh(t),s=function(e,t,n){var i,r,s=o(e),u=a(e,t);return u?u.value=n:(s.last=u={index:r=yh(t,!0),key:t,value:n,previous:i=s.last,next:void 0,removed:!1},s.first||(s.first=u),i&&(i.next=u),l?s.size++:e.size++,"F"!==r&&(s.index[r]=u)),e},a=function(e,t){var n,i=o(e),r=yh(t);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==t)return n};return fh(r.prototype,{clear:function(){for(var e=o(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,l?e.size=0:this.size=0},delete:function(e){var t=o(this),n=a(this,e);if(n){var i=n.next,r=n.previous;delete t.index[n.index],n.removed=!0,r&&(r.next=i),i&&(i.previous=r),t.first==n&&(t.first=i),t.last==n&&(t.last=r),l?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=o(this),i=z(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(i(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!a(this,e)}}),fh(r.prototype,n?{get:function(e){var t=a(this,e);return t&&t.value},set:function(e,t){return s(this,0===e?0:e,t)}}:{add:function(e){return s(this,e=0===e?0:e,e)}}),l&&vh(r.prototype,"size",{get:function(){return o(this).size}}),r},setStrong:function(e,t,n){var i=t+" Iterator",r=mh(t),o=mh(i);jn(e,t,(function(e,t){gh(this,{type:i,target:e,state:r(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),function(e){var t=Ie(e);l&&t&&!t[ph]&&(0,H.f)(t,ph,{configurable:!0,get:function(){return this}})}(t)}},_h=(dh("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),bh),R.Map),wh=function(e){return function(t,n,i,r){j(n);var o=ye(t),s=y(o),a=re(o.length),l=e?a-1:0,u=e?-1:1;if(i<2)for(;;){if(l in s){r=s[l],l+=u;break}if(l+=u,e?l<0:a<=l)throw TypeError("Reduce of empty array with no initial value")}for(;e?l>=0:a>l;l+=u)l in s&&(r=n(r,s[l],l,o));return r}},kh=[wh(!1),wh(!0)][0],Ch=ki("reduce"),xh=Oi("reduce",{1:0});U({target:"Array",proto:!0,forced:!Ch||!xh},{reduce:function(e){return kh(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}});var Sh=K("Array").reduce,Oh=Array.prototype,Eh=[],Th=Eh.sort,Dh=a((function(){Eh.sort(void 0)})),Mh=a((function(){Eh.sort(null)})),Ph=ki("sort");U({target:"Array",proto:!0,forced:Dh||!Mh||!Ph},{sort:function(e){return void 0===e?Th.call(ye(this)):Th.call(ye(this),j(e))}});var Ah=K("Array").sort,Ih=Array.prototype,Nh=function(e){var t=e.sort;return e===Ih||e instanceof Array&&t===Ih.sort?Ah:t},Fh=i((function(e,t){!function(e){e.__esModule=!0,e.sort=function(e,t,n,s){if(!Array.isArray(e))throw new TypeError("Can only sort arrays");t?"function"!=typeof t&&(s=n,n=t,t=i):t=i,n||(n=0),s||(s=e.length);var a=s-n;if(!(a<2)){var u=0;if(a<32)return void o(e,n,s,n+(u=r(e,n,s,t)),t);var c=new l(e,t),h=function(e){for(var t=0;e>=32;)t|=1&e,e>>=1;return e+t}(a);do{if((u=r(e,n,s,t))<h){var d=a;d>h&&(d=h),o(e,n,n+d,n+u,t),u=d}c.pushRun(n,u),c.mergeRuns(),a-=u,n+=u}while(0!==a);c.forceMergeRuns()}};var t=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];function n(e){return e<1e5?e<100?e<10?0:1:e<1e4?e<1e3?2:3:4:e<1e7?e<1e6?5:6:e<1e9?e<1e8?7:8:9}function i(e,i){if(e===i)return 0;if(~~e===e&&~~i===i){if(0===e||0===i)return e<i?-1:1;if(e<0||i<0){if(i>=0)return-1;if(e>=0)return 1;e=-e,i=-i}var r=n(e),o=n(i),s=0;return r<o?(e*=t[o-r-1],i/=10,s=-1):r>o&&(i*=t[r-o-1],e/=10,s=1),e===i?s:e<i?-1:1}var a=String(e),l=String(i);return a===l?0:a<l?-1:1}function r(e,t,n,i){var r=t+1;if(r===n)return 1;if(i(e[r++],e[t])<0){for(;r<n&&i(e[r],e[r-1])<0;)r++;!function(e,t,n){for(n--;t<n;){var i=e[t];e[t++]=e[n],e[n--]=i}}(e,t,r)}else for(;r<n&&i(e[r],e[r-1])>=0;)r++;return r-t}function o(e,t,n,i,r){for(i===t&&i++;i<n;i++){for(var o=e[i],s=t,a=i;s<a;){var l=s+a>>>1;r(o,e[l])<0?a=l:s=l+1}var u=i-s;switch(u){case 3:e[s+3]=e[s+2];case 2:e[s+2]=e[s+1];case 1:e[s+1]=e[s];break;default:for(;u>0;)e[s+u]=e[s+u-1],u--}e[s]=o}}function s(e,t,n,i,r,o){var s=0,a=0,l=1;if(o(e,t[n+r])>0){for(a=i-r;l<a&&o(e,t[n+r+l])>0;)s=l,(l=1+(l<<1))<=0&&(l=a);l>a&&(l=a),s+=r,l+=r}else{for(a=r+1;l<a&&o(e,t[n+r-l])<=0;)s=l,(l=1+(l<<1))<=0&&(l=a);l>a&&(l=a);var u=s;s=r-l,l=r-u}for(s++;s<l;){var c=s+(l-s>>>1);o(e,t[n+c])>0?s=c+1:l=c}return l}function a(e,t,n,i,r,o){var s=0,a=0,l=1;if(o(e,t[n+r])<0){for(a=r+1;l<a&&o(e,t[n+r-l])<0;)s=l,(l=1+(l<<1))<=0&&(l=a);l>a&&(l=a);var u=s;s=r-l,l=r-u}else{for(a=i-r;l<a&&o(e,t[n+r+l])>=0;)s=l,(l=1+(l<<1))<=0&&(l=a);l>a&&(l=a),s+=r,l+=r}for(s++;s<l;){var c=s+(l-s>>>1);o(e,t[n+c])<0?l=c:s=c+1}return l}var l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.array=null,this.compare=null,this.minGallop=7,this.length=0,this.tmpStorageLength=256,this.stackLength=0,this.runStart=null,this.runLength=null,this.stackSize=0,this.array=t,this.compare=n,this.length=t.length,this.length<512&&(this.tmpStorageLength=this.length>>>1),this.tmp=new Array(this.tmpStorageLength),this.stackLength=this.length<120?5:this.length<1542?10:this.length<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength)}return e.prototype.pushRun=function(e,t){this.runStart[this.stackSize]=e,this.runLength[this.stackSize]=t,this.stackSize+=1},e.prototype.mergeRuns=function(){for(;this.stackSize>1;){var e=this.stackSize-2;if(e>=1&&this.runLength[e-1]<=this.runLength[e]+this.runLength[e+1]||e>=2&&this.runLength[e-2]<=this.runLength[e]+this.runLength[e-1])this.runLength[e-1]<this.runLength[e+1]&&e--;else if(this.runLength[e]>this.runLength[e+1])break;this.mergeAt(e)}},e.prototype.forceMergeRuns=function(){for(;this.stackSize>1;){var e=this.stackSize-2;e>0&&this.runLength[e-1]<this.runLength[e+1]&&e--,this.mergeAt(e)}},e.prototype.mergeAt=function(e){var t=this.compare,n=this.array,i=this.runStart[e],r=this.runLength[e],o=this.runStart[e+1],l=this.runLength[e+1];this.runLength[e]=r+l,e===this.stackSize-3&&(this.runStart[e+1]=this.runStart[e+2],this.runLength[e+1]=this.runLength[e+2]),this.stackSize--;var u=a(n[o],n,i,r,0,t);i+=u,0!=(r-=u)&&0!==(l=s(n[i+r-1],n,o,l,l-1,t))&&(r<=l?this.mergeLow(i,r,o,l):this.mergeHigh(i,r,o,l))},e.prototype.mergeLow=function(e,t,n,i){var r=this.compare,o=this.array,l=this.tmp,u=0;for(u=0;u<t;u++)l[u]=o[e+u];var c=0,h=n,d=e;if(o[d++]=o[h++],0!=--i)if(1!==t){for(var f=this.minGallop;;){var p=0,v=0,y=!1;do{if(r(o[h],l[c])<0){if(o[d++]=o[h++],v++,p=0,0==--i){y=!0;break}}else if(o[d++]=l[c++],p++,v=0,1==--t){y=!0;break}}while((p|v)<f);if(y)break;do{if(0!==(p=a(o[h],l,c,t,0,r))){for(u=0;u<p;u++)o[d+u]=l[c+u];if(d+=p,c+=p,(t-=p)<=1){y=!0;break}}if(o[d++]=o[h++],0==--i){y=!0;break}if(0!==(v=s(l[c],o,h,i,0,r))){for(u=0;u<v;u++)o[d+u]=o[h+u];if(d+=v,h+=v,0==(i-=v)){y=!0;break}}if(o[d++]=l[c++],1==--t){y=!0;break}f--}while(p>=7||v>=7);if(y)break;f<0&&(f=0),f+=2}if(this.minGallop=f,f<1&&(this.minGallop=1),1===t){for(u=0;u<i;u++)o[d+u]=o[h+u];o[d+i]=l[c]}else{if(0===t)throw new Error("mergeLow preconditions were not respected");for(u=0;u<t;u++)o[d+u]=l[c+u]}}else{for(u=0;u<i;u++)o[d+u]=o[h+u];o[d+i]=l[c]}else for(u=0;u<t;u++)o[d+u]=l[c+u]},e.prototype.mergeHigh=function(e,t,n,i){var r=this.compare,o=this.array,l=this.tmp,u=0;for(u=0;u<i;u++)l[u]=o[n+u];var c=e+t-1,h=i-1,d=n+i-1,f=0,p=0;if(o[d--]=o[c--],0!=--t)if(1!==i){for(var v=this.minGallop;;){var y=0,g=0,m=!1;do{if(r(l[h],o[c])<0){if(o[d--]=o[c--],y++,g=0,0==--t){m=!0;break}}else if(o[d--]=l[h--],g++,y=0,1==--i){m=!0;break}}while((y|g)<v);if(m)break;do{if(0!=(y=t-a(l[h],o,e,t,t-1,r))){for(t-=y,p=1+(d-=y),f=1+(c-=y),u=y-1;u>=0;u--)o[p+u]=o[f+u];if(0===t){m=!0;break}}if(o[d--]=l[h--],1==--i){m=!0;break}if(0!=(g=i-s(o[c],l,0,i,i-1,r))){for(i-=g,p=1+(d-=g),f=1+(h-=g),u=0;u<g;u++)o[p+u]=l[f+u];if(i<=1){m=!0;break}}if(o[d--]=o[c--],0==--t){m=!0;break}v--}while(y>=7||g>=7);if(m)break;v<0&&(v=0),v+=2}if(this.minGallop=v,v<1&&(this.minGallop=1),1===i){for(p=1+(d-=t),f=1+(c-=t),u=t-1;u>=0;u--)o[p+u]=o[f+u];o[d]=l[h]}else{if(0===i)throw new Error("mergeHigh preconditions were not respected");for(f=d-(i-1),u=0;u<i;u++)o[f+u]=l[u]}}else{for(p=1+(d-=t),f=1+(c-=t),u=t-1;u>=0;u--)o[p+u]=o[f+u];o[d]=l[h]}else for(f=d-(i-1),u=0;u<i;u++)o[f+u]=l[u]},e}()}(t)}));function Rh(e){var t=function(){if("undefined"==typeof Reflect||!$l)return!1;if($l.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call($l(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=su(e);if(t){var r=su(this).constructor;n=$l(i,arguments,r)}else n=i.apply(this,arguments);return ru(this,n)}}var jh=function(){function e(){cl(this,e)}return dl(e,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(e){return this.fake_use(e),this.abstract()}},{key:"setPosition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.fake_use(e,t,n),this.abstract()}},{key:"getTreeSize",value:function(e){return this.fake_use(e),this.abstract()}},{key:"sort",value:function(e){this.fake_use(e),this.abstract()}},{key:"fix",value:function(e,t){this.fake_use(e,t),this.abstract()}},{key:"shift",value:function(e,t){this.fake_use(e,t),this.abstract()}}]),e}(),zh=function(e){iu(n,e);var t=Rh(n);function n(e){var i;return cl(this,n),(i=t.call(this)).layout=e,i}return dl(n,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(e){return e.x}},{key:"setPosition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==n&&this.layout.hierarchical.addToOrdering(e,n),e.x=t}},{key:"getTreeSize",value:function(e){var t=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:t.min_x,max:t.max_x}}},{key:"sort",value:function(e){Fh.sort(e,(function(e,t){return e.x-t.x}))}},{key:"fix",value:function(e,t){e.y=this.layout.options.hierarchical.levelSeparation*t,e.options.fixed.y=!0}},{key:"shift",value:function(e,t){this.layout.body.nodes[e].x+=t}}]),n}(jh),Bh=function(e){iu(n,e);var t=Rh(n);function n(e){var i;return cl(this,n),(i=t.call(this)).layout=e,i}return dl(n,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(e){return e.y}},{key:"setPosition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==n&&this.layout.hierarchical.addToOrdering(e,n),e.y=t}},{key:"getTreeSize",value:function(e){var t=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:t.min_y,max:t.max_y}}},{key:"sort",value:function(e){Fh.sort(e,(function(e,t){return e.y-t.y}))}},{key:"fix",value:function(e,t){e.x=this.layout.options.hierarchical.levelSeparation*t,e.options.fixed.x=!0}},{key:"shift",value:function(e,t){this.layout.body.nodes[e].y+=t}}]),n}(jh),Lh=Vt.every,Hh=ki("every"),Vh=Oi("every");U({target:"Array",proto:!0,forced:!Hh||!Vh},{every:function(e){return Lh(this,e,arguments.length>1?arguments[1]:void 0)}});var Wh=K("Array").every,Yh=Array.prototype,Uh=function(e){var t=e.every;return e===Yh||e instanceof Array&&t===Yh.every?Wh:t},Gh=(dh("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),bh),R.Set);function qh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Zh(e,t){var n=new Gh;return Ni(e).call(e,(function(e){var t;Ni(t=e.edges).call(t,(function(e){e.connected&&n.add(e)}))})),Ni(n).call(n,(function(e){var n=e.from.id,i=e.to.id;null==t[n]&&(t[n]=0),(null==t[i]||t[n]>=t[i])&&(t[i]=t[n]+1)})),t}function Xh(e,t,n,i,r){var o,s=i.size,a=n+"Id",l="to"===n?1:-1,u=function(e,t){var n;if(void 0===no||null==Jn(e)){if(Xr(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return qh(e,t);var i=Qr(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?li(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?qh(e,t):void 0}}(e))){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=Kn(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}(i);try{var c=function(){var u=Br(o.value,2),c=u[0],h=u[1];if(!i.has(c)||!e(h))return"continue";r[c]=0;for(var d=[h],f=0,p=void 0,v=function(){var e,o;if(!i.has(c))return"continue";var u=r[p.id]+l;if(Ni(e=ir(o=p.edges).call(o,(function(e){return e.connected&&e.to!==e.from&&e[n]!==p&&i.has(e.toId)&&i.has(e.fromId)}))).call(e,(function(e){var i=e[a],o=r[i];(null==o||t(u,o))&&(r[i]=u,d.push(e[n]))})),f>s)return{v:{v:Zh(i,r)}};++f};p=d.pop();){var y=v();switch(y){case"continue":continue;default:if("object"===Jr(y))return y.v}}};for(u.s();!(o=u.n()).done;){var h=c();switch(h){case"continue":continue;default:if("object"===Jr(h))return h.v}}}catch(e){u.e(e)}finally{u.f()}return r}var Kh=function(){function e(){cl(this,e),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return dl(e,[{key:"addRelation",value:function(e,t){void 0===this.childrenReference[e]&&(this.childrenReference[e]=[]),this.childrenReference[e].push(t),void 0===this.parentReference[t]&&(this.parentReference[t]=[]),this.parentReference[t].push(e)}},{key:"checkIfTree",value:function(){for(var e in this.parentReference)if(this.parentReference[e].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(e,t){void 0!==t&&void 0===this.trees[e.id]&&(this.trees[e.id]=t,this.treeIndex=Math.max(t,this.treeIndex))}},{key:"ensureLevel",value:function(e){void 0===this.levels[e]&&(this.levels[e]=0)}},{key:"getMaxLevel",value:function(e){var t=this,n={};return function e(i){if(void 0!==n[i])return n[i];var r=t.levels[i];if(t.childrenReference[i]){var o=t.childrenReference[i];if(o.length>0)for(var s=0;s<o.length;s++)r=Math.max(r,e(o[s]))}return n[i]=r,r}(e)}},{key:"levelDownstream",value:function(e,t){void 0===this.levels[t.id]&&(void 0===this.levels[e.id]&&(this.levels[e.id]=0),this.levels[t.id]=this.levels[e.id]+1)}},{key:"setMinLevelToZero",value:function(e){var t=1e9;for(var n in e)e.hasOwnProperty(n)&&void 0!==this.levels[n]&&(t=Math.min(this.levels[n],t));for(var i in e)e.hasOwnProperty(i)&&void 0!==this.levels[i]&&(this.levels[i]-=t)}},{key:"getTreeSize",value:function(e,t){var n=1e9,i=-1e9,r=1e9,o=-1e9;for(var s in this.trees)if(this.trees.hasOwnProperty(s)&&this.trees[s]===t){var a=e[s];n=Math.min(a.x,n),i=Math.max(a.x,i),r=Math.min(a.y,r),o=Math.max(a.y,o)}return{min_x:n,max_x:i,min_y:r,max_y:o}}},{key:"hasSameParent",value:function(e,t){var n=this.parentReference[e.id],i=this.parentReference[t.id];if(void 0===n||void 0===i)return!1;for(var r=0;r<n.length;r++)for(var o=0;o<i.length;o++)if(n[r]==i[o])return!0;return!1}},{key:"inSameSubNetwork",value:function(e,t){return this.trees[e.id]===this.trees[t.id]}},{key:"getLevels",value:function(){return Vr(this.distributionOrdering)}},{key:"addToOrdering",value:function(e,t){void 0===this.distributionOrdering[t]&&(this.distributionOrdering[t]=[]);var n=!1,i=this.distributionOrdering[t];for(var r in i)if(i[r]===e){n=!0;break}n||(this.distributionOrdering[t].push(e),this.distributionIndex[e.id]=this.distributionOrdering[t].length-1)}}]),e}(),Jh=function(){function e(t){cl(this,e),this.body=t,this._resetRNG(Math.random()+":"+Lr()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},_e(this.options,this.defaultOptions),this.bindEventListeners()}return dl(e,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("_dataChanged",(function(){e.setupHierarchicalLayout()})),this.body.emitter.on("_dataLoaded",(function(){e.layoutNetwork()})),this.body.emitter.on("_resetHierarchicalLayout",(function(){e.setupHierarchicalLayout()})),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",(function(){if(!0===e.options.hierarchical.enabled){var t=e.direction.curveType();e.body.emitter.emit("_forceDisableDynamicCurves",t,!1)}}))}},{key:"setOptions",value:function(e,t){if(void 0!==e){var n=this.options.hierarchical,i=n.enabled;if(go(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),Fo(this.options,e,"hierarchical"),void 0!==e.randomSeed&&this._resetRNG(e.randomSeed),!0===n.enabled)return!0===i&&this.body.emitter.emit("refresh",!0),"RL"===n.direction||"DU"===n.direction?n.levelSeparation>0&&(n.levelSeparation*=-1):n.levelSeparation<0&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(t);if(!0===i)return this.body.emitter.emit("refresh"),bo(t,this.optionsBackup)}return t}},{key:"_resetRNG",value:function(e){this.initialRandomSeed=e,this._rng=ro(this.initialRandomSeed)}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(e){if(!0===this.options.hierarchical.enabled){var t=this.optionsBackup.physics;void 0===e.physics||!0===e.physics?(e.physics={enabled:void 0===t.enabled||t.enabled,solver:"hierarchicalRepulsion"},t.enabled=void 0===t.enabled||t.enabled,t.solver=t.solver||"barnesHut"):"object"===Jr(e.physics)?(t.enabled=void 0===e.physics.enabled||e.physics.enabled,t.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):!1!==e.physics&&(t.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});var n=this.direction.curveType();if(void 0===e.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(void 0===e.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if("boolean"==typeof e.edges.smooth)this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:n};else{var i=e.edges.smooth;void 0!==i.type&&"dynamic"!==i.type&&(n=i.type),this.optionsBackup.edges={smooth:{enabled:void 0===i.enabled||i.enabled,type:void 0===i.type?"dynamic":i.type,roundness:void 0===i.roundness?.5:i.roundness,forceDirection:void 0!==i.forceDirection&&i.forceDirection}},e.edges.smooth={enabled:void 0===i.enabled||i.enabled,type:n,roundness:void 0===i.roundness?.5:i.roundness,forceDirection:void 0!==i.forceDirection&&i.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return e}},{key:"positionInitially",value:function(e){if(!0!==this.options.hierarchical.enabled){this._resetRNG(this.initialRandomSeed);for(var t=e.length+50,n=0;n<e.length;n++){var i=e[n],r=2*Math.PI*this._rng();void 0===i.x&&(i.x=t*Math.cos(r)),void 0===i.y&&(i.y=t*Math.sin(r))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var e=this.body.nodeIndices,t=0,n=0;n<e.length;n++)!0===this.body.nodes[e[n]].predefinedPosition&&(t+=1);if(t<.5*e.length){var i=0,r=this.options.clusterThreshold,o={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>r){for(var s=e.length;e.length>r&&i<=10;){var a=e.length;if((i+=1)%3==0?this.body.modules.clustering.clusterBridges(o):this.body.modules.clustering.clusterOutliers(o),a==e.length&&i%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*s)})}i>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();for(var l=0;l<e.length;l++){var u=this.body.nodes[e[l]];!1===u.predefinedPosition&&(u.x+=70*(.5-this._rng()),u.y+=70*(.5-this._rng()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var e=Uc.getRangeCore(this.body.nodes,this.body.nodeIndices),t=Uc.findCenter(e),n=0;n<this.body.nodeIndices.length;n++){var i=this.body.nodes[this.body.nodeIndices[n]];i.x-=t.x,i.y-=t.y}}},{key:"_declusterAll",value:function(){for(var e=!0;!0===e;){e=!1;for(var t=0;t<this.body.nodeIndices.length;t++)!0===this.body.nodes[this.body.nodeIndices[t]].isCluster&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[t],{},!1));!0===e&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){var e,t,n=!1,i=!1;for(t in this.lastNodeOnLevel={},this.hierarchical=new Kh,this.body.nodes)this.body.nodes.hasOwnProperty(t)&&(void 0!==(e=this.body.nodes[t]).options.level?(n=!0,this.hierarchical.levels[t]=e.options.level):i=!0);if(!0===i&&!0===n)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===i){var r=this.options.hierarchical.sortMethod;"hubsize"===r?this._determineLevelsByHubsize():"directed"===r?this._determineLevelsDirected():"custom"===r&&this._determineLevelsCustomCallback()}for(var o in this.body.nodes)this.body.nodes.hasOwnProperty(o)&&this.hierarchical.ensureLevel(o);var s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var e=this,t=!1,n={},i=function(t,n){var i=e.hierarchical.trees;for(var r in i)i.hasOwnProperty(r)&&i[r]===t&&e.direction.shift(r,n)},r=function t(n,i){if(!i[n.id]&&(i[n.id]=!0,e.hierarchical.childrenReference[n.id])){var r=e.hierarchical.childrenReference[n.id];if(r.length>0)for(var o=0;o<r.length;o++)t(e.body.nodes[r[o]],i)}},o=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,i=1e9,r=1e9,o=1e9,s=-1e9;for(var a in t)if(t.hasOwnProperty(a)){var l=e.body.nodes[a],u=e.hierarchical.levels[l.id],c=e.direction.getPosition(l),h=e._getSpaceAroundNode(l,t),d=Br(h,2),f=d[0],p=d[1];i=Math.min(f,i),r=Math.min(p,r),u<=n&&(o=Math.min(c,o),s=Math.max(c,s))}return[o,s,i,r]},s=function(t,n){var i=e.hierarchical.getMaxLevel(t.id),r=e.hierarchical.getMaxLevel(n.id);return Math.min(i,r)},a=function(t,n,i){for(var r=e.hierarchical,o=0;o<n.length;o++){var s=r.distributionOrdering[n[o]];if(s.length>1)for(var a=0;a<s.length-1;a++){var l=s[a],u=s[a+1];r.hasSameParent(l,u)&&r.inSameSubNetwork(l,u)&&t(l,u,i)}}},l=function(n,i){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=e.direction.getPosition(n),u=e.direction.getPosition(i),c=Math.abs(u-l),h=e.options.hierarchical.nodeSpacing;if(c>h){var d={},f={};r(n,d),r(i,f);var p=s(n,i),v=o(d,p),y=o(f,p),g=v[1],m=y[0],b=y[2],_=Math.abs(g-m);if(_>h){var w=g-m+h;w<-b+h&&(w=-b+h),w<0&&(e._shiftBlock(i.id,w),t=!0,!0===a&&e._centerParent(i))}}},u=function(i,s){for(var a=s.id,l=s.edges,u=e.hierarchical.levels[s.id],c=e.options.hierarchical.levelSeparation*e.options.hierarchical.levelSeparation,h={},d=[],f=0;f<l.length;f++){var p=l[f];if(p.toId!=p.fromId){var v=p.toId==a?p.from:p.to;h[l[f].id]=v,e.hierarchical.levels[v.id]<u&&d.push(p)}}var y=function(t,n){for(var i=0,r=0;r<n.length;r++)if(void 0!==h[n[r].id]){var o=e.direction.getPosition(h[n[r].id])-t;i+=o/Math.sqrt(o*o+c)}return i},g=function(t,n){for(var i=0,r=0;r<n.length;r++)if(void 0!==h[n[r].id]){var o=e.direction.getPosition(h[n[r].id])-t;i-=c*Math.pow(o*o+c,-1.5)}return i},m=function(t,n){for(var i=e.direction.getPosition(s),r={},o=0;o<t;o++){var a=y(i,n),l=g(i,n);if(void 0!==r[i-=Math.max(-40,Math.min(40,Math.round(a/l)))])break;r[i]=o}return i},b=m(i,d);!function(i){var a=e.direction.getPosition(s);if(void 0===n[s.id]){var l={};r(s,l),n[s.id]=l}var u=o(n[s.id]),c=u[2],h=i-a,d=0;h>0?d=Math.min(h,u[3]-e.options.hierarchical.nodeSpacing):h<0&&(d=-Math.min(-h,c-e.options.hierarchical.nodeSpacing)),0!=d&&(e._shiftBlock(s.id,d),t=!0)}(b),function(n){var i=e.direction.getPosition(s),r=e._getSpaceAroundNode(s),o=Br(r,2),a=o[0],l=n-i,u=i;l>0?u=Math.min(i+(o[1]-e.options.hierarchical.nodeSpacing),n):l<0&&(u=Math.max(i-(a-e.options.hierarchical.nodeSpacing),n)),u!==i&&(e.direction.setPosition(s,u),t=!0)}(b=m(i,l))};!0===this.options.hierarchical.blockShifting&&(function(n){var i=e.hierarchical.getLevels();i=zc(i).call(i);for(var r=0;r<5&&(t=!1,a(l,i,!0),!0===t);r++);}(),function(){for(var t in e.body.nodes)e.body.nodes.hasOwnProperty(t)&&e._centerParent(e.body.nodes[t])}()),!0===this.options.hierarchical.edgeMinimization&&function(n){var i=e.hierarchical.getLevels();i=zc(i).call(i);for(var r=0;r<20;r++){t=!1;for(var o=0;o<i.length;o++)for(var s=e.hierarchical.distributionOrdering[i[o]],a=0;a<s.length;a++)u(1e3,s[a]);if(!0!==t)break}}(),!0===this.options.hierarchical.parentCentralization&&function(){var t=e.hierarchical.getLevels();t=zc(t).call(t);for(var n=0;n<t.length;n++)for(var i=e.hierarchical.distributionOrdering[t[n]],r=0;r<i.length;r++)e._centerParent(i[r])}(),function(){for(var t=function(){for(var t=[],n=0;n<e.hierarchical.numTrees();n++)t.push(e.direction.getTreeSize(n));return t}(),n=0,r=0;r<t.length-1;r++)i(r+1,n+=t[r].max-t[r+1].min+e.options.hierarchical.treeSpacing)}()}},{key:"_getSpaceAroundNode",value:function(e,t){var n=!0;void 0===t&&(n=!1);var i=this.hierarchical.levels[e.id];if(void 0!==i){var r=this.hierarchical.distributionIndex[e.id],o=this.direction.getPosition(e),s=this.hierarchical.distributionOrdering[i],a=1e9,l=1e9;if(0!==r){var u=s[r-1];(!0===n&&void 0===t[u.id]||!1===n)&&(a=o-this.direction.getPosition(u))}if(r!=s.length-1){var c=s[r+1];if(!0===n&&void 0===t[c.id]||!1===n){var h=this.direction.getPosition(c);l=Math.min(l,h-o)}}return[a,l]}return[0,0]}},{key:"_centerParent",value:function(e){if(this.hierarchical.parentReference[e.id])for(var t=this.hierarchical.parentReference[e.id],n=0;n<t.length;n++){var i=t[n],r=this.body.nodes[i],o=this.hierarchical.childrenReference[i];if(void 0!==o){var s=this._getCenterPosition(o),a=this.direction.getPosition(r),l=this._getSpaceAroundNode(r),u=Br(l,2),c=u[0],h=u[1],d=a-s;(d<0&&Math.abs(d)<h-this.options.hierarchical.nodeSpacing||d>0&&Math.abs(d)<c-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(r,s)}}}},{key:"_placeNodesByHierarchy",value:function(e){for(var t in this.positionedNodes={},e)if(e.hasOwnProperty(t)){var n,i=Vr(e[t]);i=this._indexArrayToNodes(i),Nh(n=this.direction).call(n,i);for(var r=0,o=0;o<i.length;o++){var s=i[o];if(void 0===this.positionedNodes[s.id]){var a=this.options.hierarchical.nodeSpacing,l=a*r;r>0&&(l=this.direction.getPosition(i[o-1])+a),this.direction.setPosition(s,l,t),this._validatePositionAndContinue(s,t,l),r++}}}}},{key:"_placeBranchNodes",value:function(e,t){var n,i=this.hierarchical.childrenReference[e];if(void 0!==i){for(var r=[],o=0;o<i.length;o++)r.push(this.body.nodes[i[o]]);Nh(n=this.direction).call(n,r);for(var s=0;s<r.length;s++){var a=r[s],l=this.hierarchical.levels[a.id];if(!(l>t&&void 0===this.positionedNodes[a.id]))return;var u,c=this.options.hierarchical.nodeSpacing;u=0===s?this.direction.getPosition(this.body.nodes[e]):this.direction.getPosition(r[s-1])+c,this.direction.setPosition(a,u,l),this._validatePositionAndContinue(a,l,u)}var h=this._getCenterPosition(r);this.direction.setPosition(this.body.nodes[e],h,t)}}},{key:"_validatePositionAndContinue",value:function(e,t,n){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[t]){var i=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[t]]);if(n-i<this.options.hierarchical.nodeSpacing){var r=i+this.options.hierarchical.nodeSpacing-n,o=this._findCommonParent(this.lastNodeOnLevel[t],e.id);this._shiftBlock(o.withChild,r)}}this.lastNodeOnLevel[t]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,t)}}},{key:"_indexArrayToNodes",value:function(e){for(var t=[],n=0;n<e.length;n++)t.push(this.body.nodes[e[n]]);return t}},{key:"_getDistribution",value:function(){var e,t,n={};for(e in this.body.nodes)if(this.body.nodes.hasOwnProperty(e)){var i=void 0===this.hierarchical.levels[e]?0:this.hierarchical.levels[e];this.direction.fix(t=this.body.nodes[e],i),void 0===n[i]&&(n[i]={}),n[i][e]=t}return n}},{key:"_getActiveEdges",value:function(e){var t=this,n=[];return Co(e.edges,(function(e){var i;-1!==pr(i=t.body.edgeIndices).call(i,e.id)&&n.push(e)})),n}},{key:"_getHubSizes",value:function(){var e=this,t={};Co(this.body.nodeIndices,(function(n){var i=e._getActiveEdges(e.body.nodes[n]).length;t[i]=!0}));var n=[];return Co(t,(function(e){n.push(Number(e))})),Nh(Fh).call(Fh,n,(function(e,t){return t-e})),n}},{key:"_determineLevelsByHubsize",value:function(){for(var e=this,t=function(t,n){e.hierarchical.levelDownstream(t,n)},n=this._getHubSizes(),i=function(i){var r=n[i];if(0===r)return"break";Co(e.body.nodeIndices,(function(n){r===e._getActiveEdges(e.body.nodes[n]).length&&e._crawlNetwork(t,n)}))},r=0;r<n.length&&"break"!==i(r);++r);}},{key:"_determineLevelsCustomCallback",value:function(){var e=this;this._crawlNetwork((function(t,n,i){var r=e.hierarchical.levels[t.id];void 0===r&&(r=e.hierarchical.levels[t.id]=1e5);var o=(Uc.cloneOptions(t,"node"),Uc.cloneOptions(n,"node"),void Uc.cloneOptions(i,"edge"));e.hierarchical.levels[n.id]=r+o})),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var e,t=this,n=function(e){var t=e.reduce;return e===Oh||e instanceof Array&&t===Oh.reduce?Sh:t}(e=this.body.nodeIndices).call(e,(function(e,n){return e.set(n,t.body.nodes[n]),e}),new _h),i=this.hierarchical.levels;this.hierarchical.levels="roots"===this.options.hierarchical.shakeTowards?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:di(null);return Xh((function(t){var n,i;return Uh(n=ir(i=t.edges).call(i,(function(t){return e.has(t.toId)}))).call(n,(function(e){return e.from===t}))}),(function(e,t){return t<e}),"to",e,t)}(n,i):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:di(null);return Xh((function(t){var n,i;return Uh(n=ir(i=t.edges).call(i,(function(t){return e.has(t.toId)}))).call(n,(function(e){return e.to===t}))}),(function(e,t){return t>e}),"from",e,t)}(n,i),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var e=this;this._crawlNetwork((function(t,n){e.hierarchical.levels[n.id]>e.hierarchical.levels[t.id]&&e.hierarchical.addRelation(t.id,n.id)})),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=arguments.length>1?arguments[1]:void 0,i={},r=function n(r,o){if(void 0===i[r.id]){var s;e.hierarchical.setTreeIndex(r,o),i[r.id]=!0;for(var a=e._getActiveEdges(r),l=0;l<a.length;l++){var u=a[l];!0===u.connected&&r.id!=(s=u.toId==r.id?u.from:u.to).id&&(t(r,s,u),n(s,o))}}};if(void 0===n)for(var o=0,s=0;s<this.body.nodeIndices.length;s++){var a=this.body.nodeIndices[s];if(void 0===i[a]){var l=this.body.nodes[a];r(l,o),o+=1}}else{var u=this.body.nodes[n];if(void 0===u)return void console.error("Node not found:",n);r(u)}}},{key:"_shiftBlock",value:function(e,t){var n=this,i={};!function e(r){if(!i[r]){i[r]=!0,n.direction.shift(r,t);var o=n.hierarchical.childrenReference[r];if(void 0!==o)for(var s=0;s<o.length;s++)e(o[s])}}(e)}},{key:"_findCommonParent",value:function(e,t){var n=this,i={};return function e(t,i){var r=n.hierarchical.parentReference[i];if(void 0!==r)for(var o=0;o<r.length;o++){var s=r[o];t[s]=!0,e(t,s)}}(i,e),function e(t,i){var r=n.hierarchical.parentReference[i];if(void 0!==r)for(var o=0;o<r.length;o++){var s=r[o];if(void 0!==t[s])return{foundParent:s,withChild:i};var a=e(t,s);if(null!==a.foundParent)return a}return{foundParent:null,withChild:i}}(i,t)}},{key:"setDirectionStrategy",value:function(){this.direction="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?new zh(this):new Bh(this)}},{key:"_getCenterPosition",value:function(e){for(var t=1e9,n=-1e9,i=0;i<e.length;i++){var r=this.direction.getPosition(void 0!==e[i].id?e[i]:this.body.nodes[e[i]]);t=Math.min(t,r),n=Math.max(n,r)}return.5*(t+n)}}]),e}(),Qh=function(){function e(t,n,i,r){var o,s,a=this;cl(this,e),this.body=t,this.canvas=n,this.selectionHandler=i,this.interactionHandler=r,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},_e(this.options,this.defaultOptions),this.body.emitter.on("destroy",(function(){a._clean()})),this.body.emitter.on("_dataChanged",$(o=this._restore).call(o,this)),this.body.emitter.on("_resetData",$(s=this._restore).call(s,this))}return dl(e,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(e,t,n){void 0!==t&&(this.options.locale=void 0!==t.locale?t.locale:n.locale,this.options.locales=void 0!==t.locales?t.locales:n.locales),void 0!==e&&("boolean"==typeof e?this.options.enabled=e:(this.options.enabled=!0,bo(this.options,e)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){var e,t;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var n=this.selectionHandler._getSelectedNodeCount(),i=this.selectionHandler._getSelectedEdgeCount(),r=n+i,o=this.options.locales[this.options.locale],s=!1;!1!==this.options.addNode&&(this._createAddNodeButton(o),s=!0),!1!==this.options.addEdge&&(!0===s?this._createSeperator(1):s=!0,this._createAddEdgeButton(o)),1===n&&"function"==typeof this.options.editNode?(!0===s?this._createSeperator(2):s=!0,this._createEditNodeButton(o)):1===i&&0===n&&!1!==this.options.editEdge&&(!0===s?this._createSeperator(3):s=!0,this._createEditEdgeButton(o)),0!==r&&(n>0&&!1!==this.options.deleteNode||0===n&&!1!==this.options.deleteEdge)&&(!0===s&&this._createSeperator(4),this._createDeleteButton(o)),this._bindHammerToDiv(this.closeDiv,$(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",$(t=this.showManipulatorToolbar).call(t,this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){var e;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var t,n=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(n),this._createSeperator(),this._createDescription(n.addDescription||this.options.locales.en.addDescription),this._bindHammerToDiv(this.closeDiv,$(t=this.toggleEditMode).call(t,this))}this._temporaryBindEvent("click",$(e=this._performAddNode).call(e,this))}},{key:"editNode",value:function(){var e=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var t=this.selectionHandler._getSelectedNode();if(void 0!==t){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==t.isCluster){var n=bo({},t.options,!1);if(n.x=t.x,n.y=t.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(n,(function(t){null!=t&&"editNode"===e.inMode&&e.body.data.nodes.getDataSet().update(t),e.showManipulatorToolbar()}))}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){var e,t,n,i,r;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var o,s=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(s),this._createSeperator(),this._createDescription(s.edgeDescription||this.options.locales.en.edgeDescription),this._bindHammerToDiv(this.closeDiv,$(o=this.toggleEditMode).call(o,this))}this._temporaryBindUI("onTouch",$(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",$(t=this._finishConnect).call(t,this)),this._temporaryBindUI("onDrag",$(n=this._dragControlNode).call(n,this)),this._temporaryBindUI("onRelease",$(i=this._finishConnect).call(i,this)),this._temporaryBindUI("onDragStart",$(r=this._dragStartEdge).call(r,this)),this._temporaryBindUI("onHold",(function(){}))}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==Jr(this.options.editEdge)||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var e,t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,$(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId){var n,i,r,o,s=this.body.edges[this.edgeBeingEditedId],a=this._getNewTargetNode(s.from.x,s.from.y),l=this._getNewTargetNode(s.to.x,s.to.y);this.temporaryIds.nodes.push(a.id),this.temporaryIds.nodes.push(l.id),this.body.nodes[a.id]=a,this.body.nodeIndices.push(a.id),this.body.nodes[l.id]=l,this.body.nodeIndices.push(l.id),this._temporaryBindUI("onTouch",$(n=this._controlNodeTouch).call(n,this)),this._temporaryBindUI("onTap",(function(){})),this._temporaryBindUI("onHold",(function(){})),this._temporaryBindUI("onDragStart",$(i=this._controlNodeDragStart).call(i,this)),this._temporaryBindUI("onDrag",$(r=this._controlNodeDrag).call(r,this)),this._temporaryBindUI("onDragEnd",$(o=this._controlNodeDragEnd).call(o,this)),this._temporaryBindUI("onMouseMove",(function(){})),this._temporaryBindEvent("beforeDrawing",(function(e){var t=s.edgeType.findBorderPositions(e);!1===a.selected&&(a.x=t.from.x,a.y=t.from.y),!1===l.selected&&(l.x=t.to.x,l.y=t.to.y)})),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var u=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(u.from.id,u.to.id)}}},{key:"deleteSelected",value:function(){var e=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var t=this.selectionHandler.getSelectedNodes(),n=this.selectionHandler.getSelectedEdges(),i=void 0;if(t.length>0){for(var r=0;r<t.length;r++)if(!0===this.body.nodes[t[r]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(i=this.options.deleteNode)}else n.length>0&&"function"==typeof this.options.deleteEdge&&(i=this.options.deleteEdge);if("function"==typeof i){var o={nodes:t,edges:n};if(2!==i.length)throw new Error("The function for delete does not support two arguments (data, callback)");i(o,(function(t){null!=t&&"delete"===e.inMode?(e.body.data.edges.getDataSet().remove(t.edges),e.body.data.nodes.getDataSet().remove(t.nodes),e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar()):(e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().remove(n),this.body.data.nodes.getDataSet().remove(t),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.manipulationDiv.style.display=!0===this.editMode?"block":"none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editModeDiv.style.display=!0===this.editMode?"none":"block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(e,t){var n=bo({},this.options.controlNodeStyle);n.id="targetNode"+Yc(),n.hidden=!1,n.physics=!1,n.x=e,n.y=t;var i=this.body.functions.createNode(n);return i.shape.boundingBox={left:e,right:e,top:t,bottom:t},i}},{key:"_createEditButton",value:function(){var e;this._clean(),this.manipulationDOM={},ho(this.editModeDiv);var t=this._createButton("editMode","vis-button vis-edit vis-edit-mode",this.options.locales[this.options.locale].edit||this.options.locales.en.edit);this.editModeDiv.appendChild(t),this._bindHammerToDiv(t,$(e=this.toggleEditMode).call(e,this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&(ho(this.editModeDiv),ho(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(0!=this.manipulationHammers.length){for(var e=0;e<this.manipulationHammers.length;e++)this.manipulationHammers[e].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean(),ho(this.manipulationDiv),ho(this.editModeDiv),ho(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}},{key:"_createAddNodeButton",value:function(e){var t,n=this._createButton("addNode","vis-button vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(n),this._bindHammerToDiv(n,$(t=this.addNodeMode).call(t,this))}},{key:"_createAddEdgeButton",value:function(e){var t,n=this._createButton("addEdge","vis-button vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(n),this._bindHammerToDiv(n,$(t=this.addEdgeMode).call(t,this))}},{key:"_createEditNodeButton",value:function(e){var t,n=this._createButton("editNode","vis-button vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(n),this._bindHammerToDiv(n,$(t=this.editNode).call(t,this))}},{key:"_createEditEdgeButton",value:function(e){var t,n=this._createButton("editEdge","vis-button vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(n),this._bindHammerToDiv(n,$(t=this.editEdgeMode).call(t,this))}},{key:"_createDeleteButton",value:function(e){var t,n=this._createButton("delete",this.options.rtl?"vis-button vis-delete-rtl":"vis-button vis-delete",e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(n),this._bindHammerToDiv(n,$(t=this.deleteSelected).call(t,this))}},{key:"_createBackButton",value:function(e){var t,n=this._createButton("back","vis-button vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(n),this._bindHammerToDiv(n,$(t=this.showManipulatorToolbar).call(t,this))}},{key:"_createButton",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("div"),this.manipulationDOM[e+"Div"].className=t,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=i,this.manipulationDOM[e+"Label"].innerHTML=n,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}},{key:"_createDescription",value:function(e){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",e))}},{key:"_temporaryBindEvent",value:function(e,t){this.temporaryEventFunctions.push({event:e,boundFunction:t}),this.body.emitter.on(e,t)}},{key:"_temporaryBindUI",value:function(e,t){if(void 0===this.body.eventListeners[e])throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+Fu(Vr(this.body.eventListeners)));this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=t}},{key:"_unbindTemporaryUIs",value:function(){for(var e in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var e=0;e<this.temporaryEventFunctions.length;e++)this.body.emitter.off(this.temporaryEventFunctions[e].event,this.temporaryEventFunctions[e].boundFunction);this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(e,t){var n=new al(e,{});Kc(n,t),this.manipulationHammers.push(n)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var e=0;e<this.temporaryIds.edges.length;e++){var t;this.body.edges[this.temporaryIds.edges[e]].disconnect(),delete this.body.edges[this.temporaryIds.edges[e]];var n,i=pr(t=this.body.edgeIndices).call(t,this.temporaryIds.edges[e]);-1!==i&&Yo(n=this.body.edgeIndices).call(n,i,1)}for(var r=0;r<this.temporaryIds.nodes.length;r++){var o;delete this.body.nodes[this.temporaryIds.nodes[r]];var s,a=pr(o=this.body.nodeIndices).call(o,this.temporaryIds.nodes[r]);-1!==a&&Yo(s=this.body.nodeIndices).call(s,a,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=_e({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(e){var t=this.selectionHandler._pointerToPositionObject(this.lastTouch),n=this.body.nodes[this.temporaryIds.nodes[0]],i=this.body.nodes[this.temporaryIds.nodes[1]],r=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var o=n.isOverlappingWith(t),s=i.isOverlappingWith(t);!0===o?(this.selectedControlNode=n,r.edgeType.from=n):!0===s&&(this.selectedControlNode=i,r.edgeType.to=i),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(e){this.body.emitter.emit("disablePhysics");var t=this.body.functions.getPointer(e.center),n=this.canvas.DOMtoCanvas(t);void 0!==this.selectedControlNode?(this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(e){var t=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(t),i=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var r=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,s=r.length-1;s>=0;s--)if(r[s]!==this.selectedControlNode.id){o=this.body.nodes[r[s]];break}void 0!==o&&void 0!==this.selectedControlNode?!0===o.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.selectedControlNode.id===this.body.nodes[this.temporaryIds.nodes[0]].id?this._performEditEdge(o.id,i.to.id):this._performEditEdge(i.from.id,o.id):(i.updateEdgeType(),this.body.emitter.emit("restorePhysics")),this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(e){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=_e({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;var t=this.selectionHandler.getNodeAt(this.lastTouch);if(void 0!==t)if(!0===t.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var n=this._getNewTargetNode(t.x,t.y);this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id);var i=this.body.functions.createEdge({id:"connectionEdge"+Yc(),from:t.id,to:n.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[i.id]=i,this.body.edgeIndices.push(i.id),this.temporaryIds.nodes.push(n.id),this.temporaryIds.edges.push(i.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(e){var t=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(t),i=void 0;void 0!==this.temporaryIds.edges[0]&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var r=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,s=r.length-1;s>=0;s--){var a;if(-1===pr(a=this.temporaryIds.nodes).call(a,r[s])){o=this.body.nodes[r[s]];break}}if(e.controlEdge={from:i,to:o?o.id:void 0},this.selectionHandler._generateClickEvent("controlNodeDragging",e,t),void 0!==this.temporaryIds.nodes[0]){var l=this.body.nodes[this.temporaryIds.nodes[0]];l.x=this.canvas._XconvertDOMtoCanvas(t.x),l.y=this.canvas._YconvertDOMtoCanvas(t.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}},{key:"_finishConnect",value:function(e){var t=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(t),i=void 0;void 0!==this.temporaryIds.edges[0]&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var r=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,s=r.length-1;s>=0;s--){var a;if(-1===pr(a=this.temporaryIds.nodes).call(a,r[s])){o=this.body.nodes[r[s]];break}}this._cleanupTemporaryNodesAndEdges(),void 0!==o&&(!0===o.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[i]&&void 0!==this.body.nodes[o.id]&&this._performAddEdge(i,o.id)),e.controlEdge={from:i,to:o?o.id:void 0},this.selectionHandler._generateClickEvent("controlNodeDragEnd",e,t),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(e){this.selectionHandler._generateClickEvent("dragStart",e,this.lastTouch,void 0,!0)}},{key:"_performAddNode",value:function(e){var t=this,n={id:Yc(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(n,(function(e){null!=e&&"addNode"===t.inMode&&t.body.data.nodes.getDataSet().add(e),t.showManipulatorToolbar()}))}else this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(e,t){var n=this,i={from:e,to:t};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(i,(function(e){null!=e&&"addEdge"===n.inMode&&(n.body.data.edges.getDataSet().add(e),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(e,t){var n=this,i={id:this.edgeBeingEditedId,from:e,to:t,label:this.body.data.edges.get(this.edgeBeingEditedId).label},r=this.options.editEdge;if("object"===Jr(r)&&(r=r.editWithoutDrag),"function"==typeof r){if(2!==r.length)throw new Error("The function for edit does not support two arguments (data, callback)");r(i,(function(e){null==e||"editEdge"!==n.inMode?(n.body.edges[i.id].updateEdgeType(),n.body.emitter.emit("_redraw"),n.showManipulatorToolbar()):(n.body.data.edges.getDataSet().update(e),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().update(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),e}(),$h={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},ed=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;cl(this,e),this.pixelRatio=t,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return dl(e,[{key:"insertTo",value:function(e){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(e){if("function"!=typeof e)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=e}},{key:"setCloseCallback",value:function(e){if("function"!=typeof e)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=e}},{key:"_isColorString",value:function(e){if("string"==typeof e)return $h[e]}},{key:"setColor",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==e){var n,i=this._isColorString(e);if(void 0!==i&&(e=i),!0===fo(e)){if(!0===Ao(e)){var r=e.substr(4).substr(0,e.length-5).split(",");n={r:r[0],g:r[1],b:r[2],a:1}}else if(!0===Io(e)){var o=e.substr(5).substr(0,e.length-6).split(",");n={r:o[0],g:o[1],b:o[2],a:o[3]}}else if(!0===Po(e)){var s=xo(e);n={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&void 0!==e.r&&void 0!==e.g&&void 0!==e.b){var a=void 0!==e.a?e.a:"1.0";n={r:e.r,g:e.g,b:e.b,a:a}}if(void 0===n)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Fu(e));this._setColor(n,t)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!0===t&&(this.previousColor=_e({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",bl((function(){void 0!==e.closeCallback&&(e.closeCallback(),e.closeCallback=void 0)}),0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!0===t&&(this.initialColor=_e({},e)),this.color=e;var n=To(e.r,e.g,e.b),i=2*Math.PI,r=this.r*n.s,o=this.centerCoordinates.x+r*Math.sin(i*n.h),s=this.centerCoordinates.y+r*Math.cos(i*n.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=s-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}},{key:"_setOpacity",value:function(e){this.color.a=e/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(e){var t=To(this.color.r,this.color.g,this.color.b);t.v=e/100;var n=Do(t.h,t.s,t.v);n.a=this.color.a,this.color=n,this._updatePicker()}},{key:"_updatePicker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,t=To(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var i=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,i,r),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-t.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),uu(n).call(n),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var e,t,n,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var r=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var o=document.createElement("DIV");o.style.color="red",o.style.fontWeight="bold",o.style.padding="10px",o.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(o)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(e){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(e){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=$(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=$(t=this._apply).call(t,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=$(n=this._save).call(n,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=$(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var e=this;this.drag={},this.pinch={},this.hammer=new al(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),Kc(this.hammer,(function(t){e._moveSelector(t)})),this.hammer.on("tap",(function(t){e._moveSelector(t)})),this.hammer.on("panstart",(function(t){e._moveSelector(t)})),this.hammer.on("panmove",(function(t){e._moveSelector(t)})),this.hammer.on("panend",(function(t){e._moveSelector(t)}))}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var e=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var t,n,i,r,o=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,o,s),this.centerCoordinates={x:.5*o,y:.5*s},this.r=.49*o;var a,l=2*Math.PI/360,u=1/this.r;for(i=0;i<360;i++)for(r=0;r<this.r;r++)t=this.centerCoordinates.x+r*Math.sin(l*i),n=this.centerCoordinates.y+r*Math.cos(l*i),a=Do(i*(1/360),r*u,1),e.fillStyle="rgb("+a.r+","+a.g+","+a.b+")",e.fillRect(t-.5,n-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,o,s)}this.generated=!0}},{key:"_moveSelector",value:function(e){var t=this.colorPickerDiv.getBoundingClientRect(),n=.5*this.colorPickerDiv.clientHeight,i=.5*this.colorPickerDiv.clientWidth,r=e.center.x-t.left-i,o=e.center.y-t.top-n,s=Math.atan2(r,o),a=.98*Math.min(Math.sqrt(r*r+o*o),i),l=Math.cos(s)*a+n,u=Math.sin(s)*a+i;this.colorPickerSelector.style.top=l-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=u-.5*this.colorPickerSelector.clientWidth+"px";var c=s/(2*Math.PI);c=c<0?c+1:c;var h=a/this.r,d=To(this.color.r,this.color.g,this.color.b);d.h=c,d.s=h;var f=Do(d.h,d.s,d.v);f.a=this.color.a,this.color=f,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),e}(),td=function(){function e(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;cl(this,e),this.parent=t,this.changedOptions=[],this.container=n,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},_e(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new ed(r),this.wrapper=void 0}return dl(e,[{key:"setOptions",value:function(e){if(void 0!==e){this.popupHistory={},this._removePopup();var t=!0;if("string"==typeof e)this.options.filter=e;else if(e instanceof Array)this.options.filter=e.join();else if("object"===Jr(e)){if(null==e)throw new TypeError("options cannot be null");void 0!==e.container&&(this.options.container=e.container),void 0!==ir(e)&&(this.options.filter=ir(e)),void 0!==e.showButton&&(this.options.showButton=e.showButton),void 0!==e.enabled&&(t=e.enabled)}else"boolean"==typeof e?(this.options.filter=!0,t=e):"function"==typeof e&&(this.options.filter=e,t=!0);!1===ir(this.options)&&(t=!1),this.options.enabled=t}this._clean()}},{key:"setModuleOptions",value:function(e){this.moduleOptions=e,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var e=ir(this.options),t=0,n=!1;for(var i in this.configureOptions)this.configureOptions.hasOwnProperty(i)&&(this.allowCreation=!1,n=!1,"function"==typeof e?n=(n=e(i,[]))||this._handleObject(this.configureOptions[i],[i],!0):!0!==e&&-1===pr(e).call(e,i)||(n=!0),!1!==n&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),t++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(e){for(var t=this.moduleOptions,n=0;n<e.length;n++){if(void 0===t[e[n]]){t=void 0;break}t=t[e[n]]}return t}},{key:"_makeItem",value:function(e){if(!0===this.allowCreation){var t=document.createElement("div");t.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return Ni(i).call(i,(function(e){t.appendChild(e)})),this.domElements.push(t),this.domElements.length}return 0}},{key:"_makeHeader",value:function(e){var t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerHTML=e,this._makeItem([],t)}},{key:"_makeLabel",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=document.createElement("div");return i.className="vis-configuration vis-config-label vis-config-s"+t.length,i.innerHTML=!0===n?"<i><b>"+e+":</b></i>":e+":",i}},{key:"_makeDropdown",value:function(e,t,n){var i=document.createElement("select");i.className="vis-configuration vis-config-select";var r=0;void 0!==t&&-1!==pr(e).call(e,t)&&(r=pr(e).call(e,t));for(var o=0;o<e.length;o++){var s=document.createElement("option");s.value=e[o],o===r&&(s.selected="selected"),s.innerHTML=e[o],i.appendChild(s)}var a=this;i.onchange=function(){a._update(this.value,n)};var l=this._makeLabel(n[n.length-1],n);this._makeItem(n,l,i)}},{key:"_makeRange",value:function(e,t,n){var i=e[0],r=e[1],o=e[2],s=e[3],a=document.createElement("input");a.className="vis-configuration vis-config-range";try{a.type="range",a.min=r,a.max=o}catch(e){}a.step=s;var l="",u=0;void 0!==t?(t<0&&1.2*t<r?(a.min=Math.ceil(1.2*t),u=a.min,l="range increased"):t/1.2<r&&(a.min=Math.ceil(t/1.2),u=a.min,l="range increased"),1.2*t>o&&1!==o&&(a.max=Math.ceil(1.2*t),u=a.max,l="range increased"),a.value=t):a.value=i;var c=document.createElement("input");c.className="vis-configuration vis-config-rangeinput",c.value=a.value;var h=this;a.onchange=function(){c.value=this.value,h._update(Number(this.value),n)},a.oninput=function(){c.value=this.value};var d=this._makeLabel(n[n.length-1],n),f=this._makeItem(n,d,a,c);""!==l&&this.popupHistory[f]!==u&&(this.popupHistory[f]=u,this._setupPopup(l,f))}},{key:"_makeButton",value:function(){var e=this;if(!0===this.options.showButton){var t=document.createElement("div");t.className="vis-configuration vis-config-button",t.innerHTML="generate options",t.onclick=function(){e._printOptions()},t.onmouseover=function(){t.className="vis-configuration vis-config-button hover"},t.onmouseout=function(){t.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(t)}}},{key:"_setupPopup",value:function(e,t){var n=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var i=document.createElement("div");i.id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerHTML=e,i.onclick=function(){n._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:t}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var e=this;if(void 0!==this.popupDiv.html){var t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=bl((function(){e.popupDiv.html.style.opacity=0}),1500),this.popupDiv.deleteTimeout=bl((function(){e._removePopup()}),1800)}}},{key:"_makeCheckbox",value:function(e,t,n){var i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=e,void 0!==t&&(i.checked=t,t!==e&&("object"===Jr(e)?t!==e.enabled&&this.changedOptions.push({path:n,value:t}):this.changedOptions.push({path:n,value:t})));var r=this;i.onchange=function(){r._update(this.checked,n)};var o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}},{key:"_makeTextInput",value:function(e,t,n){var i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=t,t!==e&&this.changedOptions.push({path:n,value:t});var r=this;i.onchange=function(){r._update(this.value,n)};var o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}},{key:"_makeColorField",value:function(e,t,n){var i=this,r=e[1],o=document.createElement("div");"none"!==(t=void 0===t?r:t)?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=t):o.className="vis-configuration vis-config-colorBlock none",t=void 0===t?r:t,o.onclick=function(){i._showColorPicker(t,o,n)};var s=this._makeLabel(n[n.length-1],n);this._makeItem(n,s,o)}},{key:"_showColorPicker",value:function(e,t,n){var i=this;t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback((function(e){var r="rgba("+e.r+","+e.g+","+e.b+","+e.a+")";t.style.backgroundColor=r,i._update(r,n)})),this.colorPicker.setCloseCallback((function(){t.onclick=function(){i._showColorPicker(e,t,n)}}))}},{key:"_handleObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!1,r=ir(this.options),o=!1;for(var s in e)if(e.hasOwnProperty(s)){i=!0;var a=e[s],l=_o(t,s);if("function"==typeof r&&!1===(i=r(s,t))&&!(a instanceof Array)&&"string"!=typeof a&&"boolean"!=typeof a&&a instanceof Object&&(this.allowCreation=!1,i=this._handleObject(a,l,!0),this.allowCreation=!1===n),!1!==i){o=!0;var u=this._getValue(l);if(a instanceof Array)this._handleArray(a,u,l);else if("string"==typeof a)this._makeTextInput(a,u,l);else if("boolean"==typeof a)this._makeCheckbox(a,u,l);else if(a instanceof Object){var c=!0;if(-1!==pr(t).call(t,"physics")&&this.moduleOptions.physics.solver!==s&&"wind"!==s&&(c=!1),!0===c)if(void 0!==a.enabled){var h=_o(l,"enabled"),d=this._getValue(h);if(!0===d){var f=this._makeLabel(s,l,!0);this._makeItem(l,f),o=this._handleObject(a,l)||o}else this._makeCheckbox(a,d,l)}else{var p=this._makeLabel(s,l,!0);this._makeItem(l,p),o=this._handleObject(a,l)||o}}else console.error("dont know how to handle",a,s,l)}}return o}},{key:"_handleArray",value:function(e,t,n){"string"==typeof e[0]&&"color"===e[0]?(this._makeColorField(e,t,n),e[1]!==t&&this.changedOptions.push({path:n,value:t})):"string"==typeof e[0]?(this._makeDropdown(e,t,n),e[0]!==t&&this.changedOptions.push({path:n,value:t})):"number"==typeof e[0]&&(this._makeRange(e,t,n),e[0]!==t&&this.changedOptions.push({path:n,value:Number(t)}))}},{key:"_update",value:function(e,t){var n=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}},{key:"_constructOptions",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n;e="false"!==(e="true"===e||e)&&e;for(var r=0;r<t.length;r++)"global"!==t[r]&&(void 0===i[t[r]]&&(i[t[r]]={}),r!==t.length-1?i=i[t[r]]:i[t[r]]=e);return n}},{key:"_printOptions",value:function(){var e=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+Fu(e,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var e={},t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}}]),e}(),nd="string",id="boolean",rd="number",od="object",sd=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],ad={configure:{enabled:{boolean:id},filter:{boolean:id,string:nd,array:"array",function:"function"},container:{dom:"dom"},showButton:{boolean:id},__type__:{object:od,boolean:id,string:nd,array:"array",function:"function"}},edges:{arrows:{to:{enabled:{boolean:id},scaleFactor:{number:rd},type:{string:sd},imageHeight:{number:rd},imageWidth:{number:rd},src:{string:nd},__type__:{object:od,boolean:id}},middle:{enabled:{boolean:id},scaleFactor:{number:rd},type:{string:sd},imageWidth:{number:rd},imageHeight:{number:rd},src:{string:nd},__type__:{object:od,boolean:id}},from:{enabled:{boolean:id},scaleFactor:{number:rd},type:{string:sd},imageWidth:{number:rd},imageHeight:{number:rd},src:{string:nd},__type__:{object:od,boolean:id}},__type__:{string:["from","to","middle"],object:od}},endPointOffset:{from:{number:rd},to:{number:rd},__type__:{object:od,number:rd}},arrowStrikethrough:{boolean:id},background:{enabled:{boolean:id},color:{string:nd},size:{number:rd},dashes:{boolean:id,array:"array"},__type__:{object:od,boolean:id}},chosen:{label:{boolean:id,function:"function"},edge:{boolean:id,function:"function"},__type__:{object:od,boolean:id}},color:{color:{string:nd},highlight:{string:nd},hover:{string:nd},inherit:{string:["from","to","both"],boolean:id},opacity:{number:rd},__type__:{object:od,string:nd}},dashes:{boolean:id,array:"array"},font:{color:{string:nd},size:{number:rd},face:{string:nd},background:{string:nd},strokeWidth:{number:rd},strokeColor:{string:nd},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:rd},multi:{boolean:id,string:nd},bold:{color:{string:nd},size:{number:rd},face:{string:nd},mod:{string:nd},vadjust:{number:rd},__type__:{object:od,string:nd}},boldital:{color:{string:nd},size:{number:rd},face:{string:nd},mod:{string:nd},vadjust:{number:rd},__type__:{object:od,string:nd}},ital:{color:{string:nd},size:{number:rd},face:{string:nd},mod:{string:nd},vadjust:{number:rd},__type__:{object:od,string:nd}},mono:{color:{string:nd},size:{number:rd},face:{string:nd},mod:{string:nd},vadjust:{number:rd},__type__:{object:od,string:nd}},__type__:{object:od,string:nd}},hidden:{boolean:id},hoverWidth:{function:"function",number:rd},label:{string:nd,undefined:"undefined"},labelHighlightBold:{boolean:id},length:{number:rd,undefined:"undefined"},physics:{boolean:id},scaling:{min:{number:rd},max:{number:rd},label:{enabled:{boolean:id},min:{number:rd},max:{number:rd},maxVisible:{number:rd},drawThreshold:{number:rd},__type__:{object:od,boolean:id}},customScalingFunction:{function:"function"},__type__:{object:od}},selectionWidth:{function:"function",number:rd},selfReferenceSize:{number:rd},selfReference:{size:{number:rd},angle:{number:rd},renderBehindTheNode:{boolean:id},__type__:{object:od}},shadow:{enabled:{boolean:id},color:{string:nd},size:{number:rd},x:{number:rd},y:{number:rd},__type__:{object:od,boolean:id}},smooth:{enabled:{boolean:id},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:rd},forceDirection:{string:["horizontal","vertical","none"],boolean:id},__type__:{object:od,boolean:id}},title:{string:nd,undefined:"undefined"},width:{number:rd},widthConstraint:{maximum:{number:rd},__type__:{object:od,boolean:id,number:rd}},value:{number:rd,undefined:"undefined"},__type__:{object:od}},groups:{useDefaultGroups:{boolean:id},__any__:"get from nodes, will be overwritten below",__type__:{object:od}},interaction:{dragNodes:{boolean:id},dragView:{boolean:id},hideEdgesOnDrag:{boolean:id},hideEdgesOnZoom:{boolean:id},hideNodesOnDrag:{boolean:id},hover:{boolean:id},keyboard:{enabled:{boolean:id},speed:{x:{number:rd},y:{number:rd},zoom:{number:rd},__type__:{object:od}},bindToWindow:{boolean:id},__type__:{object:od,boolean:id}},multiselect:{boolean:id},navigationButtons:{boolean:id},selectable:{boolean:id},selectConnectedEdges:{boolean:id},hoverConnectedEdges:{boolean:id},tooltipDelay:{number:rd},zoomView:{boolean:id},zoomSpeed:{number:rd},__type__:{object:od}},layout:{randomSeed:{undefined:"undefined",number:rd,string:nd},improvedLayout:{boolean:id},clusterThreshold:{number:rd},hierarchical:{enabled:{boolean:id},levelSeparation:{number:rd},nodeSpacing:{number:rd},treeSpacing:{number:rd},blockShifting:{boolean:id},edgeMinimization:{boolean:id},parentCentralization:{boolean:id},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:od,boolean:id}},__type__:{object:od}},manipulation:{enabled:{boolean:id},initiallyActive:{boolean:id},addNode:{boolean:id,function:"function"},addEdge:{boolean:id,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:od,boolean:id,function:"function"}},deleteNode:{boolean:id,function:"function"},deleteEdge:{boolean:id,function:"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:od,boolean:id}},nodes:{borderWidth:{number:rd},borderWidthSelected:{number:rd,undefined:"undefined"},brokenImage:{string:nd,undefined:"undefined"},chosen:{label:{boolean:id,function:"function"},node:{boolean:id,function:"function"},__type__:{object:od,boolean:id}},color:{border:{string:nd},background:{string:nd},highlight:{border:{string:nd},background:{string:nd},__type__:{object:od,string:nd}},hover:{border:{string:nd},background:{string:nd},__type__:{object:od,string:nd}},__type__:{object:od,string:nd}},opacity:{number:rd,undefined:"undefined"},fixed:{x:{boolean:id},y:{boolean:id},__type__:{object:od,boolean:id}},font:{align:{string:nd},color:{string:nd},size:{number:rd},face:{string:nd},background:{string:nd},strokeWidth:{number:rd},strokeColor:{string:nd},vadjust:{number:rd},multi:{boolean:id,string:nd},bold:{color:{string:nd},size:{number:rd},face:{string:nd},mod:{string:nd},vadjust:{number:rd},__type__:{object:od,string:nd}},boldital:{color:{string:nd},size:{number:rd},face:{string:nd},mod:{string:nd},vadjust:{number:rd},__type__:{object:od,string:nd}},ital:{color:{string:nd},size:{number:rd},face:{string:nd},mod:{string:nd},vadjust:{number:rd},__type__:{object:od,string:nd}},mono:{color:{string:nd},size:{number:rd},face:{string:nd},mod:{string:nd},vadjust:{number:rd},__type__:{object:od,string:nd}},__type__:{object:od,string:nd}},group:{string:nd,number:rd,undefined:"undefined"},heightConstraint:{minimum:{number:rd},valign:{string:nd},__type__:{object:od,boolean:id,number:rd}},hidden:{boolean:id},icon:{face:{string:nd},code:{string:nd},size:{number:rd},color:{string:nd},weight:{string:nd,number:rd},__type__:{object:od}},id:{string:nd,number:rd},image:{selected:{string:nd,undefined:"undefined"},unselected:{string:nd,undefined:"undefined"},__type__:{object:od,string:nd}},imagePadding:{top:{number:rd},right:{number:rd},bottom:{number:rd},left:{number:rd},__type__:{object:od,number:rd}},label:{string:nd,undefined:"undefined"},labelHighlightBold:{boolean:id},level:{number:rd,undefined:"undefined"},margin:{top:{number:rd},right:{number:rd},bottom:{number:rd},left:{number:rd},__type__:{object:od,number:rd}},mass:{number:rd},physics:{boolean:id},scaling:{min:{number:rd},max:{number:rd},label:{enabled:{boolean:id},min:{number:rd},max:{number:rd},maxVisible:{number:rd},drawThreshold:{number:rd},__type__:{object:od,boolean:id}},customScalingFunction:{function:"function"},__type__:{object:od}},shadow:{enabled:{boolean:id},color:{string:nd},size:{number:rd},x:{number:rd},y:{number:rd},__type__:{object:od,boolean:id}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},shapeProperties:{borderDashes:{boolean:id,array:"array"},borderRadius:{number:rd},interpolation:{boolean:id},useImageSize:{boolean:id},useBorderWithImage:{boolean:id},__type__:{object:od}},size:{number:rd},title:{string:nd,dom:"dom",undefined:"undefined"},value:{number:rd,undefined:"undefined"},widthConstraint:{minimum:{number:rd},maximum:{number:rd},__type__:{object:od,boolean:id,number:rd}},x:{number:rd},y:{number:rd},__type__:{object:od}},physics:{enabled:{boolean:id},barnesHut:{theta:{number:rd},gravitationalConstant:{number:rd},centralGravity:{number:rd},springLength:{number:rd},springConstant:{number:rd},damping:{number:rd},avoidOverlap:{number:rd},__type__:{object:od}},forceAtlas2Based:{theta:{number:rd},gravitationalConstant:{number:rd},centralGravity:{number:rd},springLength:{number:rd},springConstant:{number:rd},damping:{number:rd},avoidOverlap:{number:rd},__type__:{object:od}},repulsion:{centralGravity:{number:rd},springLength:{number:rd},springConstant:{number:rd},nodeDistance:{number:rd},damping:{number:rd},__type__:{object:od}},hierarchicalRepulsion:{centralGravity:{number:rd},springLength:{number:rd},springConstant:{number:rd},nodeDistance:{number:rd},damping:{number:rd},avoidOverlap:{number:rd},__type__:{object:od}},maxVelocity:{number:rd},minVelocity:{number:rd},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:id},iterations:{number:rd},updateInterval:{number:rd},onlyDynamicEdges:{boolean:id},fit:{boolean:id},__type__:{object:od,boolean:id}},timestep:{number:rd},adaptiveTimestep:{boolean:id},wind:{x:{number:rd},y:{number:rd},__type__:{object:od}},__type__:{object:od,boolean:id}},autoResize:{boolean:id},clickToUse:{boolean:id},locale:{string:nd},locales:{__any__:{any:"any"},__type__:{object:od}},height:{string:nd},width:{string:nd},__type__:{object:od}};ad.groups.__any__=ad.nodes,ad.manipulation.controlNodeStyle=ad.nodes;var ld={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},ud=Object.freeze({__proto__:null,allOptions:ad,configureOptions:ld}),cd=function(){function e(){cl(this,e)}return dl(e,[{key:"getDistances",value:function(e,t,n){for(var i={},r=e.edges,o=0;o<t.length;o++){var s={};i[t[o]]=s;for(var a=0;a<t.length;a++)s[t[a]]=o==a?0:1e9}for(var l=0;l<n.length;l++){var u=r[n[l]];!0===u.connected&&void 0!==i[u.fromId]&&void 0!==i[u.toId]&&(i[u.fromId][u.toId]=1,i[u.toId][u.fromId]=1)}for(var c=t.length,h=0;h<c;h++)for(var d=t[h],f=i[d],p=0;p<c-1;p++)for(var v=t[p],y=i[v],g=p+1;g<c;g++){var m=t[g],b=i[m],_=Math.min(y[m],y[d]+f[m]);y[m]=_,b[v]=_}return i}}]),e}(),hd=function(){function e(t,n,i){cl(this,e),this.body=t,this.springLength=n,this.springConstant=i,this.distanceSolver=new cd}return dl(e,[{key:"setOptions",value:function(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}},{key:"solve",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.distanceSolver.getDistances(this.body,e,t);this._createL_matrix(i),this._createK_matrix(i),this._createE_matrix();for(var r=.01,o=1,s=0,a=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),l=5,u=1e9,c=0,h=0,d=0,f=0,p=0;u>r&&s<a;){s+=1;var v=this._getHighestEnergyNode(n),y=Br(v,4);for(c=y[0],h=y[2],d=y[3],f=u=y[1],p=0;f>o&&p<l;){p+=1,this._moveNode(c,h,d);var g=this._getEnergy(c),m=Br(g,3);f=m[0],h=m[1],d=m[2]}}}},{key:"_getHighestEnergyNode",value:function(e){for(var t=this.body.nodeIndices,n=this.body.nodes,i=0,r=t[0],o=0,s=0,a=0;a<t.length;a++){var l=t[a];if(!1===n[l].predefinedPosition||!0===n[l].isCluster&&!0===e||!0===n[l].options.fixed.x||!0===n[l].options.fixed.y){var u=this._getEnergy(l),c=Br(u,3),h=c[0];i<h&&(i=h,r=l,o=c[1],s=c[2])}}return[r,i,o,s]}},{key:"_getEnergy",value:function(e){var t=Br(this.E_sums[e],2),n=t[0],i=t[1];return[Math.sqrt(Math.pow(n,2)+Math.pow(i,2)),n,i]}},{key:"_moveNode",value:function(e,t,n){for(var i=this.body.nodeIndices,r=this.body.nodes,o=0,s=0,a=0,l=r[e].x,u=r[e].y,c=this.K_matrix[e],h=this.L_matrix[e],d=0;d<i.length;d++){var f=i[d];if(f!==e){var p=r[f].x,v=r[f].y,y=c[f],g=h[f],m=1/Math.pow(Math.pow(l-p,2)+Math.pow(u-v,2),1.5);o+=y*(1-g*Math.pow(u-v,2)*m),s+=y*(g*(l-p)*(u-v)*m),a+=y*(1-g*Math.pow(l-p,2)*m)}}var b=(t/o+n/s)/(s/o-a/s);r[e].x+=-(s*b+t)/o,r[e].y+=b,this._updateE_matrix(e)}},{key:"_createL_matrix",value:function(e){var t=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(var i=0;i<t.length;i++){this.L_matrix[t[i]]={};for(var r=0;r<t.length;r++)this.L_matrix[t[i]][t[r]]=n*e[t[i]][t[r]]}}},{key:"_createK_matrix",value:function(e){var t=this.body.nodeIndices,n=this.springConstant;this.K_matrix=[];for(var i=0;i<t.length;i++){this.K_matrix[t[i]]={};for(var r=0;r<t.length;r++)this.K_matrix[t[i]][t[r]]=n*Math.pow(e[t[i]][t[r]],-2)}}},{key:"_createE_matrix",value:function(){var e=this.body.nodeIndices,t=this.body.nodes;this.E_matrix={},this.E_sums={};for(var n=0;n<e.length;n++)this.E_matrix[e[n]]=[];for(var i=0;i<e.length;i++){for(var r=e[i],o=t[r].x,s=t[r].y,a=0,l=0,u=i;u<e.length;u++){var c=e[u];if(c!==r){var h=t[c].x,d=t[c].y,f=1/Math.sqrt(Math.pow(o-h,2)+Math.pow(s-d,2));this.E_matrix[r][u]=[this.K_matrix[r][c]*(o-h-this.L_matrix[r][c]*(o-h)*f),this.K_matrix[r][c]*(s-d-this.L_matrix[r][c]*(s-d)*f)],this.E_matrix[c][i]=this.E_matrix[r][u],a+=this.E_matrix[r][u][0],l+=this.E_matrix[r][u][1]}}this.E_sums[r]=[a,l]}}},{key:"_updateE_matrix",value:function(e){for(var t=this.body.nodeIndices,n=this.body.nodes,i=this.E_matrix[e],r=this.K_matrix[e],o=this.L_matrix[e],s=n[e].x,a=n[e].y,l=0,u=0,c=0;c<t.length;c++){var h=t[c];if(h!==e){var d=i[c],f=d[0],p=d[1],v=n[h].x,y=n[h].y,g=1/Math.sqrt(Math.pow(s-v,2)+Math.pow(a-y,2)),m=r[h]*(s-v-o[h]*(s-v)*g),b=r[h]*(a-y-o[h]*(a-y)*g);i[c]=[m,b],l+=m,u+=b;var _=this.E_sums[h];_[0]+=m-f,_[1]+=b-p}}this.E_sums[e]=[l,u]}}]),e}();function dd(e,t,n){var i,r,o,s,a=this;if(!(this instanceof dd))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:ul,clickToUse:!1},_e(this.options,this.defaultOptions),this.body={container:e,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:$(i=this.on).call(i,this),off:$(r=this.off).call(r,this),emit:$(o=this.emit).call(o,this),once:$(s=this.once).call(s,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new pl((function(){return a.body.emitter.emit("_requestRedraw")})),this.groups=new vl,this.canvas=new Qc(this.body),this.selectionHandler=new ih(this.body,this.canvas),this.interactionHandler=new nh(this.body,this.canvas,this.selectionHandler),this.view=new $c(this.body,this.canvas),this.renderer=new Zc(this.body,this.canvas),this.physics=new Ic(this.body),this.layoutEngine=new Jh(this.body),this.clustering=new qc(this.body),this.manipulation=new Qh(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new Wu(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new xc(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new hd(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(n),this.setData(t)}Ee(dd.prototype),dd.prototype.setOptions=function(e){var t=this;if(null===e&&(e=void 0),void 0!==e){if(!0===zu.validate(e,ad)&&console.log("%cErrors have been found in the supplied options object.",ju),go(["locale","locales","clickToUse"],this.options,e),void 0!==e.locale&&(e.locale=function(e,t){try{var n=t.split(/[-_ \/]/,2),i=Br(n,2),r=i[0],o=i[1],s=null!=r?r.toLowerCase():null,a=null!=o?o.toUpperCase():null;if(s&&a){var l,u=s+"-"+a;if(Object.prototype.hasOwnProperty.call(e,u))return u;console.warn(to(l="Unknown variant ".concat(a," of language ")).call(l,s,"."))}if(s){var c=s;if(Object.prototype.hasOwnProperty.call(e,c))return c;console.warn("Unknown language ".concat(s))}return console.warn("Unknown locale ".concat(t,", falling back to English.")),"en"}catch(e){return console.error(e),console.warn("Unexpected error while normalizing locale ".concat(t,", falling back to English.")),"en"}}(e.locales||this.options.locales,e.locale)),e=this.layoutEngine.setOptions(e.layout,e),this.canvas.setOptions(e),this.groups.setOptions(e.groups),this.nodesHandler.setOptions(e.nodes),this.edgesHandler.setOptions(e.edges),this.physics.setOptions(e.physics),this.manipulation.setOptions(e.manipulation,e,this.options),this.interactionHandler.setOptions(e.interaction),this.renderer.setOptions(e.interaction),this.selectionHandler.setOptions(e.interaction),void 0!==e.groups&&this.body.emitter.emit("refreshNodes"),"configure"in e&&(this.configurator||(this.configurator=new td(this,this.body.container,ld,this.canvas.pixelRatio)),this.configurator.setOptions(e.configure)),this.configurator&&!0===this.configurator.options.enabled){var n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};bo(n.nodes,this.nodesHandler.options),bo(n.edges,this.edgesHandler.options),bo(n.layout,this.layoutEngine.options),bo(n.interaction,this.selectionHandler.options),bo(n.interaction,this.renderer.options),bo(n.interaction,this.interactionHandler.options),bo(n.manipulation,this.manipulation.options),bo(n.physics,this.physics.options),bo(n.global,this.canvas.options),bo(n.global,this.options),this.configurator.setModuleOptions(n)}void 0!==e.clickToUse?!0===e.clickToUse?void 0===this.activator&&(this.activator=new ll(this.canvas.frame),this.activator.on("change",(function(){t.body.emitter.emit("activate")}))):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},dd.prototype._updateVisibleIndices=function(){var e=this.body.nodes,t=this.body.edges;for(var n in this.body.nodeIndices=[],this.body.edgeIndices=[],e)e.hasOwnProperty(n)&&(this.clustering._isClusteredNode(n)||!1!==e[n].options.hidden||this.body.nodeIndices.push(e[n].id));for(var i in t)if(t.hasOwnProperty(i)){var r=t[i],o=e[r.fromId],s=e[r.toId],a=void 0!==o&&void 0!==s;!this.clustering._isClusteredEdge(i)&&!1===r.options.hidden&&a&&!1===o.options.hidden&&!1===s.options.hidden&&this.body.edgeIndices.push(r.id)}},dd.prototype.bindEventListeners=function(){var e=this;this.body.emitter.on("_dataChanged",(function(){e.edgesHandler._updateState(),e.body.emitter.emit("_dataUpdated")})),this.body.emitter.on("_dataUpdated",(function(){e.clustering._updateState(),e._updateVisibleIndices(),e._updateValueRange(e.body.nodes),e._updateValueRange(e.body.edges),e.body.emitter.emit("startSimulation"),e.body.emitter.emit("_requestRedraw")}))},dd.prototype.setData=function(e){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),e&&e.dot&&(e.nodes||e.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(e&&e.options),e&&e.dot){console.log("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var t=Ms(e.dot);this.setData(t)}else if(e&&e.gephi){console.log("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var n=As(e.gephi);this.setData(n)}else this.nodesHandler.setData(e&&e.nodes,!0),this.edgesHandler.setData(e&&e.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},dd.prototype.destroy=function(){for(var e in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)this.body.nodes.hasOwnProperty(e)&&delete this.body.nodes[e];for(var t in this.body.edges)this.body.edges.hasOwnProperty(t)&&delete this.body.edges[t];ho(this.body.container)},dd.prototype._updateValueRange=function(e){var t,n=void 0,i=void 0,r=0;for(t in e)if(e.hasOwnProperty(t)){var o=e[t].getValue();void 0!==o&&(n=void 0===n?o:Math.min(o,n),i=void 0===i?o:Math.max(o,i),r+=o)}if(void 0!==n&&void 0!==i)for(t in e)e.hasOwnProperty(t)&&e[t].setValueRange(n,i,r)},dd.prototype.isActive=function(){return!this.activator||this.activator.active},dd.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},dd.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},dd.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},dd.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},dd.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},dd.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},dd.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},dd.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},dd.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},dd.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},dd.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)},dd.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)},dd.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)},dd.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)},dd.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)},dd.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},dd.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},dd.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},dd.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},dd.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},dd.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},dd.prototype.editNodeMode=function(){return console.log("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},dd.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},dd.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},dd.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},dd.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},dd.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)},dd.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},dd.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},dd.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},dd.prototype.getConnectedNodes=function(e){return void 0!==this.body.nodes[e]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},dd.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},dd.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},dd.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},dd.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},dd.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},dd.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},dd.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},dd.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},dd.prototype.getNodeAt=function(){var e=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==e&&void 0!==e.id?e.id:e},dd.prototype.getEdgeAt=function(){var e=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==e&&void 0!==e.id?e.id:e},dd.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},dd.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},dd.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.redraw()},dd.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},dd.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},dd.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},dd.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},dd.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},dd.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},dd.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},dd.prototype.getOptionsFromConfigurator=function(){var e={};return this.configurator&&(e=this.configurator.getOptions.apply(this.configurator)),e};var fd=Ms;e.Network=dd,e.NetworkImages=pl,e.networkDOTParser=Ps,e.networkGephiParser=Is,e.networkOptions=ud,e.parseDOTNetwork=fd,e.parseGephiNetwork=As,Object.defineProperty(e,"__esModule",{value:!0})}(t,n("bOe7"))},bOe7:function(e,t,n){!function(e){var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return r()}},n.exports),n.exports}function i(e){return e&&e.default||e}function r(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var o=function(e){return e&&e.Math==Math&&e},s=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof t&&t)||Function("return this")(),a=function(e){try{return!!e()}catch(t){return!0}},l=!a((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),u={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,h={f:c&&!u.call({1:2},1)?function(e){var t=c(this,e);return!!t&&t.enumerable}:u},d=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},f={}.toString,p=function(e){return f.call(e).slice(8,-1)},v="".split,y=a((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==p(e)?v.call(e,""):Object(e)}:Object,g=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},m=function(e){return y(g(e))},b=function(e){return"object"==typeof e?null!==e:"function"==typeof e},_=function(e,t){if(!b(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!b(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!b(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!b(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")},w={}.hasOwnProperty,k=function(e,t){return w.call(e,t)},C=s.document,x=b(C)&&b(C.createElement),S=function(e){return x?C.createElement(e):{}},O=!l&&!a((function(){return 7!=Object.defineProperty(S("div"),"a",{get:function(){return 7}}).a})),E=Object.getOwnPropertyDescriptor,T={f:l?E:function(e,t){if(e=m(e),t=_(t,!0),O)try{return E(e,t)}catch(n){}if(k(e,t))return d(!h.f.call(e,t),e[t])}},D=/#|\.prototype\./,M=function(e,t){var n=A[P(e)];return n==N||n!=I&&("function"==typeof t?a(t):!!t)},P=M.normalize=function(e){return String(e).replace(D,".").toLowerCase()},A=M.data={},I=M.NATIVE="N",N=M.POLYFILL="P",F=M,R={},j=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},z=function(e,t,n){if(j(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}},B=function(e){if(!b(e))throw TypeError(String(e)+" is not an object");return e},L=Object.defineProperty,H={f:l?L:function(e,t,n){if(B(e),t=_(t,!0),B(n),O)try{return L(e,t,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},V=l?function(e,t,n){return H.f(e,t,d(1,n))}:function(e,t,n){return e[t]=n,e},W=T.f,Y=function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t.prototype=e.prototype,t},U=function(e,t){var n,i,r,o,a,l,u,c,h=e.target,d=e.global,f=e.stat,p=e.proto,v=d?s:f?s[h]:(s[h]||{}).prototype,y=d?R:R[h]||(R[h]={}),g=y.prototype;for(r in t)n=!F(d?r:h+(f?".":"#")+r,e.forced)&&v&&k(v,r),a=y[r],n&&(l=e.noTargetGet?(c=W(v,r))&&c.value:v[r]),o=n&&l?l:t[r],n&&typeof a==typeof o||(u=e.bind&&n?z(o,s):e.wrap&&n?Y(o):p&&"function"==typeof o?z(Function.call,o):o,(e.sham||o&&o.sham||a&&a.sham)&&V(u,"sham",!0),y[r]=u,p&&(k(R,i=h+"Prototype")||V(R,i,{}),R[i][r]=o,e.real&&g&&!g[r]&&V(g,r,o)))},G=Array.isArray||function(e){return"Array"==p(e)},q=Math.ceil,Z=Math.floor,X=function(e){return isNaN(e=+e)?0:(e>0?Z:q)(e)},K=Math.min,J=function(e){return e>0?K(X(e),9007199254740991):0},Q=function e(t,n,i,r,o,s,a,l){for(var u,c=o,h=0,d=!!a&&z(a,l,3);h<r;){if(h in i){if(u=d?d(i[h],h,n):i[h],s>0&&G(u))c=e(t,n,u,J(u.length),c,s-1)-1;else{if(c>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[c]=u}c++}h++}return c},$=function(e){return Object(g(e))},ee=s["__core-js_shared__"]||function(e,t){try{V(s,e,t)}catch(n){s[e]=t}return t}("__core-js_shared__",{}),te=n((function(e){(e.exports=function(e,t){return ee[e]||(ee[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.4",mode:"pure",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})})),ne=0,ie=Math.random(),re=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++ne+ie).toString(36)},oe=!!Object.getOwnPropertySymbols&&!a((function(){return!String(Symbol())})),se=oe&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ae=te("wks"),le=s.Symbol,ue=se?le:le&&le.withoutSetter||re,ce=function(e){return k(ae,e)||(ae[e]=oe&&k(le,e)?le[e]:ue("Symbol."+e)),ae[e]},he=ce("species"),de=function(e,t){var n;return G(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!G(n.prototype)?b(n)&&null===(n=n[he])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)};U({target:"Array",proto:!0},{flatMap:function(e){var t,n=$(this),i=J(n.length);return j(e),(t=de(n,0)).length=Q(t,n,n,i,0,1,e,arguments.length>1?arguments[1]:void 0),t}});var fe,pe,ve=function(e){return R[e+"Prototype"]},ye=ve("Array").flatMap,ge=Array.prototype,me=[].push,be=function(e){var t=1==e,n=2==e,i=3==e,r=4==e,o=6==e,s=5==e||o;return function(a,l,u,c){for(var h,d,f=$(a),p=y(f),v=z(l,u,3),g=J(p.length),m=0,b=c||de,_=t?b(a,g):n?b(a,0):void 0;g>m;m++)if((s||m in p)&&(d=v(h=p[m],m,f),e))if(t)_[m]=d;else if(d)switch(e){case 3:return!0;case 5:return h;case 6:return m;case 2:me.call(_,h)}else if(r)return!1;return o?-1:i||r?r:_}},_e={forEach:be(0),map:be(1),filter:be(2),some:be(3),every:be(4),find:be(5),findIndex:be(6)},we=function(e){return"function"==typeof e?e:void 0},ke=function(e,t){return arguments.length<2?we(R[e])||we(s[e]):R[e]&&R[e][t]||s[e]&&s[e][t]},Ce=ke("navigator","userAgent")||"",xe=s.process,Se=xe&&xe.versions,Oe=Se&&Se.v8;Oe?pe=(fe=Oe.split("."))[0]+fe[1]:Ce&&(!(fe=Ce.match(/Edge\/(\d+)/))||fe[1]>=74)&&(fe=Ce.match(/Chrome\/(\d+)/))&&(pe=fe[1]);var Ee=pe&&+pe,Te=ce("species"),De=function(e){return Ee>=51||!a((function(){var t=[];return(t.constructor={})[Te]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},Me=Object.defineProperty,Pe={},Ae=function(e){throw e},Ie=function(e,t){if(k(Pe,e))return Pe[e];t||(t={});var n=[][e],i=!!k(t,"ACCESSORS")&&t.ACCESSORS,r=k(t,0)?t[0]:Ae,o=k(t,1)?t[1]:void 0;return Pe[e]=!!n&&!a((function(){if(i&&!l)return!0;var e={length:-1};i?Me(e,1,{enumerable:!0,get:Ae}):e[1]=1,n.call(e,r,o)}))},Ne=_e.map,Fe=De("map"),Re=Ie("map");U({target:"Array",proto:!0,forced:!Fe||!Re},{map:function(e){return Ne(this,e,arguments.length>1?arguments[1]:void 0)}});var je=ve("Array").map,ze=Array.prototype,Be=function(e){var t=e.map;return e===ze||e instanceof Array&&t===ze.map?je:t},Le=_e.filter,He=De("filter"),Ve=Ie("filter");U({target:"Array",proto:!0,forced:!He||!Ve},{filter:function(e){return Le(this,e,arguments.length>1?arguments[1]:void 0)}});var We=ve("Array").filter,Ye=Array.prototype,Ue=function(e){var t=e.filter;return e===Ye||e instanceof Array&&t===Ye.filter?We:t},Ge=function(e){return function(t,n,i,r){j(n);var o=$(t),s=y(o),a=J(o.length),l=e?a-1:0,u=e?-1:1;if(i<2)for(;;){if(l in s){r=s[l],l+=u;break}if(l+=u,e?l<0:a<=l)throw TypeError("Reduce of empty array with no initial value")}for(;e?l>=0:a>l;l+=u)l in s&&(r=n(r,s[l],l,o));return r}},qe=function(e,t){var n=[][e];return!!n&&a((function(){n.call(null,t||function(){throw 1},1)}))},Ze=[Ge(!1),Ge(!0)][0],Xe=qe("reduce"),Ke=Ie("reduce",{1:0});U({target:"Array",proto:!0,forced:!Xe||!Ke},{reduce:function(e){return Ze(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}});var Je=ve("Array").reduce,Qe=Array.prototype,$e=function(e){var t=e.reduce;return e===Qe||e instanceof Array&&t===Qe.reduce?Je:t},et=[].slice,tt={},nt=function(e,t,n){if(!(t in tt)){for(var i=[],r=0;r<t;r++)i[r]="a["+r+"]";tt[t]=Function("C,a","return new C("+i.join(",")+")")}return tt[t](e,n)},it=Function.bind||function(e){var t=j(this),n=et.call(arguments,1),i=function i(){var r=n.concat(et.call(arguments));return this instanceof i?nt(t,r.length,r):t.apply(e,r)};return b(t.prototype)&&(i.prototype=t.prototype),i};U({target:"Function",proto:!0},{bind:it});var rt=ve("Function").bind,ot=Function.prototype,st=function(e){var t=e.bind;return e===ot||e instanceof Function&&t===ot.bind?rt:t},at=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};U({target:"Object",stat:!0,forced:!l,sham:!l},{defineProperty:H.f});var lt=n((function(e){var t=R.Object,n=e.exports=function(e,n,i){return t.defineProperty(e,n,i)};t.defineProperty.sham&&(n.sham=!0)})),ut=lt;function ct(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),ut(e,i.key,i)}}var ht=function(e,t,n){return t&&ct(e.prototype,t),n&&ct(e,n),e},dt=function(){function e(t,n,i){var r,o,s;at(this,e),this._source=t,this._transformers=n,this._target=i,this._listeners={add:st(r=this._add).call(r,this),remove:st(o=this._remove).call(o,this),update:st(s=this._update).call(s,this)}}return ht(e,[{key:"all",value:function(){return this._target.update(this._transformItems(this._source.get())),this}},{key:"start",value:function(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}},{key:"stop",value:function(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}},{key:"_transformItems",value:function(e){var t;return $e(t=this._transformers).call(t,(function(e,t){return t(e)}),e)}},{key:"_add",value:function(e,t){null!=t&&this._target.add(this._transformItems(this._source.get(t.items)))}},{key:"_update",value:function(e,t){null!=t&&this._target.update(this._transformItems(this._source.get(t.items)))}},{key:"_remove",value:function(e,t){null!=t&&this._target.remove(this._transformItems(t.oldData))}}]),e}(),ft=function(){function e(t){at(this,e),this._source=t,this._transformers=[]}return ht(e,[{key:"filter",value:function(e){return this._transformers.push((function(t){return Ue(t).call(t,e)})),this}},{key:"map",value:function(e){return this._transformers.push((function(t){return Be(t).call(t,e)})),this}},{key:"flatMap",value:function(e){return this._transformers.push((function(t){return(n=t,i=n.flatMap,n===ge||n instanceof Array&&i===ge.flatMap?ye:i).call(t,e);var n,i})),this}},{key:"to",value:function(e){return new dt(this._source,this._transformers,e)}}]),e}(),pt=lt,vt=Math.max,yt=Math.min,gt=function(e,t){var n=X(e);return n<0?vt(n+t,0):yt(n,t)},mt=function(e){return function(t,n,i){var r,o=m(t),s=J(o.length),a=gt(i,s);if(e&&n!=n){for(;s>a;)if((r=o[a++])!=r)return!0}else for(;s>a;a++)if((e||a in o)&&o[a]===n)return e||a||0;return!e&&-1}},bt={includes:mt(!0),indexOf:mt(!1)},_t={},wt=bt.indexOf,kt=function(e,t){var n,i=m(e),r=0,o=[];for(n in i)!k(_t,n)&&k(i,n)&&o.push(n);for(;t.length>r;)k(i,n=t[r++])&&(~wt(o,n)||o.push(n));return o},Ct=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],xt=Object.keys||function(e){return kt(e,Ct)},St=l?Object.defineProperties:function(e,t){B(e);for(var n,i=xt(t),r=i.length,o=0;r>o;)H.f(e,n=i[o++],t[n]);return e};U({target:"Object",stat:!0,forced:!l,sham:!l},{defineProperties:St});var Ot=n((function(e){var t=R.Object,n=e.exports=function(e,n){return t.defineProperties(e,n)};t.defineProperties.sham&&(n.sham=!0)})),Et=Ct.concat("length","prototype"),Tt={f:Object.getOwnPropertyNames||function(e){return kt(e,Et)}},Dt={f:Object.getOwnPropertySymbols},Mt=ke("Reflect","ownKeys")||function(e){var t=Tt.f(B(e)),n=Dt.f;return n?t.concat(n(e)):t},Pt=function(e,t,n){var i=_(t);i in e?H.f(e,i,d(0,n)):e[i]=n};U({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(e){for(var t,n,i=m(e),r=T.f,o=Mt(i),s={},a=0;o.length>a;)void 0!==(n=r(i,t=o[a++]))&&Pt(s,t,n);return s}});var At=R.Object.getOwnPropertyDescriptors,It={},Nt=Function.toString;"function"!=typeof ee.inspectSource&&(ee.inspectSource=function(e){return Nt.call(e)});var Ft,Rt,jt,zt=s.WeakMap,Bt="function"==typeof zt&&/native code/.test((0,ee.inspectSource)(zt)),Lt=te("keys"),Ht=function(e){return Lt[e]||(Lt[e]=re(e))};if(Bt){var Vt=new(0,s.WeakMap),Wt=Vt.get,Yt=Vt.has,Ut=Vt.set;Ft=function(e,t){return Ut.call(Vt,e,t),t},Rt=function(e){return Wt.call(Vt,e)||{}},jt=function(e){return Yt.call(Vt,e)}}else{var Gt=Ht("state");_t[Gt]=!0,Ft=function(e,t){return V(e,Gt,t),t},Rt=function(e){return k(e,Gt)?e[Gt]:{}},jt=function(e){return k(e,Gt)}}var qt,Zt,Xt,Kt={set:Ft,get:Rt,has:jt,enforce:function(e){return jt(e)?Rt(e):Ft(e,{})},getterFor:function(e){return function(t){var n;if(!b(t)||(n=Rt(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},Jt=!a((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Qt=Ht("IE_PROTO"),$t=Object.prototype,en=Jt?Object.getPrototypeOf:function(e){return e=$(e),k(e,Qt)?e[Qt]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?$t:null},tn=(ce("iterator"),!1);[].keys&&("next"in(Xt=[].keys())?(Zt=en(en(Xt)))!==Object.prototype&&(qt=Zt):tn=!0),null==qt&&(qt={});var nn,rn={IteratorPrototype:qt,BUGGY_SAFARI_ITERATORS:tn},on=ke("document","documentElement"),sn=Ht("IE_PROTO"),an=function(){},ln=function(e){return"<script>"+e+"<\/script>"},un=function(){try{nn=document.domain&&new ActiveXObject("htmlfile")}catch(i){}var e,t;un=nn?function(e){e.write(ln("")),e.close();var t=e.parentWindow.Object;return e=null,t}(nn):((t=S("iframe")).style.display="none",on.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(ln("document.F=Object")),e.close(),e.F);for(var n=Ct.length;n--;)delete un.prototype[Ct[n]];return un()};_t[sn]=!0;var cn=Object.create||function(e,t){var n;return null!==e?(an.prototype=B(e),n=new an,an.prototype=null,n[sn]=e):n=un(),void 0===t?n:St(n,t)},hn={};hn[ce("toStringTag")]="z";var dn="[object z]"===String(hn),fn=ce("toStringTag"),pn="Arguments"==p(function(){return arguments}()),vn=dn?p:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),fn))?n:pn?p(t):"Object"==(i=p(t))&&"function"==typeof t.callee?"Arguments":i},yn=dn?{}.toString:function(){return"[object "+vn(this)+"]"},gn=H.f,mn=ce("toStringTag"),bn=function(e,t,n,i){if(e){var r=n?e:e.prototype;k(r,mn)||gn(r,mn,{configurable:!0,value:t}),i&&!dn&&V(r,"toString",yn)}},_n=rn.IteratorPrototype,wn=function(){return this},kn=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(i){}return function(n,i){return B(n),function(e){if(!b(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(i),t?e.call(n,i):n.__proto__=i,n}}():void 0),Cn=function(e,t,n,i){i&&i.enumerable?e[t]=n:V(e,t,n)},xn=rn.IteratorPrototype,Sn=rn.BUGGY_SAFARI_ITERATORS,On=ce("iterator"),En=function(){return this},Tn=function(e,t,n,i,r,o,s){!function(e,t,n){var i=t+" Iterator";e.prototype=cn(_n,{next:d(1,n)}),bn(e,i,!1,!0),It[i]=wn}(n,t,i);var a,l,u,c=function(e){if(e===r&&y)return y;if(!Sn&&e in p)return p[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},h=t+" Iterator",f=!1,p=e.prototype,v=p[On]||p["@@iterator"]||r&&p[r],y=!Sn&&v||c(r),g="Array"==t&&p.entries||v;if(g&&(a=en(g.call(new e)),xn!==Object.prototype&&a.next&&(bn(a,h,!0,!0),It[h]=En)),"values"==r&&v&&"values"!==v.name&&(f=!0,y=function(){return v.call(this)}),s&&p[On]!==y&&V(p,On,y),It[t]=y,r)if(l={values:c("values"),keys:o?y:c("keys"),entries:c("entries")},s)for(u in l)(Sn||f||!(u in p))&&Cn(p,u,l[u]);else U({target:t,proto:!0,forced:Sn||f},l);return l},Dn=Kt.set,Mn=Kt.getterFor("Array Iterator");Tn(Array,"Array",(function(e,t){Dn(this,{type:"Array Iterator",target:m(e),index:0,kind:t})}),(function(){var e=Mn(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}}),"values"),It.Arguments=It.Array;var Pn=ce("toStringTag");for(var An in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var In=s[An],Nn=In&&In.prototype;Nn&&vn(Nn)!==Pn&&V(Nn,Pn,An),It[An]=It.Array}var Fn=_e.forEach,Rn=qe("forEach"),jn=Ie("forEach"),zn=Rn&&jn?[].forEach:function(e){return Fn(this,e,arguments.length>1?arguments[1]:void 0)};U({target:"Array",proto:!0,forced:[].forEach!=zn},{forEach:zn});var Bn=ve("Array").forEach,Ln=Array.prototype,Hn={DOMTokenList:!0,NodeList:!0},Vn=function(e){var t=e.forEach;return e===Ln||e instanceof Array&&t===Ln.forEach||Hn.hasOwnProperty(vn(e))?Bn:t},Wn=T.f,Yn=a((function(){Wn(1)}));U({target:"Object",stat:!0,forced:!l||Yn,sham:!l},{getOwnPropertyDescriptor:function(e,t){return Wn(m(e),t)}});var Un=n((function(e){var t=R.Object,n=e.exports=function(e,n){return t.getOwnPropertyDescriptor(e,n)};t.getOwnPropertyDescriptor.sham&&(n.sham=!0)})),Gn=Tt.f,qn={}.toString,Zn="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Xn={f:function(e){return Zn&&"[object Window]"==qn.call(e)?function(e){try{return Gn(e)}catch(t){return Zn.slice()}}(e):Gn(m(e))}},Kn={f:ce},Jn=H.f,Qn=function(e){var t=R.Symbol||(R.Symbol={});k(t,e)||Jn(t,e,{value:Kn.f(e)})},$n=_e.forEach,ei=Ht("hidden"),ti=ce("toPrimitive"),ni=Kt.set,ii=Kt.getterFor("Symbol"),ri=Object.prototype,oi=s.Symbol,si=ke("JSON","stringify"),ai=T.f,li=H.f,ui=Xn.f,ci=h.f,hi=te("symbols"),di=te("op-symbols"),fi=te("string-to-symbol-registry"),pi=te("symbol-to-string-registry"),vi=te("wks"),yi=s.QObject,gi=!yi||!yi.prototype||!yi.prototype.findChild,mi=l&&a((function(){return 7!=cn(li({},"a",{get:function(){return li(this,"a",{value:7}).a}})).a}))?function(e,t,n){var i=ai(ri,t);i&&delete ri[t],li(e,t,n),i&&e!==ri&&li(ri,t,i)}:li,bi=function(e,t){var n=hi[e]=cn(oi.prototype);return ni(n,{type:"Symbol",tag:e,description:t}),l||(n.description=t),n},_i=se?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof oi},wi=function e(t,n,i){t===ri&&e(di,n,i),B(t);var r=_(n,!0);return B(i),k(hi,r)?(i.enumerable?(k(t,ei)&&t[ei][r]&&(t[ei][r]=!1),i=cn(i,{enumerable:d(0,!1)})):(k(t,ei)||li(t,ei,d(1,{})),t[ei][r]=!0),mi(t,r,i)):li(t,r,i)},ki=function(e,t){B(e);var n=m(t),i=xt(n).concat(Oi(n));return $n(i,(function(t){l&&!Ci.call(n,t)||wi(e,t,n[t])})),e},Ci=function(e){var t=_(e,!0),n=ci.call(this,t);return!(this===ri&&k(hi,t)&&!k(di,t))&&(!(n||!k(this,t)||!k(hi,t)||k(this,ei)&&this[ei][t])||n)},xi=function(e,t){var n=m(e),i=_(t,!0);if(n!==ri||!k(hi,i)||k(di,i)){var r=ai(n,i);return!r||!k(hi,i)||k(n,ei)&&n[ei][i]||(r.enumerable=!0),r}},Si=function(e){var t=ui(m(e)),n=[];return $n(t,(function(e){k(hi,e)||k(_t,e)||n.push(e)})),n},Oi=function(e){var t=e===ri,n=ui(t?di:m(e)),i=[];return $n(n,(function(e){!k(hi,e)||t&&!k(ri,e)||i.push(hi[e])})),i};if(oe||(Cn((oi=function(){if(this instanceof oi)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=re(e),n=function e(n){this===ri&&e.call(di,n),k(this,ei)&&k(this[ei],t)&&(this[ei][t]=!1),mi(this,t,d(1,n))};return l&&gi&&mi(ri,t,{configurable:!0,set:n}),bi(t,e)}).prototype,"toString",(function(){return ii(this).tag})),Cn(oi,"withoutSetter",(function(e){return bi(re(e),e)})),h.f=Ci,H.f=wi,T.f=xi,Tt.f=Xn.f=Si,Dt.f=Oi,Kn.f=function(e){return bi(ce(e),e)},l&&li(oi.prototype,"description",{configurable:!0,get:function(){return ii(this).description}})),U({global:!0,wrap:!0,forced:!oe,sham:!oe},{Symbol:oi}),$n(xt(vi),(function(e){Qn(e)})),U({target:"Symbol",stat:!0,forced:!oe},{for:function(e){var t=String(e);if(k(fi,t))return fi[t];var n=oi(t);return fi[t]=n,pi[n]=t,n},keyFor:function(e){if(!_i(e))throw TypeError(e+" is not a symbol");if(k(pi,e))return pi[e]},useSetter:function(){gi=!0},useSimple:function(){gi=!1}}),U({target:"Object",stat:!0,forced:!oe,sham:!l},{create:function(e,t){return void 0===t?cn(e):ki(cn(e),t)},defineProperty:wi,defineProperties:ki,getOwnPropertyDescriptor:xi}),U({target:"Object",stat:!0,forced:!oe},{getOwnPropertyNames:Si,getOwnPropertySymbols:Oi}),U({target:"Object",stat:!0,forced:a((function(){Dt.f(1)}))},{getOwnPropertySymbols:function(e){return Dt.f($(e))}}),si){var Ei=!oe||a((function(){var e=oi();return"[null]"!=si([e])||"{}"!=si({a:e})||"{}"!=si(Object(e))}));U({target:"JSON",stat:!0,forced:Ei},{stringify:function(e,t,n){for(var i,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(i=t,(b(t)||void 0!==e)&&!_i(e))return G(t)||(t=function(e,t){if("function"==typeof i&&(t=i.call(this,e,t)),!_i(t))return t}),r[1]=t,si.apply(null,r)}})}oi.prototype[ti]||V(oi.prototype,ti,oi.prototype.valueOf),bn(oi,"Symbol"),_t[ei]=!0;var Ti=R.Object.getOwnPropertySymbols,Di=function(e){return function(t,n){var i,r,o=String(g(t)),s=X(n),a=o.length;return s<0||s>=a?e?"":void 0:(i=o.charCodeAt(s))<55296||i>56319||s+1===a||(r=o.charCodeAt(s+1))<56320||r>57343?e?o.charAt(s):i:e?o.slice(s,s+2):r-56320+(i-55296<<10)+65536}},Mi=(Di(!1),Di(!0)),Pi=Kt.set,Ai=Kt.getterFor("String Iterator");Tn(String,"String",(function(e){Pi(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=Ai(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=Mi(n,i),t.index+=e.length,{value:e,done:!1})}));var Ii=ce("iterator"),Ni=function(e){if(null!=e)return e[Ii]||e["@@iterator"]||It[vn(e)]},Fi=function(e){var t=Ni(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return B(t.call(e))},Ri=Ni,ji=ce("isConcatSpreadable"),zi=Ee>=51||!a((function(){var e=[];return e[ji]=!1,e.concat()[0]!==e})),Bi=De("concat"),Li=function(e){if(!b(e))return!1;var t=e[ji];return void 0!==t?!!t:G(e)};U({target:"Array",proto:!0,forced:!zi||!Bi},{concat:function(e){var t,n,i,r,o,s=$(this),a=de(s,0),l=0;for(t=-1,i=arguments.length;t<i;t++)if(Li(o=-1===t?s:arguments[t])){if(l+(r=J(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<r;n++,l++)n in o&&Pt(a,l,o[n])}else{if(l>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Pt(a,l++,o)}return a.length=l,a}});var Hi=Object.freeze({__proto__:null});Qn("asyncIterator");var Vi=Object.freeze({__proto__:null});Qn("hasInstance"),Qn("isConcatSpreadable"),Qn("iterator"),Qn("match"),Qn("matchAll"),Qn("replace"),Qn("search"),Qn("species"),Qn("split"),Qn("toPrimitive"),Qn("toStringTag"),Qn("unscopables"),bn(Math,"Math",!0),bn(s.JSON,"JSON",!0),i(Hi),i(Vi);var Wi=R.Symbol,Yi=Wi,Ui=function(e,t,n,i){try{return i?t(B(n)[0],n[1]):t(n)}catch(o){var r=e.return;throw void 0!==r&&B(r.call(e)),o}},Gi=ce("iterator"),qi=Array.prototype,Zi=function(e){return void 0!==e&&(It.Array===e||qi[Gi]===e)},Xi=ce("iterator"),Ki=!1;try{var Ji=0,Qi={next:function(){return{done:!!Ji++}},return:function(){Ki=!0}};Qi[Xi]=function(){return this},Array.from(Qi,(function(){throw 2}))}catch(ra){}var $i=!function(e,t){if(!Ki)return!1;var n=!1;try{var i={};i[Xi]=function(){return{next:function(){return{done:n=!0}}}},Array.from(i)}catch(ra){}return n}();U({target:"Array",stat:!0,forced:$i},{from:function(e){var t,n,i,r,o,s,a=$(e),l="function"==typeof this?this:Array,u=arguments.length,c=u>1?arguments[1]:void 0,h=void 0!==c,d=Ni(a),f=0;if(h&&(c=z(c,u>2?arguments[2]:void 0,2)),null==d||l==Array&&Zi(d))for(n=new l(t=J(a.length));t>f;f++)s=h?c(a[f],f):a[f],Pt(n,f,s);else for(o=(r=d.call(a)).next,n=new l;!(i=o.call(r)).done;f++)s=h?Ui(r,c,[i.value,f],!0):i.value,Pt(n,f,s);return n.length=f,n}});var er=R.Array.from,tr=er,nr=De("slice"),ir=Ie("slice",{ACCESSORS:!0,0:0,1:2}),rr=ce("species"),or=[].slice,sr=Math.max;U({target:"Array",proto:!0,forced:!nr||!ir},{slice:function(e,t){var n,i,r,o=m(this),s=J(o.length),a=gt(e,s),l=gt(void 0===t?s:t,s);if(G(o)&&("function"!=typeof(n=o.constructor)||n!==Array&&!G(n.prototype)?b(n)&&null===(n=n[rr])&&(n=void 0):n=void 0,n===Array||void 0===n))return or.call(o,a,l);for(i=new(void 0===n?Array:n)(sr(l-a,0)),r=0;a<l;a++,r++)a in o&&Pt(i,r,o[a]);return i.length=r,i}});var ar=ve("Array").slice,lr=Array.prototype,ur=function(e){var t=e.slice;return e===lr||e instanceof Array&&t===lr.slice?ar:t},cr=ur,hr=ke("Reflect","construct"),dr=a((function(){function e(){}return!(hr((function(){}),[],e)instanceof e)})),fr=!a((function(){hr((function(){}))})),pr=dr||fr;U({target:"Reflect",stat:!0,forced:pr,sham:pr},{construct:function(e,t){j(e),B(t);var n=arguments.length<3?e:j(arguments[2]);if(fr&&!dr)return hr(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return i.push.apply(i,t),new(it.apply(e,i))}var r=n.prototype,o=cn(b(r)?r:Object.prototype),s=Function.apply.call(e,o,t);return b(s)?s:o}});var vr=R.Reflect.construct,yr=ve("Array").entries,gr=Array.prototype,mr={DOMTokenList:!0,NodeList:!0},br=n((function(e){var t=function(e){var t=Object.prototype,n=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function a(e,t,n,i){var r=Object.create((t&&t.prototype instanceof c?t:c).prototype),o=new k(i||[]);return r._invoke=function(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return{value:void 0,done:!0}}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=b(s,n);if(a){if(a===u)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var c=l(e,t,n);if("normal"===c.type){if(i=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i="completed",n.method="throw",n.arg=c.arg)}}}(e,n,o),r}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(i){return{type:"throw",arg:i}}}e.wrap=a;var u={};function c(){}function h(){}function d(){}var f={};f[r]=function(){return this};var p=Object.getPrototypeOf,v=p&&p(p(C([])));v&&v!==t&&n.call(v,r)&&(f=v);var y=d.prototype=c.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function m(e,t){var i;this._invoke=function(r,o){function s(){return new t((function(i,s){!function i(r,o,s,a){var u=l(e[r],e,o);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,s,a)}),(function(e){i("throw",e,s,a)})):t.resolve(h).then((function(e){c.value=e,s(c)}),(function(e){return i("throw",e,s,a)}))}a(u.arg)}(r,o,i,s)}))}return i=i?i.then(s,s):s()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var i=l(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,u;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function C(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=y.constructor=d,d.constructor=h,d[s]=h.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(m.prototype),m.prototype[o]=function(){return this},e.AsyncIterator=m,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var s=new m(a(t,n,i,r),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},g(y),y[s]="Generator",y[r]=function(){return this},y.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;w(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}(e.exports);try{regeneratorRuntime=t}catch(n){Function("r","regeneratorRuntime = r")(t)}})),_r=Kn.f("iterator"),wr=_r,kr=ke("JSON","stringify"),Cr=/[\uD800-\uDFFF]/g,xr=/^[\uD800-\uDBFF]$/,Sr=/^[\uDC00-\uDFFF]$/,Or=function(e,t,n){var i=n.charAt(t-1),r=n.charAt(t+1);return xr.test(e)&&!Sr.test(r)||Sr.test(e)&&!xr.test(i)?"\\u"+e.charCodeAt(0).toString(16):e},Er=a((function(){return'"\\udf06\\ud834"'!==kr("\udf06\ud834")||'"\\udead"'!==kr("\udead")}));kr&&U({target:"JSON",stat:!0,forced:Er},{stringify:function(e,t,n){var i=kr.apply(null,arguments);return"string"==typeof i?i.replace(Cr,Or):i}}),R.JSON||(R.JSON={stringify:JSON.stringify});var Tr=function(e,t,n){return t in e?ut(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Dr=ve("Array").values,Mr=Array.prototype,Pr={DOMTokenList:!0,NodeList:!0},Ar=function(e){var t=e.values;return e===Mr||e instanceof Array&&t===Mr.values||Pr.hasOwnProperty(vn(e))?Dr:t},Ir=[],Nr=Ir.sort,Fr=a((function(){Ir.sort(void 0)})),Rr=a((function(){Ir.sort(null)})),jr=qe("sort");U({target:"Array",proto:!0,forced:Fr||!Rr||!jr},{sort:function(e){return void 0===e?Nr.call($(this)):Nr.call($(this),j(e))}});var zr=ve("Array").sort,Br=Array.prototype,Lr=function(e){var t=e.sort;return e===Br||e instanceof Array&&t===Br.sort?zr:t},Hr=ve("Array").keys,Vr=Array.prototype,Wr={DOMTokenList:!0,NodeList:!0},Yr=function(e){var t=e.keys;return e===Vr||e instanceof Array&&t===Vr.keys||Wr.hasOwnProperty(vn(e))?Hr:t};U({target:"Array",stat:!0},{isArray:G});var Ur=R.Array.isArray,Gr=Ur,qr=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i},Zr=er,Xr=ce("iterator"),Kr=function(e){var t=Object(e);return void 0!==t[Xr]||"@@iterator"in t||It.hasOwnProperty(vn(t))};Qn("asyncDispose"),Qn("dispose"),Qn("observable"),Qn("patternMatch"),Qn("replaceAll");var Jr=Wi,Qr=ur,$r=function(e,t){var n;if(e){if("string"==typeof e)return qr(e,t);var i=Qr(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Zr(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?qr(e,t):void 0}},eo=function(e){return function(e){if(Gr(e))return qr(e)}(e)||function(e){if(void 0!==Jr&&Kr(Object(e)))return Zr(e)}(e)||$r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},to=ve("Array").concat,no=Array.prototype,io=function(e){var t=e.concat;return e===no||e instanceof Array&&t===no.concat?to:t},ro=Object.assign,oo=Object.defineProperty,so=!ro||a((function(){if(l&&1!==ro({b:1},ro(oo({},"a",{enumerable:!0,get:function(){oo(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=ro({},e)[n]||"abcdefghijklmnopqrst"!=xt(ro({},t)).join("")}))?function(e,t){for(var n=$(e),i=arguments.length,r=1,o=Dt.f,s=h.f;i>r;)for(var a,u=y(arguments[r++]),c=o?xt(u).concat(o(u)):xt(u),d=c.length,f=0;d>f;)a=c[f++],l&&!s.call(u,a)||(n[a]=u[a]);return n}:ro;U({target:"Object",stat:!0,forced:Object.assign!==so},{assign:so});var ao=R.Object.assign,lo=_e.some,uo=qe("some"),co=Ie("some");U({target:"Array",proto:!0,forced:!uo||!co},{some:function(e){return lo(this,e,arguments.length>1?arguments[1]:void 0)}});var ho=ve("Array").some,fo=Array.prototype,po=_r,vo=n((function(e){function t(n){return e.exports=t="function"==typeof Jr&&"symbol"==typeof po?function(e){return typeof e}:function(e){return e&&"function"==typeof Jr&&e.constructor===Jr&&e!==Jr.prototype?"symbol":typeof e},t(n)}e.exports=t})),yo=a((function(){xt(1)}));U({target:"Object",stat:!0,forced:yo},{keys:function(e){return xt($(e))}});var go=R.Object.keys,mo=!a((function(){return Object.isExtensible(Object.preventExtensions({}))})),bo=n((function(e){var t=H.f,n=re("meta"),i=0,r=Object.isExtensible||function(){return!0},o=function(e){t(e,n,{value:{objectID:"O"+ ++i,weakData:{}}})},s=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!b(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!k(e,n)){if(!r(e))return"F";if(!t)return"E";o(e)}return e[n].objectID},getWeakData:function(e,t){if(!k(e,n)){if(!r(e))return!0;if(!t)return!1;o(e)}return e[n].weakData},onFreeze:function(e){return mo&&s.REQUIRED&&r(e)&&!k(e,n)&&o(e),e}};_t[n]=!0})),_o=n((function(e){var t=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,n,i,r,o){var s,a,l,u,c,h,d,f=z(n,i,r?2:1);if(o)s=e;else{if("function"!=typeof(a=Ni(e)))throw TypeError("Target is not iterable");if(Zi(a)){for(l=0,u=J(e.length);u>l;l++)if((c=r?f(B(d=e[l])[0],d[1]):f(e[l]))&&c instanceof t)return c;return new t(!1)}s=a.call(e)}for(h=s.next;!(d=h.call(s)).done;)if("object"==typeof(c=Ui(s,f,d.value,r))&&c&&c instanceof t)return c;return new t(!1)}).stop=function(e){return new t(!0,e)}})),wo=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},ko=H.f,Co=_e.forEach,xo=Kt.set,So=Kt.getterFor,Oo=function(e,t,n){var i,r=-1!==e.indexOf("Map"),o=-1!==e.indexOf("Weak"),u=r?"set":"add",c=s[e],h=c&&c.prototype,d={};if(l&&"function"==typeof c&&(o||h.forEach&&!a((function(){(new c).entries().next()})))){i=t((function(t,n){xo(wo(t,i,e),{type:e,collection:new c}),null!=n&&_o(n,t[u],t,r)}));var f=So(e);Co(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(e){var t="add"==e||"set"==e;!(e in h)||o&&"clear"==e||V(i.prototype,e,(function(n,i){var r=f(this).collection;if(!t&&o&&!b(n))return"get"==e&&void 0;var s=r[e](0===n?0:n,i);return t?this:s}))})),o||ko(i.prototype,"size",{configurable:!0,get:function(){return f(this).collection.size}})}else i=n.getConstructor(t,e,r,u),bo.REQUIRED=!0;return bn(i,e,!1,!0),d[e]=i,U({global:!0,forced:!0},d),o||n.setStrong(i,e,r),i},Eo=function(e,t,n){for(var i in t)n&&n.unsafe&&e[i]?e[i]=t[i]:Cn(e,i,t[i],n);return e},To=ce("species"),Do=H.f,Mo=bo.fastKey,Po=Kt.set,Ao=Kt.getterFor,Io={getConstructor:function(e,t,n,i){var r=e((function(e,o){wo(e,r,t),Po(e,{type:t,index:cn(null),first:void 0,last:void 0,size:0}),l||(e.size=0),null!=o&&_o(o,e[i],e,n)})),o=Ao(t),s=function(e,t,n){var i,r,s=o(e),u=a(e,t);return u?u.value=n:(s.last=u={index:r=Mo(t,!0),key:t,value:n,previous:i=s.last,next:void 0,removed:!1},s.first||(s.first=u),i&&(i.next=u),l?s.size++:e.size++,"F"!==r&&(s.index[r]=u)),e},a=function(e,t){var n,i=o(e),r=Mo(t);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==t)return n};return Eo(r.prototype,{clear:function(){for(var e=o(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,l?e.size=0:this.size=0},delete:function(e){var t=o(this),n=a(this,e);if(n){var i=n.next,r=n.previous;delete t.index[n.index],n.removed=!0,r&&(r.next=i),i&&(i.previous=r),t.first==n&&(t.first=i),t.last==n&&(t.last=r),l?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=o(this),i=z(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(i(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!a(this,e)}}),Eo(r.prototype,n?{get:function(e){var t=a(this,e);return t&&t.value},set:function(e,t){return s(this,0===e?0:e,t)}}:{add:function(e){return s(this,e=0===e?0:e,e)}}),l&&Do(r.prototype,"size",{get:function(){return o(this).size}}),r},setStrong:function(e,t,n){var i=t+" Iterator",r=Ao(t),o=Ao(i);Tn(e,t,(function(e,t){Po(this,{type:i,target:e,state:r(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),function(e){var t=ke(e);l&&t&&!t[To]&&(0,H.f)(t,To,{configurable:!0,get:function(){return this}})}(t)}},No=(Oo("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),Io),R.Map),Fo=Ur;U({target:"Object",stat:!0,sham:!l},{create:cn});var Ro=R.Object,jo=function(e,t){return Ro.create(e,t)},zo=jo;U({target:"Object",stat:!0},{setPrototypeOf:kn});var Bo=R.Object.setPrototypeOf,Lo=n((function(e){function t(n,i){return e.exports=t=Bo||function(e,t){return e.__proto__=t,e},t(n,i)}e.exports=t})),Ho=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=zo(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lo(e,t)},Vo=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},Wo=function(e,t){return!t||"object"!==vo(t)&&"function"!=typeof t?Vo(e):t},Yo=a((function(){en(1)}));U({target:"Object",stat:!0,forced:Yo,sham:!Jt},{getPrototypeOf:function(e){return en($(e))}});var Uo=R.Object.getPrototypeOf,Go=n((function(e){function t(n){return e.exports=t=Bo?Uo:function(e){return e.__proto__||Uo(e)},t(n)}e.exports=t})),qo="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),Zo=new Uint8Array(16);function Xo(){if(!qo)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return qo(Zo)}for(var Ko=[],Jo=0;Jo<256;++Jo)Ko.push((Jo+256).toString(16).substr(1));function Qo(e,t,n){"string"==typeof e&&(t="binary"===e?new Uint8Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||Xo)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){for(var r=n||0,o=0;o<16;++o)t[r+o]=i[o];return t}return function(e,t){return(Ko[e[0]]+Ko[e[1]]+Ko[e[2]]+Ko[e[3]]+"-"+Ko[e[4]]+Ko[e[5]]+"-"+Ko[e[6]]+Ko[e[7]]+"-"+Ko[e[8]]+Ko[e[9]]+"-"+Ko[e[10]]+Ko[e[11]]+Ko[e[12]]+Ko[e[13]]+Ko[e[14]]+Ko[e[15]]).toLowerCase()}(i)}var $o=jo,es="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",ts="["+es+"]",ns=RegExp("^"+ts+ts+"*"),is=RegExp(ts+ts+"*$"),rs=function(e){return function(t){var n=String(g(t));return 1&e&&(n=n.replace(ns,"")),2&e&&(n=n.replace(is,"")),n}},os={start:rs(1),end:rs(2),trim:rs(3)},ss=os.trim;U({target:"String",proto:!0,forced:a((function(){return!!es.trim()||"\u200b\x85\u180e"!="\u200b\x85\u180e".trim()||"trim"!==es.trim.name}))},{trim:function(){return ss(this)}}),ve("String");var as=os.trim,ls=s.parseInt,us=/^[+-]?0[Xx]/,cs=8!==ls(es+"08")||22!==ls(es+"0x16")?function(e,t){var n=as(String(e));return ls(n,t>>>0||(us.test(n)?16:10))}:ls;U({global:!0,forced:parseInt!=cs},{parseInt:cs});var hs=h.f,ds=function(e){return function(t){for(var n,i=m(t),r=xt(i),o=r.length,s=0,a=[];o>s;)n=r[s++],l&&!hs.call(i,n)||a.push(e?[n,i[n]]:i[n]);return a}},fs=(ds(!0),ds(!1));U({target:"Object",stat:!0},{values:function(e){return fs(e)}});var ps=bt.indexOf,vs=[].indexOf,ys=!!vs&&1/[1].indexOf(1,-0)<0,gs=qe("indexOf"),ms=Ie("indexOf",{ACCESSORS:!0,1:0});U({target:"Array",proto:!0,forced:ys||!gs||!ms},{indexOf:function(e){return ys?vs.apply(this,arguments)||0:ps(this,e,arguments.length>1?arguments[1]:void 0)}}),ve("Array");var bs=function(e,t){return function(e){if(Gr(e))return e}(e)||function(e,t){if(void 0!==Jr&&Kr(Object(e))){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=Fi(e);!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}}(e,t)||$r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()};U({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}}),U({target:"Reflect",stat:!0},{ownKeys:Mt});var _s=R.Reflect.ownKeys;function ws(e,t){var n;if(void 0===Yi||null==Ri(e)){if(Fo(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return ks(e,void 0);var i=cr(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?tr(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?ks(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=Fi(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function ks(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Cs=Yi("DELETE");function xs(){var e=Ss.apply(void 0,arguments);return Es(e),console.log(e),e}function Ss(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length<2)return t[0];var i;if(t.length>2)return Ss.apply(void 0,io(i=[xs(t[0],t[1])]).call(i,eo(cr(t).call(t,2))));var r,o=t[0],s=t[1],a=ws(_s(s));try{for(a.s();!(r=a.n()).done;){var l=r.value;Object.prototype.propertyIsEnumerable.call(s,s[l])||(s[l]===Cs?delete o[l]:o[l]=null===o[l]||null===s[l]||"object"!==vo(o[l])||"object"!==vo(s[l])||Fo(o[l])||Fo(s[l])?Os(s[l]):Ss(o[l],s[l]))}}catch(u){a.e(u)}finally{a.f()}return o}function Os(e){return Fo(e)?Be(e).call(e,(function(e){return Os(e)})):"object"===vo(e)&&null!==e?Ss({},e):e}function Es(e){for(var t=0,n=go(e);t<n.length;t++){var i=n[t];e[i]===Cs?delete e[i]:"object"===vo(e[i])&&null!==e[i]&&Es(e[i])}}function Ts(e){return e instanceof Number||"number"==typeof e}function Ds(e){return e instanceof String||"string"==typeof e}function Ms(e){var t=vo(e);return"object"===t?null===e?"null":e instanceof Boolean?"Boolean":e instanceof Number?"Number":e instanceof String?"String":Fo(e)?"Array":e instanceof Date?"Date":"Object":"number"===t?"Number":"boolean"===t?"Boolean":"string"===t?"String":void 0===t?"undefined":t}var Ps=n((function(e,t){e.exports=function(){var t,n;function i(){return t.apply(null,arguments)}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(a(e,t))return!1;return!0}function u(e){return void 0===e}function c(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function h(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function d(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function f(e,t){for(var n in t)a(t,n)&&(e[n]=t[n]);return a(t,"toString")&&(e.toString=t.toString),a(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,i){return xt(e,t,n,i,!0).utc()}function v(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function y(e){if(null==e._isValid){var t=v(e),i=n.call(t.parsedDateParts,(function(e){return null!=e})),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function g(e){var t=p(NaN);return null!=e?f(v(t),e):v(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),i=n.length>>>0;for(t=0;t<i;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var m=i.momentProperties=[],b=!1;function _(e,t){var n,i,r;if(u(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),u(t._i)||(e._i=t._i),u(t._f)||(e._f=t._f),u(t._l)||(e._l=t._l),u(t._strict)||(e._strict=t._strict),u(t._tzm)||(e._tzm=t._tzm),u(t._isUTC)||(e._isUTC=t._isUTC),u(t._offset)||(e._offset=t._offset),u(t._pf)||(e._pf=v(t)),u(t._locale)||(e._locale=t._locale),m.length>0)for(n=0;n<m.length;n++)u(r=t[i=m[n]])||(e[i]=r);return e}function w(e){_(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,i.updateOffset(this),b=!1)}function k(e){return e instanceof w||null!=e&&null!=e._isAMomentObject}function C(e){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function x(e,t){var n=!0;return f((function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,e),n){var r,o,s,l=[];for(o=0;o<arguments.length;o++){if(r="","object"==typeof arguments[o]){for(s in r+="\n["+o+"] ",arguments[0])a(arguments[0],s)&&(r+=s+": "+arguments[0][s]+", ");r=r.slice(0,-2)}else r=arguments[o];l.push(r)}C(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var S,O={};function E(e,t){null!=i.deprecationHandler&&i.deprecationHandler(e,t),O[e]||(C(t),O[e]=!0)}function T(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function D(e,t){var n,i=f({},e);for(n in t)a(t,n)&&(s(e[n])&&s(t[n])?(i[n]={},f(i[n],e[n]),f(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)a(e,n)&&!a(t,n)&&s(e[n])&&(i[n]=f({},i[n]));return i}function M(e){null!=e&&this.set(e)}function P(e,t,n){var i=""+Math.abs(e);return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,t-i.length)).toString().substr(1)+i}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,S=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)a(e,t)&&n.push(t);return n};var A=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,I=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,N={},F={};function R(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(F[e]=r),t&&(F[t[0]]=function(){return P(r.apply(this,arguments),t[1],t[2])}),n&&(F[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function j(e,t){return e.isValid()?(t=z(t,e.localeData()),N[t]=N[t]||function(e){var t,n,i,r=e.match(A);for(t=0,n=r.length;t<n;t++)r[t]=F[r[t]]?F[r[t]]:(i=r[t]).match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(t){var i,o="";for(i=0;i<n;i++)o+=T(r[i])?r[i].call(t,e):r[i];return o}}(t),N[t](e)):e.localeData().invalidDate()}function z(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}for(I.lastIndex=0;n>=0&&I.test(e);)e=e.replace(I,i),I.lastIndex=0,n-=1;return e}var B={};function L(e,t){var n=e.toLowerCase();B[n]=B[n+"s"]=B[t]=e}function H(e){return"string"==typeof e?B[e]||B[e.toLowerCase()]:void 0}function V(e){var t,n,i={};for(n in e)a(e,n)&&(t=H(n))&&(i[t]=e[n]);return i}var W={};function Y(e,t){W[e]=t}function U(e){return e%4==0&&e%100!=0||e%400==0}function G(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function q(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=G(t)),n}function Z(e,t){return function(n){return null!=n?(K(this,e,n),i.updateOffset(this,t),this):X(this,e)}}function X(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function K(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&U(e.year())&&1===e.month()&&29===e.date()?(n=q(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),ke(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}var J,Q=/\d/,$=/\d\d/,ee=/\d{3}/,te=/\d{4}/,ne=/[+-]?\d{6}/,ie=/\d\d?/,re=/\d\d\d\d?/,oe=/\d\d\d\d\d\d?/,se=/\d{1,3}/,ae=/\d{1,4}/,le=/[+-]?\d{1,6}/,ue=/\d+/,ce=/[+-]?\d+/,he=/Z|[+-]\d\d:?\d\d/gi,de=/Z|[+-]\d\d(?::?\d\d)?/gi,fe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function pe(e,t,n){J[e]=T(t)?t:function(e,i){return e&&n?n:t}}function ve(e,t){return a(J,e)?J[e](t._strict,t._locale):new RegExp(ye(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,i,r){return t||n||i||r}))))}function ye(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}J={};var ge,me={};function be(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),c(t)&&(i=function(e,n){n[t]=q(e)}),n=0;n<e.length;n++)me[e[n]]=i}function _e(e,t){be(e,(function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)}))}function we(e,t,n){null!=t&&a(me,e)&&me[e](t,n._a,n,e)}function ke(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=(t%12+12)%12;return e+=(t-n)/12,1===n?U(e)?29:28:31-n%7%2}ge=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},R("M",["MM",2],"Mo",(function(){return this.month()+1})),R("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),R("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),L("month","M"),Y("month",8),pe("M",ie),pe("MM",ie,$),pe("MMM",(function(e,t){return t.monthsShortRegex(e)})),pe("MMMM",(function(e,t){return t.monthsRegex(e)})),be(["M","MM"],(function(e,t){t[1]=q(e)-1})),be(["MMM","MMMM"],(function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[1]=r:v(n).invalidMonth=e}));var Ce="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),xe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Se=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Oe=fe,Ee=fe;function Te(e,t,n){var i,r,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=p([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=ge.call(this._shortMonthsParse,s))?r:null:-1!==(r=ge.call(this._longMonthsParse,s))?r:null:"MMM"===t?-1!==(r=ge.call(this._shortMonthsParse,s))||-1!==(r=ge.call(this._longMonthsParse,s))?r:null:-1!==(r=ge.call(this._longMonthsParse,s))||-1!==(r=ge.call(this._shortMonthsParse,s))?r:null}function De(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=q(t);else if(!c(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),ke(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Me(e){return null!=e?(De(this,e),i.updateOffset(this,!0),this):X(this,"Month")}function Pe(){function e(e,t){return t.length-e.length}var t,n,i=[],r=[],o=[];for(t=0;t<12;t++)n=p([2e3,t]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(e),r.sort(e),o.sort(e),t=0;t<12;t++)i[t]=ye(i[t]),r[t]=ye(r[t]);for(t=0;t<24;t++)o[t]=ye(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Ae(e){return U(e)?366:365}R("Y",0,0,(function(){var e=this.year();return e<=9999?P(e,4):"+"+e})),R(0,["YY",2],0,(function(){return this.year()%100})),R(0,["YYYY",4],0,"year"),R(0,["YYYYY",5],0,"year"),R(0,["YYYYYY",6,!0],0,"year"),L("year","y"),Y("year",1),pe("Y",ce),pe("YY",ie,$),pe("YYYY",ae,te),pe("YYYYY",le,ne),pe("YYYYYY",le,ne),be(["YYYYY","YYYYYY"],0),be("YYYY",(function(e,t){t[0]=2===e.length?i.parseTwoDigitYear(e):q(e)})),be("YY",(function(e,t){t[0]=i.parseTwoDigitYear(e)})),be("Y",(function(e,t){t[0]=parseInt(e,10)})),i.parseTwoDigitYear=function(e){return q(e)+(q(e)>68?1900:2e3)};var Ie=Z("FullYear",!0);function Ne(e,t,n,i,r,o,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,i,r,o,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,i,r,o,s),a}function Fe(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Re(e,t,n){var i=7+t-n;return-(7+Fe(e,0,i).getUTCDay()-t)%7+i-1}function je(e,t,n,i,r){var o,s,a=1+7*(t-1)+(7+n-i)%7+Re(e,i,r);return a<=0?s=Ae(o=e-1)+a:a>Ae(e)?(o=e+1,s=a-Ae(e)):(o=e,s=a),{year:o,dayOfYear:s}}function ze(e,t,n){var i,r,o=Re(e.year(),t,n),s=Math.floor((e.dayOfYear()-o-1)/7)+1;return s<1?i=s+Be(r=e.year()-1,t,n):s>Be(e.year(),t,n)?(i=s-Be(e.year(),t,n),r=e.year()+1):(r=e.year(),i=s),{week:i,year:r}}function Be(e,t,n){var i=Re(e,t,n),r=Re(e+1,t,n);return(Ae(e)-i+r)/7}function Le(e,t){return e.slice(t,7).concat(e.slice(0,t))}R("w",["ww",2],"wo","week"),R("W",["WW",2],"Wo","isoWeek"),L("week","w"),L("isoWeek","W"),Y("week",5),Y("isoWeek",5),pe("w",ie),pe("ww",ie,$),pe("W",ie),pe("WW",ie,$),_e(["w","ww","W","WW"],(function(e,t,n,i){t[i.substr(0,1)]=q(e)})),R("d",0,"do","day"),R("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),R("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),R("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),R("e",0,0,"weekday"),R("E",0,0,"isoWeekday"),L("day","d"),L("weekday","e"),L("isoWeekday","E"),Y("day",11),Y("weekday",11),Y("isoWeekday",11),pe("d",ie),pe("e",ie),pe("E",ie),pe("dd",(function(e,t){return t.weekdaysMinRegex(e)})),pe("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),pe("dddd",(function(e,t){return t.weekdaysRegex(e)})),_e(["dd","ddd","dddd"],(function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null!=r?t.d=r:v(n).invalidWeekday=e})),_e(["d","e","E"],(function(e,t,n,i){t[i]=q(e)}));var He="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ve="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),We="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ye=fe,Ue=fe,Ge=fe;function qe(e,t,n){var i,r,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=p([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=ge.call(this._weekdaysParse,s))?r:null:"ddd"===t?-1!==(r=ge.call(this._shortWeekdaysParse,s))?r:null:-1!==(r=ge.call(this._minWeekdaysParse,s))?r:null:"dddd"===t?-1!==(r=ge.call(this._weekdaysParse,s))||-1!==(r=ge.call(this._shortWeekdaysParse,s))||-1!==(r=ge.call(this._minWeekdaysParse,s))?r:null:"ddd"===t?-1!==(r=ge.call(this._shortWeekdaysParse,s))||-1!==(r=ge.call(this._weekdaysParse,s))||-1!==(r=ge.call(this._minWeekdaysParse,s))?r:null:-1!==(r=ge.call(this._minWeekdaysParse,s))||-1!==(r=ge.call(this._weekdaysParse,s))||-1!==(r=ge.call(this._shortWeekdaysParse,s))?r:null}function Ze(){function e(e,t){return t.length-e.length}var t,n,i,r,o,s=[],a=[],l=[],u=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),i=ye(this.weekdaysMin(n,"")),r=ye(this.weekdaysShort(n,"")),o=ye(this.weekdays(n,"")),s.push(i),a.push(r),l.push(o),u.push(i),u.push(r),u.push(o);s.sort(e),a.sort(e),l.sort(e),u.sort(e),this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Xe(){return this.hours()%12||12}function Ke(e,t){R(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function Je(e,t){return t._meridiemParse}R("H",["HH",2],0,"hour"),R("h",["hh",2],0,Xe),R("k",["kk",2],0,(function(){return this.hours()||24})),R("hmm",0,0,(function(){return""+Xe.apply(this)+P(this.minutes(),2)})),R("hmmss",0,0,(function(){return""+Xe.apply(this)+P(this.minutes(),2)+P(this.seconds(),2)})),R("Hmm",0,0,(function(){return""+this.hours()+P(this.minutes(),2)})),R("Hmmss",0,0,(function(){return""+this.hours()+P(this.minutes(),2)+P(this.seconds(),2)})),Ke("a",!0),Ke("A",!1),L("hour","h"),Y("hour",13),pe("a",Je),pe("A",Je),pe("H",ie),pe("h",ie),pe("k",ie),pe("HH",ie,$),pe("hh",ie,$),pe("kk",ie,$),pe("hmm",re),pe("hmmss",oe),pe("Hmm",re),pe("Hmmss",oe),be(["H","HH"],3),be(["k","kk"],(function(e,t,n){var i=q(e);t[3]=24===i?0:i})),be(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),be(["h","hh"],(function(e,t,n){t[3]=q(e),v(n).bigHour=!0})),be("hmm",(function(e,t,n){var i=e.length-2;t[3]=q(e.substr(0,i)),t[4]=q(e.substr(i)),v(n).bigHour=!0})),be("hmmss",(function(e,t,n){var i=e.length-4,r=e.length-2;t[3]=q(e.substr(0,i)),t[4]=q(e.substr(i,2)),t[5]=q(e.substr(r)),v(n).bigHour=!0})),be("Hmm",(function(e,t,n){var i=e.length-2;t[3]=q(e.substr(0,i)),t[4]=q(e.substr(i))})),be("Hmmss",(function(e,t,n){var i=e.length-4,r=e.length-2;t[3]=q(e.substr(0,i)),t[4]=q(e.substr(i,2)),t[5]=q(e.substr(r))}));var Qe,$e=Z("Hours",!0),et={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ce,monthsShort:xe,week:{dow:0,doy:6},weekdays:He,weekdaysMin:We,weekdaysShort:Ve,meridiemParse:/[ap]\.?m?\.?/i},tt={},nt={};function it(e,t){var n,i=Math.min(e.length,t.length);for(n=0;n<i;n+=1)if(e[n]!==t[n])return n;return i}function rt(e){return e?e.toLowerCase().replace("_","-"):e}function ot(t){var n=null;if(void 0===tt[t]&&e&&e.exports)try{n=Qe._abbr,r(),st(n)}catch(i){tt[t]=null}return tt[t]}function st(e,t){var n;return e&&((n=u(t)?lt(e):at(e,t))?Qe=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Qe._abbr}function at(e,t){if(null!==t){var n,i=et;if(t.abbr=e,null!=tt[e])E("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=tt[e]._config;else if(null!=t.parentLocale)if(null!=tt[t.parentLocale])i=tt[t.parentLocale]._config;else{if(null==(n=ot(t.parentLocale)))return nt[t.parentLocale]||(nt[t.parentLocale]=[]),nt[t.parentLocale].push({name:e,config:t}),null;i=n._config}return tt[e]=new M(D(i,t)),nt[e]&&nt[e].forEach((function(e){at(e.name,e.config)})),st(e),tt[e]}return delete tt[e],null}function lt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Qe;if(!o(e)){if(t=ot(e))return t;e=[e]}return function(e){for(var t,n,i,r,o=0;o<e.length;){for(t=(r=rt(e[o]).split("-")).length,n=(n=rt(e[o+1]))?n.split("-"):null;t>0;){if(i=ot(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&it(r,n)>=t-1)break;t--}o++}return Qe}(e)}function ut(e){var t,n=e._a;return n&&-2===v(e).overflow&&(t=n[1]<0||n[1]>11?1:n[2]<1||n[2]>ke(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,v(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),v(e)._overflowWeeks&&-1===t&&(t=7),v(e)._overflowWeekday&&-1===t&&(t=8),v(e).overflow=t),e}var ct=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ht=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,dt=/Z|[+-]\d\d(?::?\d\d)?/,ft=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],pt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],vt=/^\/?Date\((-?\d+)/i,yt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,gt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function mt(e){var t,n,i,r,o,s,a=e._i,l=ct.exec(a)||ht.exec(a);if(l){for(v(e).iso=!0,t=0,n=ft.length;t<n;t++)if(ft[t][1].exec(l[1])){r=ft[t][0],i=!1!==ft[t][2];break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=pt.length;t<n;t++)if(pt[t][1].exec(l[3])){o=(l[2]||" ")+pt[t][0];break}if(null==o)return void(e._isValid=!1)}if(!i&&null!=o)return void(e._isValid=!1);if(l[4]){if(!dt.exec(l[4]))return void(e._isValid=!1);s="Z"}e._f=r+(o||"")+(s||""),kt(e)}else e._isValid=!1}function bt(e){var t,n,i,r,o,s,a,l,u,c=yt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(c){if(n=c[3],i=c[2],r=c[5],o=c[6],s=c[7],a=[(l=c[4],u=parseInt(l,10),u<=49?2e3+u:u<=999?1900+u:u),xe.indexOf(n),parseInt(i,10),parseInt(r,10),parseInt(o,10)],s&&a.push(parseInt(s,10)),!function(e,t,n){return!e||Ve.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(v(n).weekdayMismatch=!0,n._isValid=!1,!1)}(c[1],t=a,e))return;e._a=t,e._tzm=function(e,t,n){if(e)return gt[e];if(t)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}(c[8],c[9],c[10]),e._d=Fe.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),v(e).rfc2822=!0}else e._isValid=!1}function _t(e,t,n){return null!=e?e:null!=t?t:n}function wt(e){var t,n,r,o,s,a=[];if(!e._d){for(r=function(e){var t=new Date(i.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,i,r,o,s,a,l,u;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,s=4,n=_t(t.GG,e._a[0],ze(St(),1,4).year),i=_t(t.W,1),((r=_t(t.E,1))<1||r>7)&&(l=!0)):(o=e._locale._week.dow,s=e._locale._week.doy,u=ze(St(),o,s),n=_t(t.gg,e._a[0],u.year),i=_t(t.w,u.week),null!=t.d?((r=t.d)<0||r>6)&&(l=!0):null!=t.e?(r=t.e+o,(t.e<0||t.e>6)&&(l=!0)):r=o),i<1||i>Be(n,o,s)?v(e)._overflowWeeks=!0:null!=l?v(e)._overflowWeekday=!0:(a=je(n,i,r,o,s),e._a[0]=a.year,e._dayOfYear=a.dayOfYear)}(e),null!=e._dayOfYear&&(s=_t(e._a[0],r[0]),(e._dayOfYear>Ae(s)||0===e._dayOfYear)&&(v(e)._overflowDayOfYear=!0),n=Fe(s,0,e._dayOfYear),e._a[1]=n.getUTCMonth(),e._a[2]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Fe:Ne).apply(null,a),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(v(e).weekdayMismatch=!0)}}function kt(e){if(e._f!==i.ISO_8601)if(e._f!==i.RFC_2822){e._a=[],v(e).empty=!0;var t,n,r,o,s,a,l=""+e._i,u=l.length,c=0;for(r=z(e._f,e._locale).match(A)||[],t=0;t<r.length;t++)(n=(l.match(ve(o=r[t],e))||[])[0])&&((s=l.substr(0,l.indexOf(n))).length>0&&v(e).unusedInput.push(s),l=l.slice(l.indexOf(n)+n.length),c+=n.length),F[o]?(n?v(e).empty=!1:v(e).unusedTokens.push(o),we(o,n,e)):e._strict&&!n&&v(e).unusedTokens.push(o);v(e).charsLeftOver=u-c,l.length>0&&v(e).unusedInput.push(l),e._a[3]<=12&&!0===v(e).bigHour&&e._a[3]>0&&(v(e).bigHour=void 0),v(e).parsedDateParts=e._a.slice(0),v(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((i=e.isPM(n))&&t<12&&(t+=12),i||12!==t||(t=0),t):t}(e._locale,e._a[3],e._meridiem),null!==(a=v(e).era)&&(e._a[0]=e._locale.erasConvertYear(a,e._a[0])),wt(e),ut(e)}else bt(e);else mt(e)}function Ct(e){var t=e._i,n=e._f;return e._locale=e._locale||lt(e._l),null===t||void 0===n&&""===t?g({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),k(t)?new w(ut(t)):(h(t)?e._d=t:o(n)?function(e){var t,n,i,r,o,s,a=!1;if(0===e._f.length)return v(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)o=0,s=!1,t=_({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],kt(t),y(t)&&(s=!0),o+=v(t).charsLeftOver,o+=10*v(t).unusedTokens.length,v(t).score=o,a?o<i&&(i=o,n=t):(null==i||o<i||s)&&(i=o,n=t,s&&(a=!0));f(e,n||t)}(e):n?kt(e):function(e){var t=e._i;u(t)?e._d=new Date(i.now()):h(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=vt.exec(e._i);null===t?(mt(e),!1===e._isValid&&(delete e._isValid,bt(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:i.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):o(t)?(e._a=d(t.slice(0),(function(e){return parseInt(e,10)})),wt(e)):s(t)?function(e){if(!e._d){var t=V(e._i);e._a=d([t.year,t.month,void 0===t.day?t.date:t.day,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),wt(e)}}(e):c(t)?e._d=new Date(t):i.createFromInputFallback(e)}(e),y(e)||(e._d=null),e))}function xt(e,t,n,i,r){var a,u={};return!0!==t&&!1!==t||(i=t,t=void 0),!0!==n&&!1!==n||(i=n,n=void 0),(s(e)&&l(e)||o(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=r,u._l=n,u._i=e,u._f=t,u._strict=i,(a=new w(ut(Ct(u))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function St(e,t,n,i){return xt(e,t,n,i,!1)}i.createFromInputFallback=x("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),i.ISO_8601=function(){},i.RFC_2822=function(){};var Ot=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=St.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()})),Et=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=St.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()}));function Tt(e,t){var n,i;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return St();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}var Dt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Mt(e){var t=V(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||t.isoWeek||0,s=t.day||0,l=t.hour||0,u=t.minute||0,c=t.second||0,h=t.millisecond||0;this._isValid=function(e){var t,n,i=!1;for(t in e)if(a(e,t)&&(-1===ge.call(Dt,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<Dt.length;++n)if(e[Dt[n]]){if(i)return!1;parseFloat(e[Dt[n]])!==q(e[Dt[n]])&&(i=!0)}return!0}(t),this._milliseconds=+h+1e3*c+6e4*u+1e3*l*60*60,this._days=+s+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=lt(),this._bubble()}function Pt(e){return e instanceof Mt}function At(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function It(e,t){R(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+P(~~(e/60),2)+t+P(~~e%60,2)}))}It("Z",":"),It("ZZ",""),pe("Z",de),pe("ZZ",de),be(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=Ft(de,e)}));var Nt=/([\+\-]|\d\d)/gi;function Ft(e,t){var n,i,r=(t||"").match(e);return null===r?null:0===(i=60*(n=((r[r.length-1]||[])+"").match(Nt)||["-",0,0])[1]+q(n[2]))?0:"+"===n[0]?i:-i}function Rt(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(k(e)||h(e)?e.valueOf():St(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),i.updateOffset(n,!1),n):St(e).local()}function jt(e){return-Math.round(e._d.getTimezoneOffset())}function zt(){return!!this.isValid()&&this._isUTC&&0===this._offset}i.updateOffset=function(){};var Bt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Lt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ht(e,t){var n,i,r,o,s,l,u=e,h=null;return Pt(e)?u={ms:e._milliseconds,d:e._days,M:e._months}:c(e)||!isNaN(+e)?(u={},t?u[t]=+e:u.milliseconds=+e):(h=Bt.exec(e))?(n="-"===h[1]?-1:1,u={y:0,d:q(h[2])*n,h:q(h[3])*n,m:q(h[4])*n,s:q(h[5])*n,ms:q(At(1e3*h[6]))*n}):(h=Lt.exec(e))?u={y:Vt(h[2],n="-"===h[1]?-1:1),M:Vt(h[3],n),w:Vt(h[4],n),d:Vt(h[5],n),h:Vt(h[6],n),m:Vt(h[7],n),s:Vt(h[8],n)}:null==u?u={}:"object"==typeof u&&("from"in u||"to"in u)&&(o=St(u.from),s=St(u.to),r=o.isValid()&&s.isValid()?(s=Rt(s,o),o.isBefore(s)?l=Wt(o,s):((l=Wt(s,o)).milliseconds=-l.milliseconds,l.months=-l.months),l):{milliseconds:0,months:0},(u={}).ms=r.milliseconds,u.M=r.months),i=new Mt(u),Pt(e)&&a(e,"_locale")&&(i._locale=e._locale),Pt(e)&&a(e,"_isValid")&&(i._isValid=e._isValid),i}function Vt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Wt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Yt(e,t){return function(n,i){var r;return null===i||isNaN(+i)||(E(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),Ut(this,Ht(n,i),e),this}}function Ut(e,t,n,r){var o=t._milliseconds,s=At(t._days),a=At(t._months);e.isValid()&&(r=null==r||r,a&&De(e,X(e,"Month")+a*n),s&&K(e,"Date",X(e,"Date")+s*n),o&&e._d.setTime(e._d.valueOf()+o*n),r&&i.updateOffset(e,s||a))}Ht.fn=Mt.prototype,Ht.invalid=function(){return Ht(NaN)};var Gt=Yt(1,"add"),qt=Yt(-1,"subtract");function Zt(e){return"string"==typeof e||e instanceof String}function Xt(e){return k(e)||h(e)||Zt(e)||c(e)||function(e){var t=o(e),n=!1;return t&&(n=0===e.filter((function(t){return!c(t)&&Zt(e)})).length),t&&n}(e)||function(e){var t,n=s(e)&&!l(e),i=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<r.length;t+=1)i=i||a(e,r[t]);return n&&i}(e)||null==e}function Kt(e){var t,n=s(e)&&!l(e),i=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<r.length;t+=1)i=i||a(e,r[t]);return n&&i}function Jt(e,t){if(e.date()<t.date())return-Jt(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(n,"months");return-(n+(t-i<0?(t-i)/(i-e.clone().add(n-1,"months")):(t-i)/(e.clone().add(n+1,"months")-i)))||0}function Qt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=lt(e))&&(this._locale=t),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var $t=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function en(){return this._locale}function tn(e,t){return(e%t+t)%t}function nn(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-126227808e5:new Date(e,t,n).valueOf()}function rn(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-126227808e5:Date.UTC(e,t,n)}function on(e,t){return t.erasAbbrRegex(e)}function sn(){var e,t,n=[],i=[],r=[],o=[],s=this.eras();for(e=0,t=s.length;e<t;++e)i.push(ye(s[e].name)),n.push(ye(s[e].abbr)),r.push(ye(s[e].narrow)),o.push(ye(s[e].name)),o.push(ye(s[e].abbr)),o.push(ye(s[e].narrow));this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+i.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}function an(e,t){R(0,[e,e.length],0,t)}function ln(e,t,n,i,r){var o;return null==e?ze(this,i,r).year:(t>(o=Be(e,i,r))&&(t=o),un.call(this,e,t,n,i,r))}function un(e,t,n,i,r){var o=je(e,t,n,i,r),s=Fe(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}R("N",0,0,"eraAbbr"),R("NN",0,0,"eraAbbr"),R("NNN",0,0,"eraAbbr"),R("NNNN",0,0,"eraName"),R("NNNNN",0,0,"eraNarrow"),R("y",["y",1],"yo","eraYear"),R("y",["yy",2],0,"eraYear"),R("y",["yyy",3],0,"eraYear"),R("y",["yyyy",4],0,"eraYear"),pe("N",on),pe("NN",on),pe("NNN",on),pe("NNNN",(function(e,t){return t.erasNameRegex(e)})),pe("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),be(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,i){var r=n._locale.erasParse(e,i,n._strict);r?v(n).era=r:v(n).invalidEra=e})),pe("y",ue),pe("yy",ue),pe("yyy",ue),pe("yyyy",ue),pe("yo",(function(e,t){return t._eraYearOrdinalRegex||ue})),be(["y","yy","yyy","yyyy"],0),be(["yo"],(function(e,t,n,i){var r;n._locale._eraYearOrdinalRegex&&(r=e.match(n._locale._eraYearOrdinalRegex)),t[0]=n._locale.eraYearOrdinalParse?n._locale.eraYearOrdinalParse(e,r):parseInt(e,10)})),R(0,["gg",2],0,(function(){return this.weekYear()%100})),R(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),an("gggg","weekYear"),an("ggggg","weekYear"),an("GGGG","isoWeekYear"),an("GGGGG","isoWeekYear"),L("weekYear","gg"),L("isoWeekYear","GG"),Y("weekYear",1),Y("isoWeekYear",1),pe("G",ce),pe("g",ce),pe("GG",ie,$),pe("gg",ie,$),pe("GGGG",ae,te),pe("gggg",ae,te),pe("GGGGG",le,ne),pe("ggggg",le,ne),_e(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,i){t[i.substr(0,2)]=q(e)})),_e(["gg","GG"],(function(e,t,n,r){t[r]=i.parseTwoDigitYear(e)})),R("Q",0,"Qo","quarter"),L("quarter","Q"),Y("quarter",7),pe("Q",Q),be("Q",(function(e,t){t[1]=3*(q(e)-1)})),R("D",["DD",2],"Do","date"),L("date","D"),Y("date",9),pe("D",ie),pe("DD",ie,$),pe("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),be(["D","DD"],2),be("Do",(function(e,t){t[2]=q(e.match(ie)[0])}));var cn=Z("Date",!0);R("DDD",["DDDD",3],"DDDo","dayOfYear"),L("dayOfYear","DDD"),Y("dayOfYear",4),pe("DDD",se),pe("DDDD",ee),be(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=q(e)})),R("m",["mm",2],0,"minute"),L("minute","m"),Y("minute",14),pe("m",ie),pe("mm",ie,$),be(["m","mm"],4);var hn=Z("Minutes",!1);R("s",["ss",2],0,"second"),L("second","s"),Y("second",15),pe("s",ie),pe("ss",ie,$),be(["s","ss"],5);var dn,fn,pn=Z("Seconds",!1);for(R("S",0,0,(function(){return~~(this.millisecond()/100)})),R(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),R(0,["SSS",3],0,"millisecond"),R(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),R(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),R(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),R(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),R(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),R(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),L("millisecond","ms"),Y("millisecond",16),pe("S",se,Q),pe("SS",se,$),pe("SSS",se,ee),dn="SSSS";dn.length<=9;dn+="S")pe(dn,ue);function vn(e,t){t[6]=q(1e3*("0."+e))}for(dn="S";dn.length<=9;dn+="S")be(dn,vn);fn=Z("Milliseconds",!1),R("z",0,0,"zoneAbbr"),R("zz",0,0,"zoneName");var yn=w.prototype;function gn(e){return e}yn.add=Gt,yn.calendar=function(e,t){1===arguments.length&&(Xt(arguments[0])?(e=arguments[0],t=void 0):Kt(arguments[0])&&(t=arguments[0],e=void 0));var n=e||St(),r=Rt(n,this).startOf("day"),o=i.calendarFormat(this,r)||"sameElse",s=t&&(T(t[o])?t[o].call(this,n):t[o]);return this.format(s||this.localeData().calendar(o,this,St(n)))},yn.clone=function(){return new w(this)},yn.diff=function(e,t,n){var i,r,o;if(!this.isValid())return NaN;if(!(i=Rt(e,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),t=H(t)){case"year":o=Jt(this,i)/12;break;case"month":o=Jt(this,i);break;case"quarter":o=Jt(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-r)/864e5;break;case"week":o=(this-i-r)/6048e5;break;default:o=this-i}return n?o:G(o)},yn.endOf=function(e){var t,n;if(void 0===(e=H(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?rn:nn,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-tn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-tn(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-tn(t,1e3)-1}return this._d.setTime(t),i.updateOffset(this,!0),this},yn.format=function(e){e||(e=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var t=j(this,e);return this.localeData().postformat(t)},yn.from=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||St(e).isValid())?Ht({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},yn.fromNow=function(e){return this.from(St(),e)},yn.to=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||St(e).isValid())?Ht({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},yn.toNow=function(e){return this.to(St(),e)},yn.get=function(e){return T(this[e=H(e)])?this[e]():this},yn.invalidAt=function(){return v(this).overflow},yn.isAfter=function(e,t){var n=k(e)?e:St(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},yn.isBefore=function(e,t){var n=k(e)?e:St(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},yn.isBetween=function(e,t,n,i){var r=k(e)?e:St(e),o=k(t)?t:St(t);return!!(this.isValid()&&r.isValid()&&o.isValid())&&("("===(i=i||"()")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===i[1]?this.isBefore(o,n):!this.isAfter(o,n))},yn.isSame=function(e,t){var n,i=k(e)?e:St(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},yn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},yn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},yn.isValid=function(){return y(this)},yn.lang=$t,yn.locale=Qt,yn.localeData=en,yn.max=Et,yn.min=Ot,yn.parsingFlags=function(){return f({},v(this))},yn.set=function(e,t){if("object"==typeof e){var n,i=function(e){var t,n=[];for(t in e)a(e,t)&&n.push({unit:t,priority:W[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}(e=V(e));for(n=0;n<i.length;n++)this[i[n].unit](e[i[n].unit])}else if(T(this[e=H(e)]))return this[e](t);return this},yn.startOf=function(e){var t,n;if(void 0===(e=H(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?rn:nn,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=tn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=tn(t,6e4);break;case"second":t=this._d.valueOf(),t-=tn(t,1e3)}return this._d.setTime(t),i.updateOffset(this,!0),this},yn.subtract=qt,yn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},yn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},yn.toDate=function(){return new Date(this.valueOf())},yn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?j(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):T(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",j(n,"Z")):j(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},yn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n="moment",i="";return this.isLocal()||(n=0===this.utcOffset()?"moment.utc":"moment.parseZone",i="Z"),e="["+n+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+i+'[")]')},"undefined"!=typeof Symbol&&null!=Symbol.for&&(yn[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),yn.toJSON=function(){return this.isValid()?this.toISOString():null},yn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},yn.unix=function(){return Math.floor(this.valueOf()/1e3)},yn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},yn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},yn.eraName=function(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].name;if(i[e].until<=n&&n<=i[e].since)return i[e].name}return""},yn.eraNarrow=function(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].narrow;if(i[e].until<=n&&n<=i[e].since)return i[e].narrow}return""},yn.eraAbbr=function(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].abbr;if(i[e].until<=n&&n<=i[e].since)return i[e].abbr}return""},yn.eraYear=function(){var e,t,n,r,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,r=this.startOf("day").valueOf(),o[e].since<=r&&r<=o[e].until||o[e].until<=r&&r<=o[e].since)return(this.year()-i(o[e].since).year())*n+o[e].offset;return this.year()},yn.year=Ie,yn.isLeapYear=function(){return U(this.year())},yn.weekYear=function(e){return ln.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},yn.isoWeekYear=function(e){return ln.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},yn.quarter=yn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},yn.month=Me,yn.daysInMonth=function(){return ke(this.year(),this.month())},yn.week=yn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},yn.isoWeek=yn.isoWeeks=function(e){var t=ze(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},yn.weeksInYear=function(){var e=this.localeData()._week;return Be(this.year(),e.dow,e.doy)},yn.weeksInWeekYear=function(){var e=this.localeData()._week;return Be(this.weekYear(),e.dow,e.doy)},yn.isoWeeksInYear=function(){return Be(this.year(),1,4)},yn.isoWeeksInISOWeekYear=function(){return Be(this.isoWeekYear(),1,4)},yn.date=cn,yn.day=yn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},yn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},yn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},yn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},yn.hour=yn.hours=$e,yn.minute=yn.minutes=hn,yn.second=yn.seconds=pn,yn.millisecond=yn.milliseconds=fn,yn.utcOffset=function(e,t,n){var r,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Ft(de,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=jt(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==e&&(!t||this._changeInProgress?Ut(this,Ht(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:jt(this)},yn.utc=function(e){return this.utcOffset(0,e)},yn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(jt(this),"m")),this},yn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Ft(he,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},yn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?St(e).utcOffset():0,(this.utcOffset()-e)%60==0)},yn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},yn.isLocal=function(){return!!this.isValid()&&!this._isUTC},yn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},yn.isUtc=zt,yn.isUTC=zt,yn.zoneAbbr=function(){return this._isUTC?"UTC":""},yn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},yn.dates=x("dates accessor is deprecated. Use date instead.",cn),yn.months=x("months accessor is deprecated. Use month instead",Me),yn.years=x("years accessor is deprecated. Use year instead",Ie),yn.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),yn.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!u(this._isDSTShifted))return this._isDSTShifted;var e,t={};return _(t,this),(t=Ct(t))._a?(e=t._isUTC?p(t._a):St(t._a),this._isDSTShifted=this.isValid()&&function(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(i=0;i<r;i++)q(e[i])!==q(t[i])&&s++;return s+o}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var mn=M.prototype;function bn(e,t,n,i){var r=lt(),o=p().set(i,t);return r[n](o,e)}function _n(e,t,n){if(c(e)&&(t=e,e=void 0),e=e||"",null!=t)return bn(e,t,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=bn(e,i,n,"month");return r}function wn(e,t,n,i){"boolean"==typeof e?(c(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,c(t)&&(n=t,t=void 0),t=t||"");var r,o=lt(),s=e?o._week.dow:0,a=[];if(null!=n)return bn(t,(n+s)%7,i,"day");for(r=0;r<7;r++)a[r]=bn(t,(r+s)%7,i,"day");return a}mn.calendar=function(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return T(i)?i.call(t,n):i},mn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(A).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},mn.invalidDate=function(){return this._invalidDate},mn.ordinal=function(e){return this._ordinal.replace("%d",e)},mn.preparse=gn,mn.postformat=gn,mn.relativeTime=function(e,t,n,i){var r=this._relativeTime[n];return T(r)?r(e,t,n,i):r.replace(/%d/i,e)},mn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return T(n)?n(t):n.replace(/%s/i,t)},mn.set=function(e){var t,n;for(n in e)a(e,n)&&(T(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},mn.eras=function(e,t){var n,r,o,s=this._eras||lt("en")._eras;for(n=0,r=s.length;n<r;++n){switch(typeof s[n].since){case"string":o=i(s[n].since).startOf("day"),s[n].since=o.valueOf()}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":o=i(s[n].until).startOf("day").valueOf(),s[n].until=o.valueOf()}}return s},mn.erasParse=function(e,t,n){var i,r,o,s,a,l=this.eras();for(e=e.toUpperCase(),i=0,r=l.length;i<r;++i)if(o=l[i].name.toUpperCase(),s=l[i].abbr.toUpperCase(),a=l[i].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(s===e)return l[i];break;case"NNNN":if(o===e)return l[i];break;case"NNNNN":if(a===e)return l[i]}else if([o,s,a].indexOf(e)>=0)return l[i]},mn.erasConvertYear=function(e,t){var n=e.since<=e.until?1:-1;return void 0===t?i(e.since).year():i(e.since).year()+(t-e.offset)*n},mn.erasAbbrRegex=function(e){return a(this,"_erasAbbrRegex")||sn.call(this),e?this._erasAbbrRegex:this._erasRegex},mn.erasNameRegex=function(e){return a(this,"_erasNameRegex")||sn.call(this),e?this._erasNameRegex:this._erasRegex},mn.erasNarrowRegex=function(e){return a(this,"_erasNarrowRegex")||sn.call(this),e?this._erasNarrowRegex:this._erasRegex},mn.months=function(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Se).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone},mn.monthsShort=function(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Se.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},mn.monthsParse=function(e,t,n){var i,r,o;if(this._monthsParseExact)return Te.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=p([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},mn.monthsRegex=function(e){return this._monthsParseExact?(a(this,"_monthsRegex")||Pe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=Ee),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},mn.monthsShortRegex=function(e){return this._monthsParseExact?(a(this,"_monthsRegex")||Pe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=Oe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},mn.week=function(e){return ze(e,this._week.dow,this._week.doy).week},mn.firstDayOfYear=function(){return this._week.doy},mn.firstDayOfWeek=function(){return this._week.dow},mn.weekdays=function(e,t){var n=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Le(n,this._week.dow):e?n[e.day()]:n},mn.weekdaysMin=function(e){return!0===e?Le(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},mn.weekdaysShort=function(e){return!0===e?Le(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},mn.weekdaysParse=function(e,t,n){var i,r,o;if(this._weekdaysParseExact)return qe.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=p([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},mn.weekdaysRegex=function(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ze.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=Ye),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},mn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ze.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ue),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},mn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ze.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ge),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},mn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},mn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},st("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===q(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),i.lang=x("moment.lang is deprecated. Use moment.locale instead.",st),i.langData=x("moment.langData is deprecated. Use moment.localeData instead.",lt);var kn=Math.abs;function Cn(e,t,n,i){var r=Ht(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function xn(e){return e<0?Math.floor(e):Math.ceil(e)}function Sn(e){return 4800*e/146097}function On(e){return 146097*e/4800}function En(e){return function(){return this.as(e)}}var Tn=En("ms"),Dn=En("s"),Mn=En("m"),Pn=En("h"),An=En("d"),In=En("w"),Nn=En("M"),Fn=En("Q"),Rn=En("y");function jn(e){return function(){return this.isValid()?this._data[e]:NaN}}var zn=jn("milliseconds"),Bn=jn("seconds"),Ln=jn("minutes"),Hn=jn("hours"),Vn=jn("days"),Wn=jn("months"),Yn=jn("years"),Un=Math.round,Gn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function qn(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}var Zn=Math.abs;function Xn(e){return(e>0)-(e<0)||+e}function Kn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,i,r,o,s,a,l=Zn(this._milliseconds)/1e3,u=Zn(this._days),c=Zn(this._months),h=this.asSeconds();return h?(e=G(l/60),t=G(e/60),l%=60,e%=60,n=G(c/12),c%=12,i=l?l.toFixed(3).replace(/\.?0+$/,""):"",r=h<0?"-":"",o=Xn(this._months)!==Xn(h)?"-":"",s=Xn(this._days)!==Xn(h)?"-":"",a=Xn(this._milliseconds)!==Xn(h)?"-":"",r+"P"+(n?o+n+"Y":"")+(c?o+c+"M":"")+(u?s+u+"D":"")+(t||e||l?"T":"")+(t?a+t+"H":"")+(e?a+e+"M":"")+(l?a+i+"S":"")):"P0D"}var Jn=Mt.prototype;return Jn.isValid=function(){return this._isValid},Jn.abs=function(){var e=this._data;return this._milliseconds=kn(this._milliseconds),this._days=kn(this._days),this._months=kn(this._months),e.milliseconds=kn(e.milliseconds),e.seconds=kn(e.seconds),e.minutes=kn(e.minutes),e.hours=kn(e.hours),e.months=kn(e.months),e.years=kn(e.years),this},Jn.add=function(e,t){return Cn(this,e,t,1)},Jn.subtract=function(e,t){return Cn(this,e,t,-1)},Jn.as=function(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=H(e))||"quarter"===e||"year"===e)switch(n=this._months+Sn(t=this._days+i/864e5),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(On(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},Jn.asMilliseconds=Tn,Jn.asSeconds=Dn,Jn.asMinutes=Mn,Jn.asHours=Pn,Jn.asDays=An,Jn.asWeeks=In,Jn.asMonths=Nn,Jn.asQuarters=Fn,Jn.asYears=Rn,Jn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*q(this._months/12):NaN},Jn._bubble=function(){var e,t,n,i,r,o=this._milliseconds,s=this._days,a=this._months,l=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*xn(On(a)+s),s=0,a=0),l.milliseconds=o%1e3,e=G(o/1e3),l.seconds=e%60,t=G(e/60),l.minutes=t%60,n=G(t/60),l.hours=n%24,s+=G(n/24),a+=r=G(Sn(s)),s-=xn(On(r)),i=G(a/12),a%=12,l.days=s,l.months=a,l.years=i,this},Jn.clone=function(){return Ht(this)},Jn.get=function(e){return e=H(e),this.isValid()?this[e+"s"]():NaN},Jn.milliseconds=zn,Jn.seconds=Bn,Jn.minutes=Ln,Jn.hours=Hn,Jn.days=Vn,Jn.weeks=function(){return G(this.days()/7)},Jn.months=Wn,Jn.years=Yn,Jn.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,i,r=!1,o=Gn;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(r=e),"object"==typeof t&&(o=Object.assign({},Gn,t),null!=t.s&&null==t.ss&&(o.ss=t.s-1)),i=function(e,t,n,i){var r=Ht(e).abs(),o=Un(r.as("s")),s=Un(r.as("m")),a=Un(r.as("h")),l=Un(r.as("d")),u=Un(r.as("M")),c=Un(r.as("w")),h=Un(r.as("y")),d=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(d=d||c<=1&&["w"]||c<n.w&&["ww",c]),(d=d||u<=1&&["M"]||u<n.M&&["MM",u]||h<=1&&["y"]||["yy",h])[2]=t,d[3]=+e>0,d[4]=i,qn.apply(null,d)}(this,!r,o,n=this.localeData()),r&&(i=n.pastFuture(+this,i)),n.postformat(i)},Jn.toISOString=Kn,Jn.toString=Kn,Jn.toJSON=Kn,Jn.locale=Qt,Jn.localeData=en,Jn.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Kn),Jn.lang=$t,R("X",0,0,"unix"),R("x",0,0,"valueOf"),pe("x",ce),pe("X",/[+-]?\d+(\.\d{1,3})?/),be("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),be("x",(function(e,t,n){n._d=new Date(q(e))})),i.version="2.26.0",t=St,i.fn=yn,i.min=function(){var e=[].slice.call(arguments,0);return Tt("isBefore",e)},i.max=function(){var e=[].slice.call(arguments,0);return Tt("isAfter",e)},i.now=function(){return Date.now?Date.now():+new Date},i.utc=p,i.unix=function(e){return St(1e3*e)},i.months=function(e,t){return _n(e,t,"months")},i.isDate=h,i.locale=st,i.invalid=g,i.duration=Ht,i.isMoment=k,i.weekdays=function(e,t,n){return wn(e,t,n,"weekdays")},i.parseZone=function(){return St.apply(null,arguments).parseZone()},i.localeData=lt,i.isDuration=Pt,i.monthsShort=function(e,t){return _n(e,t,"monthsShort")},i.weekdaysMin=function(e,t,n){return wn(e,t,n,"weekdaysMin")},i.defineLocale=at,i.updateLocale=function(e,t){if(null!=t){var n,i,r=et;null!=tt[e]&&null!=tt[e].parentLocale?tt[e].set(D(tt[e]._config,t)):(null!=(i=ot(e))&&(r=i._config),t=D(r,t),null==i&&(t.abbr=e),(n=new M(t)).parentLocale=tt[e],tt[e]=n),st(e)}else null!=tt[e]&&(null!=tt[e].parentLocale?(tt[e]=tt[e].parentLocale,e===st()&&st(e)):null!=tt[e]&&delete tt[e]);return tt[e]},i.locales=function(){return S(tt)},i.weekdaysShort=function(e,t,n){return wn(e,t,n,"weekdaysShort")},i.normalizeUnits=H,i.relativeTimeRounding=function(e){return void 0===e?Un:"function"==typeof e&&(Un=e,!0)},i.relativeTimeThreshold=function(e,t){return void 0!==Gn[e]&&(void 0===t?Gn[e]:(Gn[e]=t,"s"===e&&(Gn.ss=t-1),!0))},i.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},i.prototype=yn,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i}()})),As=/^\/?Date\((-?\d+)/i;function Is(e){return Ps.isMoment(e)}function Ns(e,t){var n;if(void 0!==e){if(null===e)return null;if(!t)return e;if("string"!=typeof t&&!(t instanceof String))throw new Error("Type must be a string");switch(t){case"boolean":case"Boolean":return Boolean(e);case"number":case"Number":return Ds(e)&&!isNaN(Date.parse(e))?Ps(e).valueOf():Number(e.valueOf());case"string":case"String":return String(e);case"Date":if(Ts(e))return new Date(e);if(e instanceof Date)return new Date(e.valueOf());if(Is(e))return new Date(e.valueOf());if(Ds(e))return(n=As.exec(e))?new Date(Number(n[1])):Ps(new Date(e)).toDate();throw new Error("Cannot convert object of type "+Ms(e)+" to type Date");case"Moment":if(Ts(e))return Ps(e);if(e instanceof Date)return Ps(e.valueOf());if(Is(e))return Ps(e);if(Ds(e))return n=As.exec(e),Ps(n?Number(n[1]):e);throw new Error("Cannot convert object of type "+Ms(e)+" to type Date");case"ISODate":if(Ts(e))return new Date(e);if(e instanceof Date)return e.toISOString();if(Is(e))return e.toDate().toISOString();if(Ds(e))return(n=As.exec(e))?new Date(Number(n[1])).toISOString():Ps(e).format();throw new Error("Cannot convert object of type "+Ms(e)+" to type ISODate");case"ASPDate":if(Ts(e))return"/Date("+e+")/";if(e instanceof Date||Is(e))return"/Date("+e.valueOf()+")/";if(Ds(e))return"/Date("+((n=As.exec(e))?new Date(Number(n[1])).valueOf():new Date(e).valueOf())+")/";throw new Error("Cannot convert object of type "+Ms(e)+" to type ASPDate");default:throw new Error("Unknown type ".concat(t))}}}function Fs(e){return"string"==typeof e||"number"==typeof e}var Rs=De("splice"),js=Ie("splice",{ACCESSORS:!0,0:0,1:2}),zs=Math.max,Bs=Math.min;U({target:"Array",proto:!0,forced:!Rs||!js},{splice:function(e,t){var n,i,r,o,s,a,l=$(this),u=J(l.length),c=gt(e,u),h=arguments.length;if(0===h?n=i=0:1===h?(n=0,i=u-c):(n=h-2,i=Bs(zs(X(t),0),u-c)),u+n-i>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(r=de(l,i),o=0;o<i;o++)(s=c+o)in l&&Pt(r,o,l[s]);if(r.length=i,n<i){for(o=c;o<u-i;o++)a=o+n,(s=o+i)in l?l[a]=l[s]:delete l[a];for(o=u;o>u-i+n;o--)delete l[o-1]}else if(n>i)for(o=u-i;o>c;o--)a=o+n-1,(s=o+i-1)in l?l[a]=l[s]:delete l[a];for(o=0;o<n;o++)l[o+c]=arguments[o+2];return l.length=u-i+n,r}});var Ls=ve("Array").splice,Hs=Array.prototype,Vs=[].slice,Ws=/MSIE .\./.test(Ce),Ys=function(e){return function(t,n){var i=arguments.length>2,r=i?Vs.call(arguments,2):void 0;return e(i?function(){("function"==typeof t?t:Function(t)).apply(this,r)}:t,n)}};U({global:!0,bind:!0,forced:Ws},{setTimeout:Ys(s.setTimeout),setInterval:Ys(s.setInterval)});var Us=R.setTimeout,Gs=function(){function e(t){at(this,e),this._queue=[],this._timeout=null,this._extended=null,this.delay=null,this.max=1/0,this.setOptions(t)}return ht(e,[{key:"setOptions",value:function(e){e&&void 0!==e.delay&&(this.delay=e.delay),e&&void 0!==e.max&&(this.max=e.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var e=this._extended.object,t=this._extended.methods,n=0;n<t.length;n++){var i=t[n];i.original?e[i.name]=i.original:delete e[i.name]}this._extended=null}}},{key:"replace",value:function(e,t){var n=this,i=e[t];if(!i)throw new Error("Method "+t+" undefined");e[t]=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.queue({args:t,fn:i,context:this})}}},{key:"queue",value:function(e){this._queue.push("function"==typeof e?{fn:e}:e),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var e=this;this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&"number"==typeof this.delay&&(this._timeout=Us((function(){e.flush()}),this.delay))}},{key:"flush",value:function(){var e,t,n,i;Vn(e=(n=t=this._queue,i=n.splice,n===Hs||n instanceof Array&&i===Hs.splice?Ls:i).call(t,0)).call(e,(function(e){e.fn.apply(e.context||e.fn,e.args||[])}))}}],[{key:"extend",value:function(t,n){var i=new e(n);if(void 0!==t.flush)throw new Error("Target object already has a property flush");t.flush=function(){i.flush()};var r=[{name:"flush",original:void 0}];if(n&&n.replace)for(var o=0;o<n.replace.length;o++){var s=n.replace[o];r.push({name:s,original:t[s]}),i.replace(t,s)}return i._extended={object:t,methods:r},i}}]),e}(),qs=function(){function e(){at(this,e),this._subscribers={"*":[],add:[],remove:[],update:[]},this.subscribe=e.prototype.on,this.unsubscribe=e.prototype.off}return ht(e,[{key:"_trigger",value:function(e,t,n){var i,r;if("*"===e)throw new Error("Cannot trigger event *");Vn(i=io(r=[]).call(r,eo(this._subscribers[e]),eo(this._subscribers["*"]))).call(i,(function(i){i(e,t,null!=n?n:null)}))}},{key:"on",value:function(e,t){"function"==typeof t&&this._subscribers[e].push(t)}},{key:"off",value:function(e,t){var n;this._subscribers[e]=Ue(n=this._subscribers[e]).call(n,(function(e){return e!==t}))}}]),e}(),Zs=(Oo("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),Io),R.Set);function Xs(e,t){var n;if(void 0===Yi||null==Ri(e)){if(Fo(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return Ks(e,void 0);var i=cr(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?tr(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Ks(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=Fi(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Ks(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Js=function(){function e(t){at(this,e),this._pairs=t}return ht(e,[{key:wr,value:br.mark((function e(){var t,n,i,r,o;return br.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Xs(this._pairs),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return i=bs(n.value,2),r=i[0],o=i[1],e.next=7,[r,o];case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"entries",value:br.mark((function e(){var t,n,i,r,o;return br.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Xs(this._pairs),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return i=bs(n.value,2),r=i[0],o=i[1],e.next=7,[r,o];case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"keys",value:br.mark((function e(){var t,n,i,r;return br.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Xs(this._pairs),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return i=bs(n.value,1),r=i[0],e.next=7,r;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"values",value:br.mark((function e(){var t,n,i,r;return br.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Xs(this._pairs),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return i=bs(n.value,2),r=i[1],e.next=7,r;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"toIdArray",value:function(){var e;return Be(e=eo(this._pairs)).call(e,(function(e){return e[0]}))}},{key:"toItemArray",value:function(){var e;return Be(e=eo(this._pairs)).call(e,(function(e){return e[1]}))}},{key:"toEntryArray",value:function(){return eo(this._pairs)}},{key:"toObjectMap",value:function(){var e,t=$o(null),n=Xs(this._pairs);try{for(n.s();!(e=n.n()).done;){var i=bs(e.value,2);t[i[0]]=i[1]}}catch(r){n.e(r)}finally{n.f()}return t}},{key:"toMap",value:function(){return new No(this._pairs)}},{key:"toIdSet",value:function(){return new Zs(this.toIdArray())}},{key:"toItemSet",value:function(){return new Zs(this.toItemArray())}},{key:"cache",value:function(){return new e(eo(this._pairs))}},{key:"distinct",value:function(e){var t,n=new Zs,i=Xs(this._pairs);try{for(i.s();!(t=i.n()).done;){var r=bs(t.value,2);n.add(e(r[1],r[0]))}}catch(o){i.e(o)}finally{i.f()}return n}},{key:"filter",value:function(t){var n=this._pairs;return new e(Tr({},wr,br.mark((function e(){var i,r,o,s,a;return br.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Xs(n),e.prev=1,i.s();case 3:if((r=i.n()).done){e.next=10;break}if(o=bs(r.value,2),!t(a=o[1],s=o[0])){e.next=8;break}return e.next=8,[s,a];case 8:e.next=3;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),i.e(e.t0);case 15:return e.prev=15,i.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,12,15,18]])}))))}},{key:"forEach",value:function(e){var t,n=Xs(this._pairs);try{for(n.s();!(t=n.n()).done;){var i=bs(t.value,2);e(i[1],i[0])}}catch(r){n.e(r)}finally{n.f()}}},{key:"map",value:function(t){var n=this._pairs;return new e(Tr({},wr,br.mark((function e(){var i,r,o,s,a;return br.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Xs(n),e.prev=1,i.s();case 3:if((r=i.n()).done){e.next=9;break}return o=bs(r.value,2),s=o[0],a=o[1],e.next=7,[s,t(a,s)];case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),i.e(e.t0);case 14:return e.prev=14,i.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))))}},{key:"max",value:function(e){var t=Fi(this._pairs),n=t.next();if(n.done)return null;for(var i=n.value[1],r=e(n.value[1],n.value[0]);!(n=t.next()).done;){var o=bs(n.value,2),s=o[1],a=e(s,o[0]);a>r&&(r=a,i=s)}return i}},{key:"min",value:function(e){var t=Fi(this._pairs),n=t.next();if(n.done)return null;for(var i=n.value[1],r=e(n.value[1],n.value[0]);!(n=t.next()).done;){var o=bs(n.value,2),s=o[1],a=e(s,o[0]);a<r&&(r=a,i=s)}return i}},{key:"reduce",value:function(e,t){var n,i=Xs(this._pairs);try{for(i.s();!(n=i.n()).done;){var r=bs(n.value,2);t=e(t,r[1],r[0])}}catch(o){i.e(o)}finally{i.f()}return t}},{key:"sort",value:function(t){var n=this;return new e(Tr({},wr,(function(){var e;return Fi(Lr(e=eo(n._pairs)).call(e,(function(e,n){var i=bs(e,2),r=i[0],o=i[1],s=bs(n,2);return t(o,s[1],r,s[0])})))})))}}]),e}();function Qs(e,t){var n=go(e);if(Ti){var i=Ti(e);t&&(i=Ue(i).call(i,(function(t){return Un(e,t).enumerable}))),n.push.apply(n,i)}return n}function $s(e,t){var n;if(void 0===Yi||null==Ri(e)){if(Fo(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return ea(e,void 0);var i=cr(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?tr(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?ea(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=Fi(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function ea(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var ta=function(){console.warn("Type coercion has been deprecated. Please, use data pipes instead. See https://visjs.github.io/vis-data/data/datapipe.html#TypeCoercion for more details with working migration example.")},na=function(e){Ho(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!vr)return!1;if(vr.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(vr(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=Go(t);if(n){var r=Go(this).constructor;e=vr(i,arguments,r)}else e=i.apply(this,arguments);return Wo(this,e)});function r(e,t){var n;if(at(this,r),n=i.call(this),e&&!Fo(e)&&(t=e,e=[]),n._options=t||{},n._data=new No,n.length=0,n._idProp=n._options.fieldId||"id",n._type={},n._options.type){ta();for(var o=go(n._options.type),s=0,a=o.length;s<a;s++){var l=o[s],u=n._options.type[l];n._type[l]="Date"==u||"ISODate"==u||"ASPDate"==u?"Date":u}}return e&&e.length&&n.add(e),n.setOptions(t),n}return ht(r,[{key:"setOptions",value:function(e){e&&void 0!==e.queue&&(!1===e.queue?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=Gs.extend(this,{replace:["add","update","remove"]})),e.queue&&"object"===vo(e.queue)&&this._queue.setOptions(e.queue)))}},{key:"add",value:function(e,t){var n,i,r,o=this,s=[];if(Fo(e)){var a=Be(e).call(e,(function(e){return e[o._idProp]}));if((i=a,r=i.some,i===fo||i instanceof Array&&r===fo.some?ho:r).call(a,(function(e){return o._data.has(e)})))throw new Error("A duplicate id was found in the parameter array.");for(var l=0,u=e.length;l<u;l++)n=this._addItem(e[l]),s.push(n)}else{if(!e||"object"!==vo(e))throw new Error("Unknown dataType");n=this._addItem(e),s.push(n)}return s.length&&this._trigger("add",{items:s},t),s}},{key:"update",value:function(e,t){var n=this,i=[],r=[],o=[],s=[],a=this._idProp,l=function(e){var t=e[a];if(null!=t&&n._data.has(t)){var l=e,u=ao({},n._data.get(t)),c=n._updateItem(l);r.push(c),s.push(l),o.push(u)}else{var h=n._addItem(e);i.push(h)}};if(Fo(e))for(var u=0,c=e.length;u<c;u++)e[u]&&"object"===vo(e[u])?l(e[u]):console.warn("Ignoring input item, which is not an object at index "+u);else{if(!e||"object"!==vo(e))throw new Error("Unknown dataType");l(e)}return i.length&&this._trigger("add",{items:i},t),r.length&&this._trigger("update",{items:r,oldData:o,data:s},t),io(i).call(i,r)}},{key:"updateOnly",value:function(e,t){var n,i=this;Fo(e)||(e=[e]);var r=Be(n=Be(e).call(e,(function(e){var t=i._data.get(e[i._idProp]);if(null==t)throw new Error("Updating non-existent items is not allowed.");return{oldData:t,update:e}}))).call(n,(function(e){var t=e.oldData,n=t[i._idProp],r=function(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return xs.apply(void 0,io(t=[{},e]).call(t,i))}(t,e.update);return i._data.set(n,r),{id:n,oldData:t,updatedData:r}}));if(r.length){var o={items:Be(r).call(r,(function(e){return e.id})),oldData:Be(r).call(r,(function(e){return e.oldData})),data:Be(r).call(r,(function(e){return e.updatedData}))};return this._trigger("update",o,t),o.items}return[]}},{key:"get",value:function(e,t){var n=void 0,i=void 0,r=void 0;Fs(e)?(n=e,r=t):Fo(e)?(i=e,r=t):r=e;var o=r&&"Object"===r.returnType?"Object":"Array",s=r&&r.type||this._options.type,a=r&&Ue(r),l=[],u=null,c=null;if(null!=n)(u=this._getItem(n,s))&&a&&!a(u)&&(u=null);else if(null!=i)for(var h=0,d=i.length;h<d;h++)null==(u=this._getItem(i[h],s))||a&&!a(u)||l.push(u);else for(var f,p=0,v=(c=eo(Yr(f=this._data).call(f))).length;p<v;p++)null==(u=this._getItem(c[p],s))||a&&!a(u)||l.push(u);if(r&&r.order&&null==n&&this._sort(l,r.order),r&&r.fields){var y=r.fields;if(null!=n&&null!=u)u=this._filterFields(u,y);else for(var g=0,m=l.length;g<m;g++)l[g]=this._filterFields(l[g],y)}if("Object"==o){for(var b={},_=0,w=l.length;_<w;_++){var k=l[_];b[k[this._idProp]]=k}return b}return null!=n?u:l}},{key:"getIds",value:function(e){var t,n,i=this._data,r=e&&Ue(e),o=e&&e.order,s=e&&e.type||this._options.type,a=eo(Yr(i).call(i)),l=[];if(r)if(o){n=[];for(var u=0,c=a.length;u<c;u++)r(t=this._getItem(a[u],s))&&n.push(t);this._sort(n,o);for(var h=0,d=n.length;h<d;h++)l.push(n[h][this._idProp])}else for(var f=0,p=a.length;f<p;f++)r(t=this._getItem(a[f],s))&&l.push(t[this._idProp]);else if(o){n=[];for(var v=0,y=a.length;v<y;v++)n.push(i.get(a[v]));this._sort(n,o);for(var g=0,m=n.length;g<m;g++)l.push(n[g][this._idProp])}else for(var b=0,_=a.length;b<_;b++)t=i.get(a[b]),l.push(t[this._idProp]);return l}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(e,t){var n=t&&Ue(t),i=t&&t.type||this._options.type,r=this._data,o=eo(Yr(r).call(r));if(t&&t.order)for(var s=this.get(t),a=0,l=s.length;a<l;a++){var u=s[a];e(u,u[this._idProp])}else for(var c=0,h=o.length;c<h;c++){var d=o[c],f=this._getItem(d,i);n&&!n(f)||e(f,d)}}},{key:"map",value:function(e,t){for(var n=t&&Ue(t),i=t&&t.type||this._options.type,r=[],o=this._data,s=eo(Yr(o).call(o)),a=0,l=s.length;a<l;a++){var u=s[a],c=this._getItem(u,i);n&&!n(c)||r.push(e(c,u))}return t&&t.order&&this._sort(r,t.order),r}},{key:"_filterFields",value:function(e,t){var n;return e?$e(n=Fo(t)?t:go(t)).call(n,(function(t,n){return t[n]=e[n],t}),{}):e}},{key:"_sort",value:function(e,t){if("string"==typeof t){var n=t;Lr(e).call(e,(function(e,t){var i=e[n],r=t[n];return i>r?1:i<r?-1:0}))}else{if("function"!=typeof t)throw new TypeError("Order must be a function or a string");Lr(e).call(e,t)}}},{key:"remove",value:function(e,t){for(var n=[],i=[],r=Fo(e)?e:[e],o=0,s=r.length;o<s;o++){var a=this._remove(r[o]);if(a){var l=a[this._idProp];null!=l&&(n.push(l),i.push(a))}}return n.length&&this._trigger("remove",{items:n,oldData:i},t),n}},{key:"_remove",value:function(e){var t;if(Fs(e)?t=e:e&&"object"===vo(e)&&(t=e[this._idProp]),null!=t&&this._data.has(t)){var n=this._data.get(t)||null;return this._data.delete(t),--this.length,n}return null}},{key:"clear",value:function(e){for(var t,n=eo(Yr(t=this._data).call(t)),i=[],r=0,o=n.length;r<o;r++)i.push(this._data.get(n[r]));return this._data.clear(),this.length=0,this._trigger("remove",{items:n,oldData:i},e),n}},{key:"max",value:function(e){var t,n,i=null,r=null,o=$s(Ar(t=this._data).call(t));try{for(o.s();!(n=o.n()).done;){var s=n.value,a=s[e];"number"==typeof a&&(null==r||a>r)&&(i=s,r=a)}}catch(l){o.e(l)}finally{o.f()}return i||null}},{key:"min",value:function(e){var t,n,i=null,r=null,o=$s(Ar(t=this._data).call(t));try{for(o.s();!(n=o.n()).done;){var s=n.value,a=s[e];"number"==typeof a&&(null==r||a<r)&&(i=s,r=a)}}catch(l){o.e(l)}finally{o.f()}return i||null}},{key:"distinct",value:function(e){for(var t=this._data,n=eo(Yr(t).call(t)),i=[],r=this._options.type&&this._options.type[e]||null,o=0,s=0,a=n.length;s<a;s++){for(var l=t.get(n[s])[e],u=!1,c=0;c<o;c++)if(i[c]==l){u=!0;break}u||void 0===l||(i[o]=l,o++)}if(r)for(var h=0,d=i.length;h<d;h++)i[h]=Ns(i[h],r);return i}},{key:"_addItem",value:function(e){var t=e[this._idProp];if(null!=t){if(this._data.has(t))throw new Error("Cannot add item: item with id "+t+" already exists")}else t=Qo(),e[this._idProp]=t;for(var n={},i=go(e),r=0,o=i.length;r<o;r++){var s=i[r];n[s]=Ns(e[s],this._type[s])}return this._data.set(t,n),++this.length,t}},{key:"_getItem",value:function(e,t){var n,i=this._data.get(e);if(!i)return null;var r=go(i);if(t){ta(),n={};for(var o=0,s=r.length;o<s;o++){var a=r[o];n[a]=Ns(i[a],t[a])}}else n=function(e){for(var t=1;t<arguments.length;t++){var n,i=null!=arguments[t]?arguments[t]:{};if(t%2)Vn(n=Qs(Object(i),!0)).call(n,(function(t){Tr(e,t,i[t])}));else if(At)Ot(e,At(i));else{var r;Vn(r=Qs(Object(i))).call(r,(function(t){pt(e,t,Un(i,t))}))}}return e}({},i);return null==n[this._idProp]&&(n[this._idProp]=i.id),n}},{key:"_updateItem",value:function(e){var t=e[this._idProp];if(null==t)throw new Error("Cannot update item: item has no id (item: "+function(e,t,n){return R.JSON.stringify.apply(null,arguments)}(e)+")");var n=this._data.get(t);if(!n)throw new Error("Cannot update item: no item with id "+t+" found");for(var i=go(e),r=0,o=i.length;r<o;r++){var s=i[r];n[s]=Ns(e[s],this._type[s])}return t}},{key:"stream",value:function(e){if(e){var t=this._data;return new Js(Tr({},wr,br.mark((function n(){var i,r,o,s;return br.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=$s(e),n.prev=1,i.s();case 3:if((r=i.n()).done){n.next=11;break}if(null==(s=t.get(o=r.value))){n.next=9;break}return n.next=9,[o,s];case 9:n.next=3;break;case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),i.e(n.t0);case 16:return n.prev=16,i.f(),n.finish(16);case 19:case"end":return n.stop()}}),n,null,[[1,13,16,19]])}))))}var n,i,r;return new Js(Tr({},wr,st((i=this._data,r=i.entries,n=i===gr||i instanceof Array&&r===gr.entries||mr.hasOwnProperty(vn(i))?yr:r)).call(n,this._data)))}}]),r}(qs),ia=function(e){Ho(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!vr)return!1;if(vr.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(vr(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=Go(t);if(n){var r=Go(this).constructor;e=vr(i,arguments,r)}else e=i.apply(this,arguments);return Wo(this,e)});function r(e,t){var n,o;return at(this,r),(o=i.call(this)).length=0,o._ids=new Zs,o._options=t||{},o._listener=st(n=o._onEvent).call(n,Vo(o)),o.setData(e),o}return ht(r,[{key:"setData",value:function(e){if(this._data){this._data.off&&this._data.off("*",this._listener);var t=this._data.getIds({filter:Ue(this._options)}),n=this._data.get(t);this._ids.clear(),this.length=0,this._trigger("remove",{items:t,oldData:n})}if(null!=e){this._data=e;for(var i=this._data.getIds({filter:Ue(this._options)}),r=0,o=i.length;r<o;r++)this._ids.add(i[r]);this.length=i.length,this._trigger("add",{items:i})}else this._data=new na;this._data.on&&this._data.on("*",this._listener)}},{key:"refresh",value:function(){for(var e=this._data.getIds({filter:Ue(this._options)}),t=eo(this._ids),n={},i=[],r=[],o=[],s=0,a=e.length;s<a;s++){var l=e[s];n[l]=!0,this._ids.has(l)||(i.push(l),this._ids.add(l))}for(var u=0,c=t.length;u<c;u++){var h=t[u],d=this._data.get(h);null==d?console.error("If you see this, report it please."):n[h]||(r.push(h),o.push(d),this._ids.delete(h))}this.length+=i.length-r.length,i.length&&this._trigger("add",{items:i}),r.length&&this._trigger("remove",{items:r,oldData:o})}},{key:"get",value:function(e,t){if(null==this._data)return null;var n,i=null;Fs(e)||Fo(e)?(i=e,n=t):n=e;var r=ao({},this._options,n),o=Ue(this._options),s=n&&Ue(n);return o&&s&&(r.filter=function(e){return o(e)&&s(e)}),null==i?this._data.get(r):this._data.get(i,r)}},{key:"getIds",value:function(e){if(this._data.length){var t=Ue(this._options),n=null!=e?Ue(e):null;return this._data.getIds({filter:n?t?function(e){return t(e)&&n(e)}:n:t,order:e&&e.order})}return[]}},{key:"forEach",value:function(e,t){if(this._data){var n,i,r=Ue(this._options),o=t&&Ue(t);i=o?r?function(e){return r(e)&&o(e)}:o:r,Vn(n=this._data).call(n,e,{filter:i,order:t&&t.order})}}},{key:"map",value:function(e,t){if(this._data){var n,i,r=Ue(this._options),o=t&&Ue(t);return i=o?r?function(e){return r(e)&&o(e)}:o:r,Be(n=this._data).call(n,e,{filter:i,order:t&&t.order})}return[]}},{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"stream",value:function(e){var t;return this._data.stream(e||Tr({},wr,st(t=Yr(this._ids)).call(t,this._ids)))}},{key:"dispose",value:function(){var e;(null===(e=this._data)||void 0===e?void 0:e.off)&&this._data.off("*",this._listener);var t="This data view has already been disposed of.";pt(this,"_data",{get:function(){throw new Error(t)},set:function(){throw new Error(t)},configurable:!1})}},{key:"_onEvent",value:function(e,t,n){if(t&&t.items&&this._data){var i=t.items,r=[],o=[],s=[],a=[],l=[],u=[];switch(e){case"add":for(var c=0,h=i.length;c<h;c++){var d=i[c];this.get(d)&&(this._ids.add(d),r.push(d))}break;case"update":for(var f=0,p=i.length;f<p;f++){var v=i[f];this.get(v)?this._ids.has(v)?(o.push(v),l.push(t.data[f]),a.push(t.oldData[f])):(this._ids.add(v),r.push(v)):this._ids.has(v)&&(this._ids.delete(v),s.push(v),u.push(t.oldData[f]))}break;case"remove":for(var y=0,g=i.length;y<g;y++){var m=i[y];this._ids.has(m)&&(this._ids.delete(m),s.push(m),u.push(t.oldData[y]))}}this.length+=r.length-s.length,r.length&&this._trigger("add",{items:r},n),o.length&&this._trigger("update",{items:o,oldData:a,data:l},n),s.length&&this._trigger("remove",{items:s,oldData:u},n)}}}]),r}(qs);e.DELETE=Cs,e.DataSet=na,e.DataStream=Js,e.DataView=ia,e.Queue=Gs,e.createNewDataPipeFrom=function(e){return new ft(e)},Object.defineProperty(e,"__esModule",{value:!0})}(t)},zUnb:function(e,t,n){"use strict";function i(e){return"function"==typeof e}n.r(t);var r=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}};function s(e){setTimeout((function(){throw e}),0)}var a={closed:!0,next:function(e){},error:function(e){if(o.useDeprecatedSynchronousErrorHandling)throw e;s(e)},complete:function(){}},l=Array.isArray||function(e){return e&&"number"==typeof e.length};function u(e){return null!==e&&"object"==typeof e}var c,h=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map((function(e,t){return"".concat(t+1,") ").concat(e.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),d=((c=function(){function e(t){_classCallCheck(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return _createClass(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,r=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var s=0;s<n.length;++s)n[s].remove(this);if(i(r))try{r.call(this)}catch(p){t=p instanceof h?f(p.errors):[p]}if(l(o))for(var a=-1,c=o.length;++a<c;){var d=o[a];if(u(d))try{d.unsubscribe()}catch(p){t=t||[],p instanceof h?t=t.concat(f(p.errors)):t.push(p)}}if(t)throw new h(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var i=n;(n=new e)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var r=n._parentOrParents;if(null===r)n._parentOrParents=this;else if(r instanceof e){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}()).EMPTY=function(e){return e.closed=!0,e}(new c),c);function f(e){return e.reduce((function(e,t){return e.concat(t instanceof h?t.errors:t)}),[])}var p="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),v=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;switch(_classCallCheck(this,n),(o=t.call(this)).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=a;break;case 1:if(!e){o.destination=a;break}if("object"==typeof e){e instanceof n?(o.syncErrorThrowable=e.syncErrorThrowable,o.destination=e,e.add(_assertThisInitialized(o))):(o.syncErrorThrowable=!0,o.destination=new y(_assertThisInitialized(o),e));break}default:o.syncErrorThrowable=!0,o.destination=new y(_assertThisInitialized(o),e,i,r)}return o}return _createClass(n,[{key:p,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf2(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,i){var r=new n(e,t,i);return r.syncErrorThrowable=!1,r}}]),n}(d),y=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,o,s){var l,u;_classCallCheck(this,n),(l=t.call(this))._parentSubscriber=e;var c=_assertThisInitialized(l);return i(r)?u=r:r&&(u=r.next,o=r.error,s=r.complete,r!==a&&(i((c=Object.create(r)).unsubscribe)&&l.add(c.unsubscribe.bind(c)),c.unsubscribe=l.unsubscribe.bind(_assertThisInitialized(l)))),l._context=c,l._next=u,l._error=o,l._complete=s,l}return _createClass(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=o.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):s(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;s(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(i){return o.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(s(i),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(v),g="function"==typeof Symbol&&Symbol.observable||"@@observable";function m(e){return e}var b,_=((b=function(){function e(t){_classCallCheck(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return _createClass(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var i=this.operator,r=function(e,t,n){if(e){if(e instanceof v)return e;if(e[p])return e[p]()}return e||t||n?new v(e,t,n):new v(a)}(e,t,n);if(r.add(i?i.call(r,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),o.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){o.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,i=t.destination,r=t.isStopped;if(n||r)return!1;e=i&&i instanceof v?i:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=w(t))((function(t,i){var r;r=n.subscribe((function(t){try{e(t)}catch(n){i(n),r&&r.unsubscribe()}}),i,t)}))}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:g,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:(0===(i=t).length?m:1===i.length?i[0]:function(e){return i.reduce((function(e,t){return t(e)}),e)})(this);var i}},{key:"toPromise",value:function(e){var t=this;return new(e=w(e))((function(e,n){var i;t.subscribe((function(e){return i=e}),(function(e){return n(e)}),(function(){return e(i)}))}))}}]),e}()).create=function(e){return new b(e)},b);function w(e){if(e||(e=o.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var k,C=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),x=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this)).subject=e,r.subscriber=i,r.closed=!1,r}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(d),S=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).destination=e,i}return n}(v),O=((k=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _createClass(n,[{key:p,value:function(){return new S(this)}},{key:"lift",value:function(e){var t=new E(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new C;if(!this.isStopped)for(var t=this.observers,n=t.length,i=t.slice(),r=0;r<n;r++)i[r].next(e)}},{key:"error",value:function(e){if(this.closed)throw new C;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,i=t.slice(),r=0;r<n;r++)i[r].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new C;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),i=0;i<t;i++)n[i].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new C;return _get(_getPrototypeOf2(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new C;return this.hasError?(e.error(this.thrownError),d.EMPTY):this.isStopped?(e.complete(),d.EMPTY):(this.observers.push(e),new x(this,e))}},{key:"asObservable",value:function(){var e=new _;return e.source=this,e}}]),n}(_)).create=function(e,t){return new E(e,t)},k),E=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this)).destination=e,r.source=i,r}return _createClass(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):d.EMPTY}}]),n}(O);function T(e){return e&&"function"==typeof e.schedule}var D=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this)).parent=e,o.outerValue=i,o.outerIndex=r,o.index=0,o}return _createClass(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(v),M=function(e){return function(t){for(var n=0,i=e.length;n<i&&!t.closed;n++)t.next(e[n]);t.complete()}};var P="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",A=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function I(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var N=function(e){if(e&&"function"==typeof e[g])return i=e,function(e){var t=i[g]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(A(e))return M(e);if(I(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,s),e};if(e&&"function"==typeof e[P])return t=e,function(e){for(var n=t[P]();;){var i=n.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,i,r=u(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(r," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))};function F(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new D(e,n,i);if(!r.closed)return t instanceof _?t.subscribe(r):N(t)(r)}var R=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,i,r){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(v);function j(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new z(e,t))}}var z=function(){function e(t,n){_classCallCheck(this,e),this.project=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new B(e,this.project,this.thisArg))}}]),e}(),B=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e)).project=i,o.count=0,o.thisArg=r||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(v);function L(e,t){return new _((function(n){var i=new d,r=0;return i.add(t.schedule((function(){r!==e.length?(n.next(e[r++]),n.closed||i.add(this.schedule())):n.complete()}))),i}))}function H(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[g]}(e))return function(e,t){return new _((function(n){var i=new d;return i.add(t.schedule((function(){var r=e[g]();i.add(r.subscribe({next:function(e){i.add(t.schedule((function(){return n.next(e)})))},error:function(e){i.add(t.schedule((function(){return n.error(e)})))},complete:function(){i.add(t.schedule((function(){return n.complete()})))}}))}))),i}))}(e,t);if(I(e))return function(e,t){return new _((function(n){var i=new d;return i.add(t.schedule((function(){return e.then((function(e){i.add(t.schedule((function(){n.next(e),i.add(t.schedule((function(){return n.complete()})))})))}),(function(e){i.add(t.schedule((function(){return n.error(e)})))}))}))),i}))}(e,t);if(A(e))return L(e,t);if(function(e){return e&&"function"==typeof e[P]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new _((function(n){var i,r=new d;return r.add((function(){i&&"function"==typeof i.return&&i.return()})),r.add(t.schedule((function(){i=e[P](),r.add(t.schedule((function(){if(!n.closed){var e,t;try{var r=i.next();e=r.value,t=r.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}})))}))),r}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof _?e:new _(N(e))}function V(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(i){return i.pipe(V((function(n,i){return H(e(n,i)).pipe(j((function(e,r){return t(n,e,i,r)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new W(e,n))})}var W=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,e),this.project=t,this.concurrent=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Y(e,this.project,this.concurrent))}}]),e}(),Y=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(r=t.call(this,e)).project=i,r.concurrent=o,r.hasCompleted=!1,r.buffer=[],r.active=0,r.index=0,r}return _createClass(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var i=new D(this,t,n),r=this.destination;r.add(i);var o=F(this,e,void 0,void 0,i);o!==i&&r.add(o)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,n,i,r){this.destination.next(t)}},{key:"notifyComplete",value:function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(R);function U(e,t){return t?L(e,t):new _(M(e))}function G(){return function(e){return e.lift(new Z(e))}}var q,Z=function(){function e(t){_classCallCheck(this,e),this.connectable=t}return _createClass(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var i=new X(e,n),r=t.subscribe(i);return i.closed||(i.connection=n.connect()),r}}]),e}(),X=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).connectable=i,r}return _createClass(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,i=e._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}else this.connection=null}}]),n}(v),K={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(q=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this)).source=e,r.subjectFactory=i,r._refCount=0,r._isComplete=!1,r}return _createClass(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new d).add(this.source.subscribe(new J(this.getSubject(),this))),e.closed&&(this._connection=null,e=d.EMPTY)),e}},{key:"refCount",value:function(){return G()(this)}}]),n}(_).prototype)._subscribe},_isComplete:{value:q._isComplete,writable:!0},getSubject:{value:q.getSubject},connect:{value:q.connect},refCount:{value:q.refCount}},J=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).connectable=i,r}return _createClass(n,[{key:"_error",value:function(e){this._unsubscribe(),_get(_getPrototypeOf2(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf2(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(S);function Q(){return new O}function $(e){return{toString:e}.toString()}function ee(e,t,n){return $((function(){var i=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof r)return i.apply(this,t),this;var o=_construct(r,t);return s.annotation=o,s;function s(e,t,n){for(var i=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;i.length<=n;)i.push(null);return(i[n]=i[n]||[]).push(o),e}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r}))}var te=ee("Inject",(function(e){return{token:e}})),ne=ee("Optional"),ie=ee("Self"),re=ee("SkipSelf"),oe=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function se(e){for(var t in e)if(e[t]===se)return t;throw Error("Could not find renamed property on target object.")}function ae(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function le(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ue(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function ce(e){return he(e,e[fe])||he(e,e[ye])}function he(e,t){return t&&t.token===e?t:null}function de(e){return e&&(e.hasOwnProperty(pe)||e.hasOwnProperty(ge))?e[pe]:null}var fe=se({"\u0275prov":se}),pe=se({"\u0275inj":se}),ve=se({"\u0275provFallback":se}),ye=se({ngInjectableDef:se}),ge=se({ngInjectorDef:se});function me(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(me).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function be(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var _e=se({__forward_ref__:se});function we(e){return e.__forward_ref__=we,e.toString=function(){return me(this())},e}function ke(e){return Ce(e)?e():e}function Ce(e){return"function"==typeof e&&e.hasOwnProperty(_e)&&e.__forward_ref__===we}var xe,Se="undefined"!=typeof globalThis&&globalThis,Oe="undefined"!=typeof window&&window,Ee="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Te="undefined"!=typeof global&&global,De=Se||Te||Oe||Ee,Me=se({"\u0275cmp":se}),Pe=se({"\u0275dir":se}),Ae=se({"\u0275pipe":se}),Ie=se({"\u0275mod":se}),Ne=se({"\u0275loc":se}),Fe=se({"\u0275fac":se}),Re=se({__NG_ELEMENT_ID__:se}),je=function(){function e(t,n){_classCallCheck(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=le({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(e,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),e}(),ze=new je("INJECTOR",-1),Be={},Le=/\n/gm,He=se({provide:String,useValue:se}),Ve=void 0;function We(e){var t=Ve;return Ve=e,t}function Ye(e){var t=xe;return xe=e,t}function Ue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oe.Default;if(void 0===Ve)throw new Error("inject() must be called from an injection context");return null===Ve?qe(e,void 0,t):Ve.get(e,t&oe.Optional?null:void 0,t)}function Ge(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oe.Default;return(xe||Ue)(ke(e),t)}function qe(e,t,n){var i=ce(e);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&oe.Optional)return null;if(void 0!==t)return t;throw new Error("Injector: NOT_FOUND [".concat(me(e),"]"))}function Ze(e){for(var t=[],n=0;n<e.length;n++){var i=ke(e[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");for(var r=void 0,o=oe.Default,s=0;s<i.length;s++){var a=i[s];a instanceof ne||"Optional"===a.ngMetadataName||a===ne?o|=oe.Optional:a instanceof re||"SkipSelf"===a.ngMetadataName||a===re?o|=oe.SkipSelf:a instanceof ie||"Self"===a.ngMetadataName||a===ie?o|=oe.Self:r=a instanceof te||a===te?a.token:a}t.push(Ge(r,o))}else t.push(Ge(i))}return t}var Xe=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be;if(t===Be){var n=new Error("NullInjectorError: No provider for ".concat(me(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),Ke=function e(){_classCallCheck(this,e)};function Je(e,t){e.forEach((function(e){return Array.isArray(e)?Je(e,t):t(e)}))}function Qe(e,t){var n=$e(e,t);if(n>=0)return e[1|n]}function $e(e,t){return function(e,t,n){for(var i=0,r=e.length>>1;r!==i;){var o=i+(r-i>>1),s=e[o<<1];if(t===s)return o<<1;s>t?r=o:i=o+1}return~(r<<1)}(e,t)}var et=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),tt=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),nt={},it=[],rt=0;function ot(e){return $((function(){var t=e.type,n=t.prototype,i={},r={type:t,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:e.changeDetection===et.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||it,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||tt.Emulated,id:"c",styles:e.styles||it,_:null,setInput:null,schemas:e.schemas||null,tView:null},o=e.directives,s=e.features,a=e.pipes;return r.id+=rt++,r.inputs=ct(e.inputs,i),r.outputs=ct(e.outputs),s&&s.forEach((function(e){return e(r)})),r.directiveDefs=o?function(){return("function"==typeof o?o():o).map(st)}:null,r.pipeDefs=a?function(){return("function"==typeof a?a():a).map(at)}:null,r}))}function st(e){return dt(e)||function(e){return e[Pe]||null}(e)}function at(e){return function(e){return e[Ae]||null}(e)}var lt={};function ut(e){var t={type:e.type,bootstrap:e.bootstrap||it,declarations:e.declarations||it,imports:e.imports||it,exports:e.exports||it,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&$((function(){lt[e.id]=e.type})),t}function ct(e,t){if(null==e)return nt;var n={};for(var i in e)if(e.hasOwnProperty(i)){var r=e[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),n[r]=i,t&&(t[r]=o)}return n}var ht=ot;function dt(e){return e[Me]||null}function ft(e,t){return e.hasOwnProperty(Fe)?e[Fe]:null}function pt(e,t){var n=e[Ie]||null;if(!n&&!0===t)throw new Error("Type ".concat(me(e)," does not have '\u0275mod' property."));return n}function vt(e){return Array.isArray(e)&&"object"==typeof e[1]}function yt(e){return Array.isArray(e)&&!0===e[1]}function gt(e){return 0!=(8&e.flags)}function mt(e){return 2==(2&e.flags)}function bt(e){return 1==(1&e.flags)}function _t(e){return null!==e.template}var wt=void 0;function kt(e){return!!e.listen}var Ct={createRenderer:function(e,t){return void 0!==wt?wt:"undefined"!=typeof document?document:void 0}};function xt(e){for(;Array.isArray(e);)e=e[0];return e}function St(e,t){return xt(t[e+20])}function Ot(e,t){return xt(t[e.index])}function Et(e,t){return e.data[t+20]}function Tt(e,t){var n=t[e];return vt(n)?n:n[0]}function Dt(e){var t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Mt(e){return 128==(128&e[2])}function Pt(e,t){return null===e||null==t?null:e[t]}function At(e){e[18]=0}function It(e,t){e[5]+=t;for(var n=e,i=e[3];null!==i&&(1===t&&1===n[5]||-1===t&&0===n[5]);)i[5]+=t,n=i,i=i[3]}var Nt={lFrame:Kt(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Ft(){return Nt.bindingsEnabled}function Rt(){return Nt.lFrame.lView}function jt(){return Nt.lFrame.tView}function zt(){return Nt.lFrame.previousOrParentTNode}function Bt(e,t){Nt.lFrame.previousOrParentTNode=e,Nt.lFrame.isParent=t}function Lt(){return Nt.lFrame.isParent}function Ht(){return Nt.checkNoChangesMode}function Vt(e){Nt.checkNoChangesMode=e}function Wt(e){var t=Nt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Yt(e,t){var n=Nt.lFrame;n.bindingIndex=n.bindingRootIndex=e,Ut(t)}function Ut(e){Nt.lFrame.currentDirectiveIndex=e}function Gt(e){Nt.lFrame.currentQueryIndex=e}function qt(e,t){var n=Xt();Nt.lFrame=n,n.previousOrParentTNode=t,n.lView=e}function Zt(e,t){var n=Xt(),i=e[1];Nt.lFrame=n,n.previousOrParentTNode=t,n.lView=e,n.tView=i,n.contextLView=e,n.bindingIndex=i.bindingStartIndex}function Xt(){var e=Nt.lFrame,t=null===e?null:e.child;return null===t?Kt(e):t}function Kt(e){var t={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function Jt(){var e=Nt.lFrame;return Nt.lFrame=e.parent,e.previousOrParentTNode=null,e.lView=null,e}var Qt=Jt;function $t(){var e=Jt();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.currentSanitizer=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function en(){return Nt.lFrame.selectedIndex}function tn(e){Nt.lFrame.selectedIndex=e}function nn(e,t){for(var n=t.directiveStart,i=t.directiveEnd;n<i;n++){var r=e.data[n];r.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(-n,r.afterContentInit),r.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,r.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,r.afterContentChecked)),r.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(-n,r.afterViewInit),r.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,r.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,r.afterViewChecked)),null!=r.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,r.onDestroy)}}function rn(e,t,n){an(e,t,3,n)}function on(e,t,n,i){(3&e[2])===n&&an(e,t,n,i)}function sn(e,t){var n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function an(e,t,n,i){for(var r=null!=i?i:-1,o=0,s=void 0!==i?65535&e[18]:0;s<t.length;s++)if("number"==typeof t[s+1]){if(o=t[s],null!=i&&o>=i)break}else t[s]<0&&(e[18]+=65536),(o<r||-1==r)&&(ln(e,n,t,s),e[18]=(4294901760&e[18])+s+2),s++}function ln(e,t,n,i){var r=n[i]<0,o=n[i+1],s=e[r?-n[i]:n[i]];r?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,o.call(s)):o.call(s)}var un=function e(t,n,i){_classCallCheck(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i};function cn(e,t,n){for(var i=kt(e),r=0;r<n.length;){var o=n[r];if("number"==typeof o){if(0!==o)break;r++;var s=n[r++],a=n[r++],l=n[r++];i?e.setAttribute(t,a,l,s):t.setAttributeNS(s,a,l)}else{var u=o,c=n[++r];hn(u)?i&&e.setProperty(t,u,c):i?e.setAttribute(t,u,c):t.setAttribute(u,c),r++}}return r}function hn(e){return 64===e.charCodeAt(0)}function dn(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else for(var n=-1,i=0;i<t.length;i++){var r=t[i];"number"==typeof r?n=r:0===n||fn(e,n,r,null,-1===n||2===n?t[++i]:null)}return e}function fn(e,t,n,i,r){var o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){var a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){var l=e[o];if("number"==typeof l)break;if(l===n){if(null===i)return void(null!==r&&(e[o+1]=r));if(i===e[o+1])return void(e[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==i&&e.splice(o++,0,i),null!==r&&e.splice(o++,0,r)}function pn(e){return 32767&e}function vn(e,t){for(var n=e>>16,i=t;n>0;)i=i[15],n--;return i}function yn(e){return"string"==typeof e?e:null==e?"":""+e}function gn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():yn(e)}var mn=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(De);function bn(e){return e instanceof Function?e():e}var _n=!0;function wn(e){var t=_n;return _n=e,t}var kn=0;function Cn(e,t){var n=Sn(e,t);if(-1!==n)return n;var i=t[1];i.firstCreatePass&&(e.injectorIndex=t.length,xn(i.data,e),xn(t,null),xn(i.blueprint,null));var r=On(e,t),o=e.injectorIndex;if(-1!==r)for(var s=pn(r),a=vn(r,t),l=a[1].data,u=0;u<8;u++)t[o+u]=a[s+u]|l[s+u];return t[o+8]=r,o}function xn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Sn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function On(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=t[6],i=1;n&&-1===n.injectorIndex;)n=(t=t[15])?t[6]:null,i++;return n?n.injectorIndex|i<<16:-1}function En(e,t,n){!function(e,t,n){var i="string"!=typeof n?n[Re]:n.charCodeAt(0)||0;null==i&&(i=n[Re]=kn++);var r=255&i,o=1<<r,s=64&r,a=32&r,l=t.data;128&r?s?a?l[e+7]|=o:l[e+6]|=o:a?l[e+5]|=o:l[e+4]|=o:s?a?l[e+3]|=o:l[e+2]|=o:a?l[e+1]|=o:l[e]|=o}(e,t,n)}function Tn(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:oe.Default,r=arguments.length>4?arguments[4]:void 0;if(null!==e){var o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e[Re];return"number"==typeof t&&t>0?255&t:t}(n);if("function"==typeof o){qt(t,e);try{var s=o();if(null!=s||i&oe.Optional)return s;throw new Error("No provider for ".concat(gn(n),"!"))}finally{Qt()}}else if("number"==typeof o){if(-1===o)return new Nn(e,t);var a=null,l=Sn(e,t),u=-1,c=i&oe.Host?t[16][6]:null;for((-1===l||i&oe.SkipSelf)&&(u=-1===l?On(e,t):t[l+8],In(i,!1)?(a=t[1],l=pn(u),t=vn(u,t)):l=-1);-1!==l;){u=t[l+8];var h=t[1];if(An(o,l,h.data)){var d=Mn(l,t,n,a,i,c);if(d!==Dn)return d}In(i,t[1].data[l+8]===c)&&An(o,l,t)?(a=h,l=pn(u),t=vn(u,t)):l=-1}}}if(i&oe.Optional&&void 0===r&&(r=null),0==(i&(oe.Self|oe.Host))){var f=t[9],p=Ye(void 0);try{return f?f.get(n,r,i&oe.Optional):qe(n,r,i&oe.Optional)}finally{Ye(p)}}if(i&oe.Optional)return r;throw new Error("NodeInjector: NOT_FOUND [".concat(gn(n),"]"))}var Dn={};function Mn(e,t,n,i,r,o){var s=t[1],a=s.data[e+8],l=function(e,t,n,i,r){for(var o=e.providerIndexes,s=t.data,a=65535&o,l=e.directiveStart,u=o>>16,c=r?a+u:e.directiveEnd,h=i?a:a+u;h<c;h++){var d=s[h];if(h<l&&n===d||h>=l&&d.type===n)return h}if(r){var f=s[l];if(f&&_t(f)&&f.type===n)return l}return null}(a,s,n,null==i?mt(a)&&_n:i!=s&&3===a.type,r&oe.Host&&o===a);return null!==l?Pn(t,s,l,a):Dn}function Pn(e,t,n,i){var r=e[n],o=t.data;if(r instanceof un){var s=r;if(s.resolving)throw new Error("Circular dep for "+gn(o[n]));var a,l=wn(s.canSeeViewProviders);s.resolving=!0,s.injectImpl&&(a=Ye(s.injectImpl)),qt(e,i);try{r=e[n]=s.factory(void 0,o,e,i),t.firstCreatePass&&n>=i.directiveStart&&function(e,t,n){var i=t.onChanges,r=t.onInit,o=t.doCheck;i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,i)),r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-e,r),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{s.injectImpl&&Ye(a),wn(l),s.resolving=!1,Qt()}}return r}function An(e,t,n){var i=64&e,r=32&e;return!!((128&e?i?r?n[t+7]:n[t+6]:r?n[t+5]:n[t+4]:i?r?n[t+3]:n[t+2]:r?n[t+1]:n[t])&1<<e)}function In(e,t){return!(e&oe.Self||e&oe.Host&&t)}var Nn=function(){function e(t,n){_classCallCheck(this,e),this._tNode=t,this._lView=n}return _createClass(e,[{key:"get",value:function(e,t){return Tn(this._tNode,this._lView,e,void 0,t)}}]),e}();function Fn(e){return $((function(){var t=Object.getPrototypeOf(e.prototype).constructor,n=t[Fe]||function e(t){var n=t;if(Ce(t))return function(){var t=e(ke(n));return t?t():null};var i=ft(n);if(null===i){var r=de(n);i=r&&r.factory}return i||null}(t);return null!==n?n:function(e){return new e}}))}function Rn(e){return e.ngDebugContext}function jn(e){return e.ngOriginalError}function zn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];e.error.apply(e,n)}var Bn=function(){function e(){_classCallCheck(this,e),this._console=console}return _createClass(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),i=function(e){return e.ngErrorLogger||zn}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),n&&i(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?Rn(e)?Rn(e):this._findContext(jn(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=jn(e);t&&jn(t);)t=jn(t);return t}}]),e}(),Ln=!0,Hn=!1;function Vn(){return Hn=!0,Ln}function Wn(e,t){e.__ngContext__=t}function Yn(e){throw new Error("Multiple components match node with tagname "+e.tagName)}function Un(){throw new Error("Cannot mix multi providers and regular providers")}function Gn(e,t,n){for(var i=e.length;;){var r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){var o=t.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}n=r+1}}function qn(e,t,n){for(var i=0;i<e.length;){var r=e[i++];if(n&&"class"===r){if(-1!==Gn((r=e[i]).toLowerCase(),t,0))return!0}else if(1===r){for(;i<e.length&&"string"==typeof(r=e[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function Zn(e){return 0===e.type&&"ng-template"!==e.tagName}function Xn(e,t,n){return t===(0!==e.type||n?e.tagName:"ng-template")}function Kn(e,t,n){for(var i=4,r=e.attrs||[],o=function(e){for(var t=0;t<e.length;t++)if(3===(n=e[t])||4===n||6===n)return t;var n;return e.length}(r),s=!1,a=0;a<t.length;a++){var l=t[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!Xn(e,l,n)||""===l&&1===t.length){if(Jn(i))return!1;s=!0}}else{var u=8&i?l:t[++a];if(8&i&&null!==e.attrs){if(!qn(e.attrs,u,n)){if(Jn(i))return!1;s=!0}continue}var c=Qn(8&i?"class":l,r,Zn(e),n);if(-1===c){if(Jn(i))return!1;s=!0;continue}if(""!==u){var h;h=c>o?"":r[c+1].toLowerCase();var d=8&i?h:null;if(d&&-1!==Gn(d,u,0)||2&i&&u!==h){if(Jn(i))return!1;s=!0}}}}else{if(!s&&!Jn(i)&&!Jn(l))return!1;if(s&&Jn(l))continue;s=!1,i=l|1&i}}return Jn(i)||s}function Jn(e){return 0==(1&e)}function Qn(e,t,n,i){if(null===t)return-1;var r=0;if(i||!n){for(var o=!1;r<t.length;){var s=t[r];if(s===e)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){for(var a=t[++r];"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){var i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function $n(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=0;i<t.length;i++)if(Kn(e,t[i],n))return!0;return!1}function ei(e,t){return e?":not("+t.trim()+")":t}function ti(e){for(var t=e[0],n=1,i=2,r="",o=!1;n<e.length;){var s=e[n];if("string"==typeof s)if(2&i){var a=e[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""===r||Jn(s)||(t+=ei(o,r),r=""),i=s,o=o||!Jn(i);n++}return""!==r&&(t+=ei(o,r)),t}var ni={};function ii(e){var t=e[3];return yt(t)?t[3]:t}function ri(e){return si(e[13])}function oi(e){return si(e[4])}function si(e){for(;null!==e&&!yt(e);)e=e[4];return e}function ai(e){li(jt(),Rt(),en()+e,Ht())}function li(e,t,n,i){if(!i)if(3==(3&t[2])){var r=e.preOrderCheckHooks;null!==r&&rn(t,r,n)}else{var o=e.preOrderHooks;null!==o&&on(t,o,0,n)}tn(n)}function ui(e,t){return e<<17|t<<2}function ci(e){return e>>17&32767}function hi(e){return 2|e}function di(e){return(131068&e)>>2}function fi(e,t){return-131069&e|t<<2}function pi(e){return 1|e}function vi(e,t){var n=e.contentQueries;if(null!==n)for(var i=0;i<n.length;i+=2){var r=n[i],o=n[i+1];if(-1!==o){var s=e.data[o];Gt(r),s.contentQueries(2,t[o],o)}}}function yi(e,t,n){return kt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function gi(e,t,n,i,r,o,s,a,l,u){var c=t.blueprint.slice();return c[0]=r,c[2]=140|i,At(c),c[3]=c[15]=e,c[8]=n,c[10]=s||e&&e[10],c[11]=a||e&&e[11],c[12]=l||e&&e[12]||null,c[9]=u||e&&e[9]||null,c[6]=o,c[16]=2==t.type?e[16]:c,c}function mi(e,t,n,i,r,o){var s=n+20,a=e.data[s]||function(e,t,n,i,r,o){var s=zt(),a=Lt(),l=a?s:s&&s.parent,u=e.data[n]=Si(0,l&&l!==t?l:null,i,n,r,o);return null===e.firstChild&&(e.firstChild=u),s&&(!a||null!=s.child||null===u.parent&&2!==s.type?a||(s.next=u):s.child=u),u}(e,t,s,i,r,o);return Bt(a,!0),a}function bi(e,t,n){Zt(t,t[6]);try{var i=e.viewQuery;null!==i&&Yi(1,i,n);var r=e.template;null!==r&&ki(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&vi(e,t),e.staticViewQueries&&Yi(2,e.viewQuery,n);var o=e.components;null!==o&&function(e,t){for(var n=0;n<t.length;n++)Bi(e,t[n])}(t,o)}catch(s){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),s}finally{t[2]&=-5,$t()}}function _i(e,t,n,i){var r=t[2];if(256!=(256&r)){Zt(t,t[6]);var o=Ht();try{At(t),Nt.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&ki(e,t,n,2,i);var s=3==(3&r);if(!o)if(s){var a=e.preOrderCheckHooks;null!==a&&rn(t,a,null)}else{var l=e.preOrderHooks;null!==l&&on(t,l,0,null),sn(t,0)}if(function(e){for(var t=ri(e);null!==t;t=oi(t))if(t[2])for(var n=t[9],i=0;i<n.length;i++){var r=n[i],o=r[3];0==(1024&r[2])&&It(o,1),r[2]|=1024}}(t),function(e){for(var t=ri(e);null!==t;t=oi(t))for(var n=10;n<t.length;n++){var i=t[n],r=i[1];Mt(i)&&_i(r,i,r.template,i[8])}}(t),null!==e.contentQueries&&vi(e,t),!o)if(s){var u=e.contentCheckHooks;null!==u&&rn(t,u)}else{var c=e.contentHooks;null!==c&&on(t,c,1),sn(t,1)}!function(e,t){try{var n=e.expandoInstructions;if(null!==n)for(var i=e.expandoStartIndex,r=-1,o=0;o<n.length;o++){var s=n[o];"number"==typeof s?s<=0?(tn(0-s),r=i+=9+n[++o]):i+=s:(null!==s&&(Yt(i,r),s(2,t[r])),r++)}}finally{tn(-1)}}(e,t);var h=e.components;null!==h&&function(e,t){for(var n=0;n<t.length;n++)zi(e,t[n])}(t,h);var d=e.viewQuery;if(null!==d&&Yi(2,d,i),!o)if(s){var f=e.viewCheckHooks;null!==f&&rn(t,f)}else{var p=e.viewHooks;null!==p&&on(t,p,2),sn(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,It(t[3],-1))}finally{$t()}}}function wi(e,t,n,i){var r=t[10],o=!Ht(),s=4==(4&t[2]);try{o&&!s&&r.begin&&r.begin(),s&&bi(e,t,i),_i(e,t,n,i)}finally{o&&!s&&r.end&&r.end()}}function ki(e,t,n,i,r){var o=en();try{tn(-1),2&i&&t.length>20&&li(e,t,0,Ht()),n(i,r)}finally{tn(o)}}function Ci(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=xi(1,-1,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function xi(e,t,n,i,r,o,s,a,l,u){var c=20+i,h=c+r,d=function(e,t){for(var n=[],i=0;i<t;i++)n.push(i<e?null:ni);return n}(c,h);return d[1]={type:e,id:t,blueprint:d,template:n,queries:null,viewQuery:a,node:null,data:d.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:u,incompleteFirstPass:!1}}function Si(e,t,n,i,r,o){return{type:n,index:i,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Oi(e,t,n){for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(t,r):n[i]=[t,r]}return n}function Ei(e,t){var n=e.expandoInstructions;n.push(t.hostBindings),0!==t.hostVars&&n.push(t.hostVars)}function Ti(e,t,n){for(var i=0;i<n;i++)t.push(ni),e.blueprint.push(ni),e.data.push(null)}function Di(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Mi(e,t,n){var i=20-t.index,r=e.data.length-(65535&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(i,r,n)}function Pi(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Ai(e,t,n){if(n){if(t.exportAs)for(var i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;_t(t)&&(n[""]=e)}}function Ii(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Ni(e,t,n){e.data.push(n);var i=n.factory||(n.factory=ft(n.type)),r=new un(i,_t(n),null);e.blueprint.push(r),t.push(r)}function Fi(e,t,n){var i=Ot(t,e),r=Ci(n),o=e[10],s=Li(e,gi(e,r,null,n.onPush?64:16,i,t,o,o.createRenderer(i,n)));e[t.index]=s}function Ri(e,t,n,i,r,o){var s=o[t];if(null!==s)for(var a=i.setInput,l=0;l<s.length;){var u=s[l++],c=s[l++],h=s[l++];null!==a?i.setInput(n,h,u,c):n[c]=h}}function ji(e,t){for(var n=null,i=0;i<t.length;){var r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;e.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,e[r],t[i+1])),i+=2}else i+=2;else i+=4}return n}function zi(e,t){var n=Tt(t,e);if(Mt(n)){var i=n[1];80&n[2]?_i(i,n,i.template,n[8]):n[5]>0&&function e(t){for(var n=ri(t);null!==n;n=oi(n))for(var i=10;i<n.length;i++){var r=n[i];if(1024&r[2]){var o=r[1];_i(o,r,o.template,r[8])}else r[5]>0&&e(r)}var s=t[1].components;if(null!==s)for(var a=0;a<s.length;a++){var l=Tt(s[a],t);Mt(l)&&l[5]>0&&e(l)}}(n)}}function Bi(e,t){var n=Tt(t,e),i=n[1];!function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(i,n),bi(i,n,n[8])}function Li(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Hi(e){for(;e;){e[2]|=64;var t=ii(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function Vi(e,t,n){var i=t[10];i.begin&&i.begin();try{_i(e,t,e.template,n)}catch(r){throw qi(t,r),r}finally{i.end&&i.end()}}function Wi(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],i=Dt(n),r=i[1];wi(r,i,r.template,n)}}(e[8])}function Yi(e,t,n){Gt(0),t(e,n)}var Ui=Promise.resolve(null);function Gi(e){return e[7]||(e[7]=[])}function qi(e,t){var n=e[9],i=n?n.get(Bn,null):null;i&&i.handleError(t)}function Zi(e,t,n,i,r){for(var o=0;o<n.length;){var s=n[o++],a=n[o++],l=t[s],u=e.data[s];null!==u.setInput?u.setInput(l,r,i,a):l[a]=r}}function Xi(e,t){var n=t[3];return-1===e.index?yt(n)?n:null:n}function Ki(e,t,n,i,r){if(null!=i){var o,s=!1;yt(i)?o=i:vt(i)&&(s=!0,i=i[0]);var a=xt(i);0===e&&null!==n?null==r?er(t,n,a):$i(t,n,a,r||null):1===e&&null!==n?$i(t,n,a,r||null):2===e?function(e,t,n){var i=nr(e,t);i&&function(e,t,n,i){kt(e)?e.removeChild(t,n,i):t.removeChild(n)}(e,i,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function(e,t,n,i,r){var o=n[7];o!==xt(n)&&Ki(t,e,i,o,r);for(var s=10;s<n.length;s++){var a=n[s];or(a[1],a,e,t,i,o)}}(t,e,o,n,r)}}function Ji(e,t){var n;return vt(e)&&(n=e[6])&&2===n.type?Xi(n,e):e[3]===t?null:e[3]}function Qi(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var i=0;i<n.length;i+=2){var r=t[n[i]];if(!(r instanceof un)){var o=n[i+1];if(Array.isArray(o))for(var s=0;s<o.length;s+=2)o[s+1].call(r[o[s]]);else o.call(r)}}}(e,t),function(e,t){var n=e.cleanup;if(null!==n){for(var i=t[7],r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){var o=n[r+1],s="function"==typeof o?o(t):xt(t[o]),a=i[n[r+2]],l=n[r+3];"boolean"==typeof l?s.removeEventListener(n[r],a,l):l>=0?i[l]():i[-l].unsubscribe(),r+=2}else n[r].call(i[n[r+1]]);t[7]=null}}(e,t);var n=t[6];n&&3===n.type&&kt(t[11])&&t[11].destroy();var i=t[17];if(null!==i&&yt(t[3])){i!==t[3]&&function(e,t){var n=e[9],i=n.indexOf(t);1024&t[2]&&It(t[3],-1),n.splice(i,1)}(i,t);var r=t[19];null!==r&&r.detachView(e)}}}function $i(e,t,n,i){kt(e)?e.insertBefore(t,n,i):t.insertBefore(n,i,!0)}function er(e,t,n){kt(e)?e.appendChild(t,n):t.appendChild(n)}function tr(e,t,n,i){null!==i?$i(e,t,n,i):er(e,t,n)}function nr(e,t){return kt(e)?e.parentNode(t):t.parentNode}function ir(e,t,n,i){var r=function(e,t,n){for(var i,r,o=t.parent;null!=o&&(4===o.type||5===o.type);)o=(t=o).parent;if(null==o){var s=n[6];return 2===s.type?(r=Xi(s,i=n))?nr(i[11],r[7]):null:n[0]}if(t&&5===t.type&&4&t.flags)return Ot(t,n).parentNode;if(2&o.flags){var a=e.data,l=a[a[o.index].directiveStart].encapsulation;if(l!==tt.ShadowDom&&l!==tt.Native)return null}return Ot(o,n)}(e,i,t);if(null!=r){var o=t[11],s=function(e,t){if(2===e.type){var n=Xi(e,t);return null===n?null:function e(t,n){var i=10+t+1;if(i<n.length){var r=n[i],o=r[1].firstChild;if(null!==o)return function t(n,i){if(null!==i){var r=i.type;if(3===r)return Ot(i,n);if(0===r)return e(-1,n[i.index]);if(4===r||5===r){var o=i.child;if(null!==o)return t(n,o);var s=n[i.index];return yt(s)?e(-1,s):xt(s)}var a=n[16],l=a[6],u=ii(a),c=l.projection[i.projection];return null!=c?t(u,c):t(n,i.next)}return null}(r,o)}return n[7]}(n.indexOf(t,10)-10,n)}return 4===e.type||5===e.type?Ot(e,t):null}(i.parent||t[6],t);if(Array.isArray(n))for(var a=0;a<n.length;a++)tr(o,r,n[a],s);else tr(o,r,n,s)}}function rr(e,t,n,i,r,o,s){for(;null!=n;){var a=i[n.index],l=n.type;s&&0===t&&(a&&Wn(xt(a),i),n.flags|=4),64!=(64&n.flags)&&(4===l||5===l?(rr(e,t,n.child,i,r,o,!1),Ki(t,e,r,a,o)):1===l?sr(e,t,i,n,r,o):Ki(t,e,r,a,o)),n=s?n.projectionNext:n.next}}function or(e,t,n,i,r,o){rr(n,i,e.node.child,t,r,o,!1)}function sr(e,t,n,i,r,o){var s=n[16],a=s[6].projection[i.projection];if(Array.isArray(a))for(var l=0;l<a.length;l++)Ki(t,e,r,a[l],o);else rr(e,t,a,s[3],r,o,!0)}function ar(e,t,n){kt(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function lr(e,t,n){kt(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}var ur,cr=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e))._view=e,i}return _createClass(n,[{key:"detectChanges",value:function(){Wi(this._view)}},{key:"checkNoChanges",value:function(){!function(e){Vt(!0);try{Wi(e)}finally{Vt(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(function(){function e(t,n){_classCallCheck(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return _createClass(e,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}!function(e,t){if(!(256&t[2])){var n=t[11];kt(n)&&n.destroyNode&&or(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return Qi(e[1],e);for(;t;){var n=null;if(vt(t))n=t[13];else{var i=t[10];i&&(n=i)}if(!n){for(;t&&!t[4]&&t!==e;)vt(t)&&Qi(t[1],t),t=Ji(t,e);null===t&&(t=e),vt(t)&&Qi(t[1],t),n=t&&t[4]}t=n}}(t)}}(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){var t,n,i;t=this._lView[1],i=e,Gi(n=this._lView).push(i),t.firstCreatePass&&function(e){return e.cleanup||(e.cleanup=[])}(t).push(n[7].length-1,null)}},{key:"markForCheck",value:function(){Hi(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Vi(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){Vt(!0);try{Vi(e,t,n)}finally{Vt(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,or(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}},{key:"rootNodes",get:function(){var e=this._lView;return null==e[0]?function e(t,n,i,r){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==i;){var s=n[i.index];if(null!==s&&r.push(xt(s)),yt(s))for(var a=10;a<s.length;a++){var l=s[a],u=l[1].firstChild;null!==u&&e(l[1],l,u,r)}var c=i.type;if(4===c||5===c)e(t,n,i.child,r);else if(1===c){var h=n[16],d=h[6].projection[i.projection];if(Array.isArray(d))r.push.apply(r,_toConsumableArray(d));else{var f=ii(h);e(f[1],f,d,r,!0)}}i=o?i.projectionNext:i.next}return r}(e[1],e,e[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),e}());function hr(e,t,n){return ur||(ur=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(e)),new ur(Ot(t,n))}var dr=new je("Set Injector scope."),fr={},pr={},vr=[],yr=void 0;function gr(){return void 0===yr&&(yr=new Xe),yr}function mr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return new br(e,n,t||gr(),i)}var br=function(){function e(t,n,i){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var s=[];n&&Je(n,(function(e){return r.processProvider(e,t,n)})),Je([t],(function(e){return r.processInjectorType(e,[],s)})),this.records.set(ze,kr(void 0,this));var a=this.records.get(dr);this.scope=null!=a?a.value:null,this.source=o||("object"==typeof t?null:me(t))}return _createClass(e,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(e){return e.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:oe.Default;this.assertNotDestroyed();var i,r=We(this);try{if(!(n&oe.SkipSelf)){var o=this.records.get(e);if(void 0===o){var s=("function"==typeof(i=e)||"object"==typeof i&&i instanceof je)&&ce(e);o=s&&this.injectableDefInScope(s)?kr(_r(e),fr):null,this.records.set(e,o)}if(null!=o)return this.hydrate(e,o)}return(n&oe.Self?gr():this.parent).get(e,t=n&oe.Optional&&t===Be?null:t)}catch(a){if("NullInjectorError"===a.name){if((a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(me(e)),r)throw a;return function(e,t,n,i){var r=e.ngTempTokenPath;throw t.__source&&r.unshift(t.__source),e.message=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var r=me(t);if(Array.isArray(t))r=t.map(me).join(" -> ");else if("object"==typeof t){var o=[];for(var s in t)if(t.hasOwnProperty(s)){var a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):me(a)))}r="{".concat(o.join(", "),"}")}return"".concat(n).concat(i?"("+i+")":"","[").concat(r,"]: ").concat(e.replace(Le,"\n  "))}("\n"+e.message,r,"R3InjectorError",i),e.ngTokenPath=r,e.ngTempTokenPath=null,e}(a,e,0,this.source)}throw a}finally{We(r)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach((function(t){return e.get(t)}))}},{key:"toString",value:function(){var e=[];return this.records.forEach((function(t,n){return e.push(me(n))})),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var i=this;if(!(e=ke(e)))return!1;var r=de(e),o=null==r&&e.ngModule||void 0,s=void 0===o?e:o,a=-1!==n.indexOf(s);if(void 0!==o&&(r=de(o)),null==r)return!1;if(null!=r.imports&&!a){var l;n.push(s);try{Je(r.imports,(function(e){i.processInjectorType(e,t,n)&&(void 0===l&&(l=[]),l.push(e))}))}finally{}if(void 0!==l)for(var u=function(e){var t=l[e],n=t.ngModule,r=t.providers;Je(r,(function(e){return i.processProvider(e,n,r||vr)}))},c=0;c<l.length;c++)u(c)}this.injectorDefTypes.add(s),this.records.set(s,kr(r.factory,fr));var h=r.providers;if(null!=h&&!a){var d=e;Je(h,(function(e){return i.processProvider(e,d,h)}))}return void 0!==o&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var i=xr(e=ke(e))?e:ke(e&&e.provide),r=function(e,t,n){return Cr(e)?kr(void 0,e.useValue):kr(wr(e,t,n),fr)}(e,t,n);if(xr(e)||!0!==e.multi){var o=this.records.get(i);o&&void 0!==o.multi&&Un()}else{var s=this.records.get(i);s?void 0===s.multi&&Un():((s=kr(void 0,fr,!0)).factory=function(){return Ze(s.multi)},this.records.set(i,s)),i=e,s.multi.push(e)}this.records.set(i,r)}},{key:"hydrate",value:function(e,t){var n;return t.value===pr?function(e){throw new Error("Cannot instantiate cyclic dependency! "+e)}(me(e)):t.value===fr&&(t.value=pr,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();function _r(e){var t=ce(e),n=null!==t?t.factory:ft(e);if(null!==n)return n;var i=de(e);if(null!==i)return i.factory;if(e instanceof je)throw new Error("Token ".concat(me(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=function(e,t){for(var n=[],i=0;i<e;i++)n.push("?");return n}(t);throw new Error("Can't resolve all parameters for ".concat(me(e),": (").concat(n.join(", "),")."))}var i=function(e){var t=e&&(e[fe]||e[ye]||e[ve]&&e[ve]());if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "').concat(n,'" class.')),t}return null}(e);return null!==i?function(){return i.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function wr(e,t,n){var i,r=void 0;if(xr(e)){var o=ke(e);return ft(o)||_r(o)}if(Cr(e))r=function(){return ke(e.useValue)};else if((i=e)&&i.useFactory)r=function(){return e.useFactory.apply(e,_toConsumableArray(Ze(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))r=function(){return Ge(ke(e.useExisting))};else{var s=ke(e&&(e.useClass||e.provide));if(s||function(e,t,n){var i="";throw e&&t&&(i=" - only instances of Provider and Type are allowed, got: [".concat(t.map((function(e){return e==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(me(e),"'")+i)}(t,n,e),!function(e){return!!e.deps}(e))return ft(s)||_r(s);r=function(){return _construct(s,_toConsumableArray(Ze(e.deps)))}}return r}function kr(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function Cr(e){return null!==e&&"object"==typeof e&&He in e}function xr(e){return"function"==typeof e}var Sr=function(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0,r=mr(e,t,n,i);return r._resolveInjectorDefTypes(),r}({name:n},t,e,n)},Or=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?Sr(e,t,""):Sr(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=Be,e.NULL=new Xe,e.\u0275prov=le({token:e,providedIn:"any",factory:function(){return Ge(ze)}}),e.__NG_ELEMENT_ID__=-1,e}(),Er=new Map,Tr=new Set;function Dr(e){return"string"==typeof e?e:e.text()}function Mr(e,t,n){var i=n?e.styles:null,r=n?e.classes:null,o=0;if(null!==t)for(var s=0;s<t.length;s++){var a=t[s];"number"==typeof a?o=a:1==o?r=be(r,a):2==o&&(i=be(i,a+": "+t[++s]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}var Pr=null;function Ar(){if(!Pr){var e=De.Symbol;if(e&&e.iterator)Pr=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var i=t[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Pr=i)}}return Pr}function Ir(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function Nr(e){return!!Fr(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ar()in e)}function Fr(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Rr(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function jr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oe.Default,n=Rt();return null==n?Ge(e,t):Tn(zt(),n,ke(e),t)}function zr(e,t,n){var i,r=Rt();return Rr(r,Nt.lFrame.bindingIndex++,t)&&function(e,t,n,i,r,o,s,a){var l,u,c=Ot(t,n),h=t.inputs;null!=h&&(l=h[i])?(Zi(e,n,l,i,r),mt(t)&&function(e,t){var n=Tt(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3===t.type&&(i="class"===(u=i)?"className":"for"===u?"htmlFor":"formaction"===u?"formAction":"innerHtml"===u?"innerHTML":"readonly"===u?"readOnly":"tabindex"===u?"tabIndex":u,r=null!=s?s(r,t.tagName||"",i):r,kt(o)?o.setProperty(c,i,r):hn(i)||(c.setProperty?c.setProperty(i,r):c[i]=r))}(jt(),Et((i=Nt.lFrame).tView,i.selectedIndex),r,e,t,r[11],n),zr}function Br(e,t,n,i,r){var o=r?"class":"style";Zi(e,n,t.inputs[o],o,i)}function Lr(e,t,n,i){var r=Rt(),o=jt(),s=20+e,a=r[11],l=r[s]=yi(t,a,Nt.lFrame.currentNamespace),u=o.firstCreatePass?function(e,t,n,i,r,o,s){var a=t.consts,l=Pt(a,o),u=mi(t,n[6],e,3,r,l);return function(e,t,n,i){if(Ft()){var r=function(e,t,n){var i=e.directiveRegistry,r=null;if(i)for(var o=0;o<i.length;o++){var s=i[o];$n(n,s.selectors,!1)&&(r||(r=[]),En(Cn(n,t),e,s.type),_t(s)?(2&n.flags&&Yn(n),Pi(e,n),r.unshift(s)):r.push(s))}return r}(e,t,n),o=null===i?null:{"":-1};if(null!==r){var s=0;!0,Ii(n,e.data.length,r.length);for(var a=0;a<r.length;a++){var l=r[a];l.providersResolver&&l.providersResolver(l)}Mi(e,n,r.length);for(var u=!1,c=!1,h=0;h<r.length;h++){var d=r[h];n.mergedAttrs=dn(n.mergedAttrs,d.hostAttrs),Ni(e,t,d),Ai(e.data.length-1,d,o),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128),!u&&(d.onChanges||d.onInit||d.doCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index-20),u=!0),c||!d.onChanges&&!d.doCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index-20),c=!0),Ei(e,d),s+=d.hostVars}!function(e,t){for(var n=t.directiveEnd,i=e.data,r=t.attrs,o=[],s=null,a=null,l=t.directiveStart;l<n;l++){var u=i[l],c=u.inputs,h=null===r||Zn(t)?null:ji(c,r);o.push(h),s=Oi(c,l,s),a=Oi(u.outputs,l,a)}null!==s&&(s.hasOwnProperty("class")&&(t.flags|=16),s.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=s,t.outputs=a}(e,n),Ti(e,t,s)}o&&function(e,t,n){if(t)for(var i=e.localNames=[],r=0;r<t.length;r+=2){var o=n[t[r+1]];if(null==o)throw new Error("Export of name '".concat(t[r+1],"' not found!"));i.push(t[r],o)}}(n,i,o)}n.mergedAttrs=dn(n.mergedAttrs,n.attrs)}(t,n,u,Pt(a,s)),null!==u.attrs&&Mr(u,u.attrs,!1),null!==u.mergedAttrs&&Mr(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(e,o,r,0,t,n,i):o.data[s];Bt(u,!0);var c=u.mergedAttrs;null!==c&&cn(a,l,c);var h=u.classes;null!==h&&lr(a,l,h);var d=u.styles;null!==d&&ar(a,l,d),ir(o,r,l,u),0===Nt.lFrame.elementDepthCount&&Wn(l,r),Nt.lFrame.elementDepthCount++,bt(u)&&(function(e,t,n){Ft()&&(function(e,t,n,i){var r=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||Cn(n,t),Wn(i,t);for(var s=n.initialInputs,a=r;a<o;a++){var l=e.data[a],u=_t(l);u&&Fi(t,n,l);var c=Pn(t,e,a,n);Wn(c,t),null!==s&&Ri(0,a-r,c,l,0,s),u&&(Tt(n.index,t)[8]=c)}}(e,t,n,Ot(n,t)),128==(128&n.flags)&&function(e,t,n){var i=n.directiveStart,r=n.directiveEnd,o=e.expandoInstructions,s=e.firstCreatePass,a=n.index-20,l=Nt.lFrame.currentDirectiveIndex;try{tn(a);for(var u=i;u<r;u++){var c=e.data[u],h=t[u];Ut(u),null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs?Di(c,h):s&&o.push(null)}}finally{tn(-1),Ut(l)}}(e,t,n))}(o,r,u),function(e,t,n){if(gt(t))for(var i=t.directiveEnd,r=t.directiveStart;r<i;r++){var o=e.data[r];o.contentQueries&&o.contentQueries(1,n[r],r)}}(o,u,r)),null!==i&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ot,i=t.localNames;if(null!==i)for(var r=t.index+1,o=0;o<i.length;o+=2){var s=i[o+1],a=-1===s?n(t,e):e[s];e[r++]=a}}(r,u)}function Hr(){var e=zt();Lt()?Nt.lFrame.isParent=!1:Bt(e=e.parent,!1);var t=e;Nt.lFrame.elementDepthCount--;var n=jt();n.firstCreatePass&&(nn(n,e),gt(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Br(n,t,Rt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Br(n,t,Rt(),t.stylesWithoutHost,!1)}function Vr(e,t,n,i){Lr(e,t,n,i),Hr()}function Wr(e){return!!e&&"function"==typeof e.then}function Yr(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,r=Rt(),o=jt(),s=zt();return function(e,t,n,i,r,o){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7?arguments[7]:void 0,l=bt(i),u=e.firstCreatePass&&(e.cleanup||(e.cleanup=[])),c=Gi(t),h=!0;if(3===i.type){var d=Ot(i,t),f=a?a(d):nt,p=f.target||d,v=c.length,y=a?function(e){return a(xt(e[i.index])).target}:i.index;if(kt(n)){var g=null;if(!a&&l&&(g=function(e,t,n,i){var r=e.cleanup;if(null!=r)for(var o=0;o<r.length-1;o+=2){var s=r[o];if(s===n&&r[o+1]===i){var a=t[7],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(e,t,r,i.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,h=!1;else{o=Gr(i,t,o,!1);var m=n.listen(f.name||p,r,o);c.push(o,m),u&&u.push(r,y,v,v+1)}}else o=Gr(i,t,o,!0),p.addEventListener(r,o,s),c.push(o),u&&u.push(r,y,v,s)}var b,_=i.outputs;if(h&&null!==_&&(b=_[r])){var w=b.length;if(w)for(var k=0;k<w;k+=2){var C=t[b[k]][b[k+1]].subscribe(o),x=c.length;c.push(o,C),u&&u.push(r,i.index,x,-(x+1))}}}(o,r,r[11],s,e,t,n,i),Yr}function Ur(e,t,n){try{return!1!==t(n)}catch(i){return qi(e,i),!1}}function Gr(e,t,n,i){return function r(o){if(o===Function)return n;var s=2&e.flags?Tt(e.index,t):t;0==(32&t[2])&&Hi(s);for(var a=Ur(t,n,o),l=r.__ngNextListenerFn__;l;)a=Ur(t,l,o)&&a,l=l.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}var qr=[];function Zr(e,t,n,i,r){for(var o=e[n+1],s=null===t,a=i?ci(o):di(o),l=!1;0!==a&&(!1===l||s);){var u=e[a+1];Xr(e[a],t)&&(l=!0,e[a+1]=i?pi(u):hi(u)),a=i?ci(u):di(u)}l&&(e[n+1]=i?hi(o):pi(o))}function Xr(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&$e(e,t)>=0}function Kr(e,t){return function(e,t,n,i){var r,o,s=Rt(),a=jt(),l=Wt(2);(a.firstUpdatePass&&function(e,t,n,i){var r=e.data;if(null===r[n+1]){var o=r[en()+20],s=function(e,t){return t>=e.expandoStartIndex}(e,n);(function(e,t){return 0!=(16&e.flags)})(o)&&null===t&&!s&&(t=!1),t=function(e,t,n,i){var r=function(e){var t=Nt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e),o=t.residualClasses;if(null===r)0===t.classBindings&&(n=Qr(n=Jr(null,e,t,n,!0),t.attrs,!0),o=null);else{var s=t.directiveStylingLast;if(-1===s||e[s]!==r)if(n=Jr(r,e,t,n,!0),null===o){var a=function(e,t,n){var i=t.classBindings;if(0!==di(i))return e[ci(i)]}(e,t);void 0!==a&&Array.isArray(a)&&function(e,t,n,i){e[ci(t.classBindings)]=i}(e,t,0,a=Qr(a=Jr(null,e,t,a[1],!0),t.attrs,!0))}else o=function(e,t,n){for(var i=void 0,r=t.directiveEnd,o=1+t.directiveStylingLast;o<r;o++)i=Qr(i,e[o].hostAttrs,!0);return Qr(i,t.attrs,!0)}(e,t)}return void 0!==o&&(t.residualClasses=o),n}(r,o,t),function(e,t,n,i,r,o){var s=t.classBindings,a=ci(s),l=di(s);e[i]=n;var u,c=!1;if(Array.isArray(n)){var h=n;(null===(u=h[1])||$e(h,u)>0)&&(c=!0)}else u=n;if(r)if(0!==l){var d=ci(e[a+1]);e[i+1]=ui(d,a),0!==d&&(e[d+1]=fi(e[d+1],i)),e[a+1]=131071&e[a+1]|i<<17}else e[i+1]=ui(a,0),0!==a&&(e[a+1]=fi(e[a+1],i)),a=i;else e[i+1]=ui(l,0),0===a?a=i:e[l+1]=fi(e[l+1],i),l=i;c&&(e[i+1]=hi(e[i+1])),Zr(e,u,i,!0),Zr(e,u,i,!1),function(e,t,n,i,r){var o=e.residualClasses;null!=o&&"string"==typeof t&&$e(o,t)>=0&&(n[i+1]=pi(n[i+1]))}(t,u,e,i),s=ui(a,l),t.classBindings=s}(r,o,t,n,s)}}(a,e,l),t!==ni&&Rr(s,l,t))&&(null==n&&(r=null===(o=Nt.lFrame)?null:o.currentSanitizer)&&(n=r),function(e,t,n,i,r,o,s,a){if(3===t.type){var l=e.data,u=l[a+1];eo(1==(1&u)?$r(l,t,n,r,di(u),!0):void 0)||(eo(o)||2==(2&u)&&(o=$r(l,null,n,r,a,!0)),function(e,t,n,i,r){var o=kt(e);r?o?e.addClass(n,i):n.classList.add(i):o?e.removeClass(n,i):n.classList.remove(i)}(i,0,St(en(),n),r,o))}}(a,a.data[en()+20],s,s[11],e,s[l+1]=function(e,t){return null==e||("function"==typeof t?e=t(e):"string"==typeof t?e+=t:"object"==typeof e&&(e=me(function(e){return e instanceof function(){function e(t){_classCallCheck(this,e),this.changingThisBreaksApplicationSecurity=t}return _createClass(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),e}()?e.changingThisBreaksApplicationSecurity:e}(e)))),e}(t,n),0,l))}(e,t,null),Kr}function Jr(e,t,n,i,r){var o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(i=Qr(i,(o=t[a]).hostAttrs,r),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),i}function Qr(e,t,n){var i,r,o,s,a=n?1:2,l=-1;if(null!==t)for(var u=0;u<t.length;u++){var c=t[u];"number"==typeof c?l=c:l===a&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),i=e,r=c,o=!!n||t[++u],s=void 0,(s=$e(i,r))>=0?i[1|s]=o:function(e,t,n,i){var r=e.length;if(r==t)e.push(n,i);else if(1===r)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;)e[r]=e[r-2],r--;e[t]=n,e[t+1]=i}}(i,s=~s,r,o))}return void 0===e?null:e}function $r(e,t,n,i,r,o){for(var s=null===t,a=void 0;r>0;){var l=e[r],u=Array.isArray(l),c=u?l[1]:l,h=null===c,d=n[r+1];d===ni&&(d=h?qr:void 0);var f=h?Qe(d,i):c===i?d:void 0;if(u&&!eo(f)&&(f=Qe(l,i)),eo(f)&&(a=f,s))return a;var p=e[r+1];r=s?ci(p):di(p)}if(null!==t){var v=o?t.residualClasses:t.residualStyles;null!=v&&(a=Qe(v,i))}return a}function eo(e){return void 0!==e}function to(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Rt(),i=jt(),r=e+20,o=i.firstCreatePass?mi(i,n[6],e,3,null,null):i.data[r],s=n[r]=function(e,t){return kt(t)?t.createText(e):t.createTextNode(e)}(t,n[11]);ir(i,n,s,o),Bt(o,!1)}function no(e,t,n,i,r){var o=Rt(),s=function(e,t,n,i,r,o){var s=function(e,t,n,i){var r=Rr(e,t,n);return Rr(e,t+1,i)||r}(e,Nt.lFrame.bindingIndex,n,r);return Wt(2),s?t+yn(n)+i+yn(r)+o:ni}(o,e,t,n,i,r);return s!==ni&&function(e,t,n){var i=St(t,e),r=e[11];kt(r)?r.setValue(i,n):i.textContent=n}(o,en(),s),no}function io(e,t){var n=Dt(e)[1],i=n.data.length-1;nn(n,{directiveStart:i,directiveEnd:i+1})}function ro(e){for(var t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0,i=[e];t;){var r=void 0;if(_t(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");r=t.\u0275dir}if(r){if(n){i.push(r);var o=e;o.inputs=oo(e.inputs),o.declaredInputs=oo(e.declaredInputs),o.outputs=oo(e.outputs);var s=r.hostBindings;s&&lo(e,s);var a=r.viewQuery,l=r.contentQueries;if(a&&so(e,a),l&&ao(e,l),ae(e.inputs,r.inputs),ae(e.declaredInputs,r.declaredInputs),ae(e.outputs,r.outputs),_t(r)&&r.data.animation){var u=e.data;u.animation=(u.animation||[]).concat(r.data.animation)}o.afterContentChecked=o.afterContentChecked||r.afterContentChecked,o.afterContentInit=e.afterContentInit||r.afterContentInit,o.afterViewChecked=e.afterViewChecked||r.afterViewChecked,o.afterViewInit=e.afterViewInit||r.afterViewInit,o.doCheck=e.doCheck||r.doCheck,o.onDestroy=e.onDestroy||r.onDestroy,o.onInit=e.onInit||r.onInit}var c=r.features;if(c)for(var h=0;h<c.length;h++){var d=c[h];d&&d.ngInherit&&d(e),d===ro&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,i=e.length-1;i>=0;i--){var r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=dn(r.hostAttrs,n=dn(n,r.hostAttrs))}}(i)}function oo(e){return e===nt?{}:e===it?[]:e}function so(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,i){t(e,i),n(e,i)}:t}function ao(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,i,r){t(e,i,r),n(e,i,r)}:t}function lo(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,i){t(e,i),n(e,i)}:t}var uo=function(){function e(t,n,i){_classCallCheck(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=i}return _createClass(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function co(e){e.type.prototype.ngOnChanges&&(e.setInput=ho,e.onChanges=function(){var e=fo(this),t=e&&e.current;if(t){var n=e.previous;if(n===nt)e.previous=t;else for(var i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}})}function ho(e,t,n,i){var r=fo(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:nt,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[n],l=s[a];o[a]=new uo(l&&l.currentValue,t,s===nt),e[i]=t}function fo(e){return e.__ngSimpleChanges__||null}function po(e,t,n,i,r){if(e=ke(e),Array.isArray(e))for(var o=0;o<e.length;o++)po(e[o],t,n,i,r);else{var s=jt(),a=Rt(),l=xr(e)?e:ke(e.provide),u=wr(e),c=zt(),h=65535&c.providerIndexes,d=c.directiveStart,f=c.providerIndexes>>16;if(xr(e)||!e.multi){var p=new un(u,r,jr),v=go(l,t,r?h:h+f,d);-1===v?(En(Cn(c,a),s,l),vo(s,e,t.length),t.push(l),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=65536),n.push(p),a.push(p)):(n[v]=p,a[v]=p)}else{var y=go(l,t,h+f,d),g=go(l,t,h,h+f),m=y>=0&&n[y],b=g>=0&&n[g];if(r&&!b||!r&&!m){En(Cn(c,a),s,l);var _=function(e,t,n,i,r){var o=new un(e,n,jr);return o.multi=[],o.index=t,o.componentProviders=0,yo(o,r,i&&!n),o}(r?bo:mo,n.length,r,i,u);!r&&b&&(n[g].providerFactory=_),vo(s,e,t.length,0),t.push(l),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=65536),n.push(_),a.push(_)}else vo(s,e,y>-1?y:g,yo(n[r?g:y],u,!r&&i));!r&&i&&b&&n[g].componentProviders++}}}function vo(e,t,n,i){var r=xr(t);if(r||t.useClass){var o=(t.useClass||t).prototype.ngOnDestroy;if(o){var s=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){var a=s.indexOf(n);-1===a?s.push(n,[i,o]):s[a+1].push(i,o)}else s.push(n,o)}}}function yo(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function go(e,t,n,i){for(var r=n;r<i;r++)if(t[r]===e)return r;return-1}function mo(e,t,n,i){return _o(this.multi,[])}function bo(e,t,n,i){var r,o=this.multi;if(this.providerFactory){var s=this.providerFactory.componentProviders,a=Pn(n,n[1],this.providerFactory.index,i);_o(o,r=a.slice(0,s));for(var l=s;l<a.length;l++)r.push(a[l])}else _o(o,r=[]);return r}function _o(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function wo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,i){return function(e,t,n){var i=jt();if(i.firstCreatePass){var r=_t(e);po(n,i.data,i.blueprint,r,!0),po(t,i.data,i.blueprint,r,!1)}}(n,i?i(e):e,t)}}}co.ngInherit=!0;var ko=function e(){_classCallCheck(this,e)},Co=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(me(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),xo=function(){var e=function e(){_classCallCheck(this,e)};return e.NULL=new Co,e}(),So=function(){var e=function e(t){_classCallCheck(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=function(){return Oo(e)},e}(),Oo=function(e){return hr(e,zt(),Rt())},Eo=function e(){_classCallCheck(this,e)},To=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}(),Do=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Mo()},e}(),Mo=function(){var e=Rt(),t=Tt(zt().index,e);return function(e){var t=e[11];if(kt(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(vt(t)?t:e)},Po=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275prov=le({token:e,providedIn:"root",factory:function(){return null}}),e}(),Ao=new function e(t){_classCallCheck(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}("9.1.11"),Io=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return Nr(e)}},{key:"create",value:function(e){return new Fo(e)}}]),e}(),No=function(e,t){return t},Fo=function(){function e(t){_classCallCheck(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||No}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,i=0,r=null;t||n;){var o=!n||t&&t.currentIndex<Bo(n,i,r)?t:n,s=Bo(o,i,r),a=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{r||(r=[]);var l=s-i,u=a-i;if(l!=u){for(var c=0;c<l;c++){var h=c<r.length?r[c]:r[c]=0,d=h+c;u<=d&&d<l&&(r[c]=h+1)}r[o.previousIndex]=u-l}}s!==a&&e(o,s,a)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!Nr(e))throw new Error("Error trying to diff '".concat(me(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,i,r,o=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(var a=0;a<this.length;a++)i=e[a],r=this._trackByFn(a,i),null!==o&&Ir(o.trackById,r)?(s&&(o=this._verifyReinsertion(o,i,r,a)),Ir(o.item,i)||this._addIdentityChange(o,i)):(o=this._mismatch(o,i,r,a),s=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var i,r=e[Ar()]();!(i=r.next()).done;)t(i.value)}(e,(function(e){r=t._trackByFn(n,e),null!==o&&Ir(o.trackById,r)?(s&&(o=t._verifyReinsertion(o,e,r,n)),Ir(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,r,n),s=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,i){var r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Ir(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,i)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Ir(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,i)):e=this._addAfter(new Ro(t,n),r,i),e}},{key:"_verifyReinsertion",value:function(e,t,n,i){var r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?e=this._reinsertAfter(r,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var i=e._prevRemoved,r=e._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new zo),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zo),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),e}(),Ro=function e(t,n){_classCallCheck(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},jo=function(){function e(){_classCallCheck(this,e),this._head=null,this._tail=null}return _createClass(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Ir(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),zo=function(){function e(){_classCallCheck(this,e),this.map=new Map}return _createClass(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new jo,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),e}();function Bo(e,t,n){var i=e.previousIndex;if(null===i)return i;var r=0;return n&&i<n.length&&(r=n[i]),i+t+r}var Lo=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return e instanceof Map||Fr(e)}},{key:"create",value:function(){return new Ho}}]),e}(),Ho=function(){function e(){_classCallCheck(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||Fr(e)))throw new Error("Error trying to diff '".concat(me(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(function(e,i){if(n&&n.key===i)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var r=t._getOrCreateRecordForKey(i,e);n=t._insertBeforeOrAppend(n,r)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}var o=new Vo(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Ir(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((function(n){return t(e[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),e}(),Vo=function e(t){_classCallCheck(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Wo=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t,n=this.factories.find((function(t){return t.supports(e)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var i=n.factories.slice();t=t.concat(i)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new re,new ne]]}}}]),e}();return e.\u0275prov=le({token:e,providedIn:"root",factory:function(){return new e([new Io])}}),e}(),Yo=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t=this.factories.find((function(t){return t.supports(e)}));if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var i=n.factories.slice();t=t.concat(i)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new re,new ne]]}}}]),e}();return e.\u0275prov=le({token:e,providedIn:"root",factory:function(){return new e([new Lo])}}),e}(),Uo=[new Lo],Go=new Wo([new Io]),qo=new Yo(Uo),Zo={},Xo=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).ngModule=e,i}return _createClass(n,[{key:"resolveComponentFactory",value:function(e){var t=dt(e);return new Qo(t,this.ngModule)}}]),n}(xo);function Ko(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var Jo=new je("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return mn}}),Qo=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this)).componentDef=e,r.ngModule=i,r.componentType=e.type,r.selector=e.selectors.map(ti).join(","),r.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],r.isBoundToModule=!!i,r}return _createClass(n,[{key:"create",value:function(e,t,n,i){var r,o,s=(i=i||this.ngModule)?function(e,t){return{get:function(n,i,r){var o=e.get(n,Zo,r);return o!==Zo||i===Zo?o:t.get(n,i,r)}}}(e,i.injector):e,a=s.get(Eo,Ct),l=s.get(Po,null),u=a.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",h=n?function(e,t,n){if(kt(e))return e.selectRootElement(t,n===tt.ShadowDom);var i="string"==typeof t?e.querySelector(t):t;return i.textContent="",i}(u,n,this.componentDef.encapsulation):yi(c,a.createRenderer(null,this.componentDef),function(e){var t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(c)),d=this.componentDef.onPush?576:528,f="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),p={components:[],scheduler:mn,clean:Ui,playerHandler:null,flags:0},v=xi(0,-1,null,1,0,null,null,null,null,null),y=gi(null,v,p,d,null,null,a,u,l,s);Zt(y,null);try{var g=function(e,t,n,i,r,o){var s=n[1];n[20]=e;var a=mi(s,null,0,3,null,null),l=a.mergedAttrs=t.hostAttrs;null!==l&&(Mr(a,l,!0),null!==e&&(cn(r,e,l),null!==a.classes&&lr(r,e,a.classes),null!==a.styles&&ar(r,e,a.styles)));var u=i.createRenderer(e,t),c=gi(n,Ci(t),null,t.onPush?64:16,n[20],a,i,u,void 0);return s.firstCreatePass&&(En(Cn(a,n),s,t.type),Pi(s,a),Ii(a,n.length,1)),Li(n,c),n[20]=c}(h,this.componentDef,y,a,u);if(h)if(n)cn(u,h,["ng-version",Ao.full]);else{var m=function(e){for(var t=[],n=[],i=1,r=2;i<e.length;){var o=e[i];if("string"==typeof o)2===r?""!==o&&t.push(o,e[++i]):8===r&&n.push(o);else{if(!Jn(r))break;r=o}i++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),b=m.attrs,_=m.classes;b&&cn(u,h,b),_&&_.length>0&&lr(u,h,_.join(" "))}if(o=Et(v,0),void 0!==t)for(var w=o.projection=[],k=0;k<this.ngContentSelectors.length;k++){var C=t[k];w.push(null!=C?Array.from(C):null)}r=function(e,t,n,i,r){var o=n[1],s=function(e,t,n){var i=zt();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Mi(e,i,1),Ni(e,t,n));var r=Pn(t,e,t.length-1,i);Wn(r,t);var o=Ot(i,t);return o&&Wn(o,t),r}(o,n,t);i.components.push(s),e[8]=s,r&&r.forEach((function(e){return e(s,t)})),t.contentQueries&&t.contentQueries(1,s,n.length-1);var a=zt();if(o.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){tn(a.index-20);var l=n[1];Ei(l,t),Ti(l,n,t.hostVars),Di(t,s)}return s}(g,this.componentDef,y,p,[io]),bi(v,y,null)}finally{$t()}var x=new $o(this.componentType,r,hr(So,o,y),y,o);return n&&!f||(v.node.child=o),x}},{key:"inputs",get:function(){return Ko(this.componentDef.inputs)}},{key:"outputs",get:function(){return Ko(this.componentDef.outputs)}}]),n}(ko),$o=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o,s){var a,l,u,c;return _classCallCheck(this,n),(a=t.call(this)).location=r,a._rootLView=o,a._tNode=s,a.destroyCbs=[],a.instance=i,a.hostView=a.changeDetectorRef=new cr(o),l=o[1],u=o,null==(c=l.node)&&(l.node=c=Si(0,null,2,-1,null,null)),u[6]=c,a.componentType=e,a}return _createClass(n,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(e){this.destroyCbs&&this.destroyCbs.push(e)}},{key:"injector",get:function(){return new Nn(this._tNode,this._rootLView)}}]),n}(function(){return function e(){_classCallCheck(this,e)}}()),es=void 0,ts=["en",[["a","p"],["AM","PM"],es],[["AM","PM"],es,es],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],es,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],es,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",es,"{1} 'at' {0}",es],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],ns={};function is(e){return e in ns||(ns[e]=De.ng&&De.ng.common&&De.ng.common.locales&&De.ng.common.locales[e]),ns[e]}var rs=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencyCode]="CurrencyCode",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.Directionality]="Directionality",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}();function os(e){var t;null==(t=e)&&function(e,t,n,i){throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(t," <=Actual]"))}(0,t),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}var ss=new Map,as=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;_classCallCheck(this,n),(r=t.call(this))._parent=i,r._bootstrapComponents=[],r.injector=_assertThisInitialized(r),r.destroyCbs=[],r.componentFactoryResolver=new Xo(_assertThisInitialized(r));var o=pt(e),s=e[Ne]||null;return s&&os(s),r._bootstrapComponents=bn(o.bootstrap),r._r3Injector=mr(e,i,[{provide:Ke,useValue:_assertThisInitialized(r)},{provide:xo,useValue:r.componentFactoryResolver}],me(e)),r._r3Injector._resolveInjectorDefTypes(),r.instance=r.get(e),r}return _createClass(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Or.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:oe.Default;return e===Or||e===Ke||e===ze?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(Ke),ls=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).moduleType=e,null!==pt(e)&&function e(t){if(null!==t.\u0275mod.id){var n=t.\u0275mod.id;(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(me(t)," vs ").concat(me(t.name)))})(n,ss.get(n),t),ss.set(n,t)}var i=t.\u0275mod.imports;i instanceof Function&&(i=i()),i&&i.forEach((function(t){return e(t)}))}(e),i}return _createClass(n,[{key:"create",value:function(e){return new as(this.moduleType,e)}}]),n}(function(){return function e(){_classCallCheck(this,e)}}()),us=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(e=t.call(this)).__isAsync=i,e}return _createClass(n,[{key:"emit",value:function(e){_get(_getPrototypeOf2(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,i){var r,o=function(e){return null},s=function(){return null};e&&"object"==typeof e?(r=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(r=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},t&&(o=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)}),i&&(s=this.__isAsync?function(){setTimeout((function(){return i()}))}:function(){i()}));var a=_get(_getPrototypeOf2(n.prototype),"subscribe",this).call(this,r,o,s);return e instanceof d&&e.add(a),a}}]),n}(O),cs=new je("Application Initializer"),hs=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(e,t){n.resolve=e,n.reject=t}))}return _createClass(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var i=0;i<this.appInits.length;i++){var r=this.appInits[i]();Wr(r)&&t.push(r)}Promise.all(t).then((function(){n()})).catch((function(t){e.reject(t)})),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ge(cs,8))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e}(),ds=new je("AppId"),fs={provide:ds,useFactory:function(){return"".concat(ps()).concat(ps()).concat(ps())},deps:[]};function ps(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var vs=new je("Platform Initializer"),ys=new je("Platform ID"),gs=new je("appBootstrapListener"),ms=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e}(),bs=new je("LocaleId"),_s=new je("DefaultCurrencyCode"),ws=function e(t,n){_classCallCheck(this,e),this.ngModuleFactory=t,this.componentFactories=n},ks=function(e){return new ls(e)},Cs=ks,xs=function(e){return Promise.resolve(ks(e))},Ss=function(e){var t=ks(e),n=bn(pt(e).declarations).reduce((function(e,t){var n=dt(t);return n&&e.push(new Qo(n)),e}),[]);return new ws(t,n)},Os=Ss,Es=function(e){return Promise.resolve(Ss(e))},Ts=function(){var e=function(){function e(){_classCallCheck(this,e),this.compileModuleSync=Cs,this.compileModuleAsync=xs,this.compileModuleAndAllComponentsSync=Os,this.compileModuleAndAllComponentsAsync=Es}return _createClass(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e}(),Ds=new je("compilerOptions"),Ms=Promise.resolve(0);function Ps(e){"undefined"==typeof Zone?Ms.then((function(){e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var As=function(){function e(t){var n,i,r=t.enableLongStackTrace,o=void 0!==r&&r,s=t.shouldCoalesceEventChangeDetection,a=void 0!==s&&s;if(_classCallCheck(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new us(!1),this.onMicrotaskEmpty=new us(!1),this.onStable=new us(!1),this.onError=new us(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=a,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var e=De.requestAnimationFrame,t=De.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,i=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(De,(function(){e.lastRequestAnimationFrameId=-1,Rs(e),Fs(e)})),Rs(e))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:i},onInvokeTask:function(e,t,r,o,s,a){try{return js(n),e.invokeTask(r,o,s,a)}finally{i&&"eventTask"===o.type&&i(),zs(n)}},onInvoke:function(e,t,i,r,o,s,a){try{return js(n),e.invoke(i,r,o,s,a)}finally{zs(n)}},onHasTask:function(e,t,i,r){e.hasTask(i,r),t===i&&("microTask"==r.change?(n._hasPendingMicrotasks=r.microTask,Rs(n),Fs(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:function(e,t,i,r){return e.handleError(i,r),n.runOutsideAngular((function(){return n.onError.emit(r)})),!1}})}return _createClass(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,i){var r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+i,e,Ns,Is,Is);try{return r.runTask(o,t,n)}finally{r.cancelTask(o)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}();function Is(){}var Ns={};function Fs(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((function(){return e.onStable.emit(null)}))}finally{e.isStable=!0}}}function Rs(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function js(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function zs(e){e._nesting--,Fs(e)}var Bs,Ls=function(){function e(){_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new us,this.onMicrotaskEmpty=new us,this.onStable=new us,this.onError=new us}return _createClass(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,i){return e.apply(t,n)}}]),e}(),Hs=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.subscribe({next:function(){As.assertNotInAngularZone(),Ps((function(){e._isZoneStable=!0,e._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())Ps((function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1}));else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}})):[]}},{key:"addCallback",value:function(e,t,n){var i=this,r=-1;t&&t>0&&(r=setTimeout((function(){i._callbacks=i._callbacks.filter((function(e){return e.timeoutId!==r})),e(i._didWork,i.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ge(As))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e}(),Vs=function(){var e=function(){function e(){_classCallCheck(this,e),this._applications=new Map,Ws.addToWindow(this)}return _createClass(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Ws.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e}(),Ws=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),Ys=function(e,t,n){var i=e.get(Ds,[]).concat(t),r=new ls(n);if(0===Er.size)return Promise.resolve(r);var o,s,a=(o=i.map((function(e){return e.providers})),s=[],o.forEach((function(e){return e&&s.push.apply(s,_toConsumableArray(e))})),s);if(0===a.length)return Promise.resolve(r);var l=function(){var e=De.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}(),u=Or.create({providers:a}).get(l.ResourceLoader);return function(e){var t=[],n=new Map;function i(e){var t=n.get(e);if(!t){var i=function(e){return Promise.resolve(u.get(e))}(e);n.set(e,t=i.then(Dr))}return t}return Er.forEach((function(e,n){var r=[];e.templateUrl&&r.push(i(e.templateUrl).then((function(t){e.template=t})));var o=e.styleUrls,s=e.styles||(e.styles=[]),a=e.styles.length;o&&o.forEach((function(t,n){s.push(""),r.push(i(t).then((function(i){s[a+n]=i,o.splice(o.indexOf(t),1),0==o.length&&(e.styleUrls=void 0)})))}));var l=Promise.all(r).then((function(){return function(e){Tr.delete(e)}(n)}));t.push(l)})),Er=new Map,Promise.all(t).then((function(){}))}().then((function(){return r}))},Us=new je("AllowMultipleToken");function Gs(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i="Platform: "+t,r=new je(i);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=qs();if(!o||o.injector.get(Us,!1))if(e)e(n.concat(t).concat({provide:r,useValue:!0}));else{var s=n.concat(t).concat({provide:r,useValue:!0},{provide:dr,useValue:"platform"});!function(e){if(Bs&&!Bs.destroyed&&!Bs.injector.get(Us,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Bs=e.get(Zs);var t=e.get(vs,null);t&&t.forEach((function(e){return e()}))}(Or.create({providers:s,name:i}))}return function(e){var t=qs();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(r)}}function qs(){return Bs&&!Bs.destroyed?Bs:null}var Zs=function(){var e=function(){function e(t){_classCallCheck(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,i,r=this,o=(n=t?t.ngZone:void 0,i=t&&t.ngZoneEventCoalescing||!1,"noop"===n?new Ls:("zone.js"===n?void 0:n)||new As({enableLongStackTrace:Vn(),shouldCoalesceEventChangeDetection:i})),s=[{provide:As,useValue:o}];return o.run((function(){var t=Or.create({providers:s,parent:r.injector,name:e.moduleType.name}),n=e.create(t),i=n.injector.get(Bn,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return Qs(r._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(e){i.handleError(e)}})})),function(e,t,i){try{var o=((s=n.injector.get(hs)).runInitializers(),s.donePromise.then((function(){return os(n.injector.get(bs,"en-US")||"en-US"),r._moduleDoBootstrap(n),n})));return Wr(o)?o.catch((function(n){throw t.runOutsideAngular((function(){return e.handleError(n)})),n})):o}catch(a){throw t.runOutsideAngular((function(){return e.handleError(a)})),a}var s}(i,o)}))}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=Xs({},n);return Ys(this.injector,i,e).then((function(e){return t.bootstrapModuleFactory(e,i)}))}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(Js);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((function(e){return t.bootstrap(e)}));else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(me(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(e){return e.destroy()})),this._destroyListeners.forEach((function(e){return e()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ge(Or))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e}();function Xs(e,t){return Array.isArray(t)?t.reduce(Xs,e):Object.assign(Object.assign({},e),t)}var Ks,Js=((Ks=function(){function e(t,n,i,r,o,s){var a=this;_classCallCheck(this,e),this._zone=t,this._console=n,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=o,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Vn(),this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run((function(){a.tick()}))}});var l=new _((function(e){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular((function(){e.next(a._stable),e.complete()}))})),u=new _((function(e){var t;a._zone.runOutsideAngular((function(){t=a._zone.onStable.subscribe((function(){As.assertNotInAngularZone(),Ps((function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,e.next(!0))}))}))}));var n=a._zone.onUnstable.subscribe((function(){As.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular((function(){e.next(!1)})))}));return function(){t.unsubscribe(),n.unsubscribe()}}));this.isStable=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=Number.POSITIVE_INFINITY,r=null,o=t[t.length-1];return T(o)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(i=t.pop())):"number"==typeof o&&(i=t.pop()),null===r&&1===t.length&&t[0]instanceof _?t[0]:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return V(m,e)}(i)(U(t,r))}(l,u.pipe((function(e){return G()((t=Q,function(e){var n;n="function"==typeof t?t:function(){return t};var i=Object.create(e,K);return i.source=e,i.subjectFactory=n,i})(e));var t})))}return _createClass(e,[{key:"bootstrap",value:function(e,t){var n,i=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof ko?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var r=n.isBoundToModule?void 0:this._injector.get(Ke),o=n.create(Or.NULL,[],t||n.selector,r);o.onDestroy((function(){i._unloadComponent(o)}));var s=o.injector.get(Hs,null);return s&&o.injector.get(Vs).registerApplication(o.location.nativeElement,s),this._loadComponent(o),Vn()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=_createForOfIteratorHelper2(this._views);try{for(n.s();!(t=n.n()).done;)t.value.detectChanges()}catch(o){n.e(o)}finally{n.f()}if(this._enforceNoNewChanges){var i,r=_createForOfIteratorHelper2(this._views);try{for(r.s();!(i=r.n()).done;)i.value.checkNoChanges()}catch(o){r.e(o)}finally{r.f()}}}catch(s){this._zone.runOutsideAngular((function(){return e._exceptionHandler.handleError(s)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;Qs(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(gs,[]).concat(this._bootstrapListeners).forEach((function(t){return t(e)}))}},{key:"_unloadComponent",value:function(e){this.detachView(e.hostView),Qs(this.components,e)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(e){return e.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),e}()).\u0275fac=function(e){return new(e||Ks)(Ge(As),Ge(ms),Ge(Or),Ge(Bn),Ge(xo),Ge(hs))},Ks.\u0275prov=le({token:Ks,factory:Ks.\u0275fac}),Ks);function Qs(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var $s=Gs(null,"core",[{provide:ys,useValue:"unknown"},{provide:Zs,deps:[Or]},{provide:Vs,deps:[]},{provide:ms,deps:[]}]),ea=[{provide:Js,useClass:Js,deps:[As,ms,Or,Bn,xo,hs]},{provide:Jo,deps:[As],useFactory:function(e){var t=[];return e.onStable.subscribe((function(){for(;t.length;)t.pop()()})),function(e){t.push(e)}}},{provide:hs,useClass:hs,deps:[[new ne,cs]]},{provide:Ts,useClass:Ts,deps:[]},fs,{provide:Wo,useFactory:function(){return Go},deps:[]},{provide:Yo,useFactory:function(){return qo},deps:[]},{provide:bs,useFactory:function(e){return os(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new te(bs),new ne,new re]]},{provide:_s,useValue:"USD"}],ta=function(){var e=function e(t){_classCallCheck(this,e)};return e.\u0275mod=ut({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)(Ge(Js))},providers:ea}),e}(),na=null;function ia(){return na}var ra,oa=new je("DocumentToken"),sa=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),aa=function e(){_classCallCheck(this,e)},la=((ra=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).locale=e,i}return _createClass(n,[{key:"getPluralCategory",value:function(e,t){switch(function(e){return function(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=is(t);if(n)return n;var i=t.split("-")[0];if(n=is(i))return n;if("en"===i)return ts;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}(e)[rs.PluralCase]}(t||this.locale)(e)){case sa.Zero:return"zero";case sa.One:return"one";case sa.Two:return"two";case sa.Few:return"few";case sa.Many:return"many";default:return"other"}}}]),n}(aa)).\u0275fac=function(e){return new(e||ra)(Ge(bs))},ra.\u0275prov=le({token:ra,factory:ra.\u0275fac}),ra);function ua(e,t){t=encodeURIComponent(t);var n,i=_createForOfIteratorHelper2(e.split(";"));try{for(i.s();!(n=i.n()).done;){var r=n.value,o=r.indexOf("="),s=_slicedToArray(-1==o?[r,""]:[r.slice(0,o),r.slice(o+1)],2),a=s[0],l=s[1];if(a.trim()===t)return decodeURIComponent(l)}}catch(u){i.e(u)}finally{i.f()}return null}var ca,ha,da,fa,pa,va=((ca=function e(){_classCallCheck(this,e)}).\u0275mod=ut({type:ca}),ca.\u0275inj=ue({factory:function(e){return new(e||ca)},providers:[{provide:aa,useClass:la}]}),ca),ya=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getProperty",value:function(e,t){return e[t]}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"getValue",value:function(e){return e.value}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=ga||(ga=document.querySelector("base"))?ga.getAttribute("href"):null;return null==n?null:(t=n,ha||(ha=document.createElement("a")),ha.setAttribute("href",t),"/"===ha.pathname.charAt(0)?ha.pathname:"/"+ha.pathname)}},{key:"resetBaseElement",value:function(){ga=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return ua(document.cookie,e)}}],[{key:"makeCurrent",value:function(){var e;e=new n,na||(na=e)}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function e(){_classCallCheck(this,e)}}())),ga=null,ma=new je("TRANSITION_ID"),ba=[{provide:cs,useFactory:function(e,t,n){return function(){n.get(hs).donePromise.then((function(){var n=ia();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter((function(t){return t.getAttribute("ng-transition")===e})).forEach((function(e){return n.remove(e)}))}))}},deps:[ma,oa,Or],multi:!0}],_a=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){De.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=e.findTestabilityInTree(t,n);if(null==i)throw new Error("Could not find testability for element.");return i},De.getAllAngularTestabilities=function(){return e.getAllTestabilities()},De.getAllAngularRootElements=function(){return e.getAllRootElements()},De.frameworkStabilizers||(De.frameworkStabilizers=[]),De.frameworkStabilizers.push((function(e){var t=De.getAllAngularTestabilities(),n=t.length,i=!1,r=function(t){i=i||t,0==--n&&e(i)};t.forEach((function(e){e.whenStable(r)}))}))}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var i=e.getTestability(t);return null!=i?i:n?ia().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){var t;t=new e,Ws=t}}]),e}(),wa=new je("EventManagerPlugins"),ka=((da=function(){function e(t,n){var i=this;_classCallCheck(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach((function(e){return e.manager=i})),this._plugins=t.slice().reverse()}return _createClass(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,i=0;i<n.length;i++){var r=n[i];if(r.supports(e))return this._eventNameToPlugin.set(e,r),r}throw new Error("No event manager plugin found for event "+e)}}]),e}()).\u0275fac=function(e){return new(e||da)(Ge(wa),Ge(As))},da.\u0275prov=le({token:da,factory:da.\u0275fac}),da),Ca=function(){function e(t){_classCallCheck(this,e),this._doc=t}return _createClass(e,[{key:"addGlobalEventListener",value:function(e,t,n){var i=ia().getGlobalEventTarget(this._doc,e);if(!i)throw new Error("Unsupported event target ".concat(i," for event ").concat(t));return this.addEventListener(i,t,n)}}]),e}(),xa=((pa=function(){function e(){_classCallCheck(this,e),this._stylesSet=new Set}return _createClass(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach((function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}()).\u0275fac=function(e){return new(e||pa)},pa.\u0275prov=le({token:pa,factory:pa.\u0275fac}),pa),Sa=((fa=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this))._doc=e,i._hostNodes=new Set,i._styleNodes=new Set,i._hostNodes.add(e.head),i}return _createClass(n,[{key:"_addStylesToHost",value:function(e,t){var n=this;e.forEach((function(e){var i=n._doc.createElement("style");i.textContent=e,n._styleNodes.add(t.appendChild(i))}))}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach((function(n){return t._addStylesToHost(e,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(e){return ia().remove(e)}))}}]),n}(xa)).\u0275fac=function(e){return new(e||fa)(Ge(oa))},fa.\u0275prov=le({token:fa,factory:fa.\u0275fac}),fa),Oa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ea=/%COMP%/g;function Ta(e,t,n){for(var i=0;i<t.length;i++){var r=t[i];Array.isArray(r)?Ta(e,r,n):(r=r.replace(Ea,e),n.push(r))}return n}function Da(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var Ma,Pa,Aa,Ia,Na=((Ma=function(){function e(t,n,i){_classCallCheck(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Fa(t)}return _createClass(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case tt.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new Ra(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case tt.Native:case tt.ShadowDom:return new ja(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var i=Ta(t.id,t.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Ma)(Ge(ka),Ge(Sa),Ge(ds))},Ma.\u0275prov=le({token:Ma,factory:Ma.\u0275fac}),Ma),Fa=function(){function e(t){_classCallCheck(this,e),this.eventManager=t,this.data=Object.create(null)}return _createClass(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(Oa[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,i){if(i){t=i+":"+t;var r=Oa[i];r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var i=Oa[n];i?e.removeAttributeNS(i,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,i){i&To.DashCase?e.style.setProperty(t,n,i&To.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&To.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Da(n)):this.eventManager.addEventListener(e,t,Da(n))}}]),e}(),Ra=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o){var s;_classCallCheck(this,n),(s=t.call(this,e)).component=r;var a,l=Ta(o+"-"+r.id,r.styles,[]);return i.addStyles(l),s.contentAttr="_ngcontent-%COMP%".replace(Ea,o+"-"+r.id),s.hostAttr=(a=o+"-"+r.id,"_nghost-%COMP%".replace(Ea,a)),s}return _createClass(n,[{key:"applyToHost",value:function(e){_get(_getPrototypeOf2(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var i=_get(_getPrototypeOf2(n.prototype),"createElement",this).call(this,e,t);return _get(_getPrototypeOf2(n.prototype),"setAttribute",this).call(this,i,this.contentAttr,""),i}}]),n}(Fa),ja=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o){var s;_classCallCheck(this,n),(s=t.call(this,e)).sharedStylesHost=i,s.hostEl=r,s.component=o,s.shadowRoot=o.encapsulation===tt.ShadowDom?r.attachShadow({mode:"open"}):r.createShadowRoot(),s.sharedStylesHost.addHost(s.shadowRoot);for(var a=Ta(o.id,o.styles,[]),l=0;l<a.length;l++){var u=document.createElement("style");u.textContent=a[l],s.shadowRoot.appendChild(u)}return s}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return _get(_getPrototypeOf2(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,i){return _get(_getPrototypeOf2(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,i)}},{key:"removeChild",value:function(e,t){return _get(_getPrototypeOf2(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(_get(_getPrototypeOf2(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(Fa),za=((Pa=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var i=this;return e.addEventListener(t,n,!1),function(){return i.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(Ca)).\u0275fac=function(e){return new(e||Pa)(Ge(oa))},Pa.\u0275prov=le({token:Pa,factory:Pa.\u0275fac}),Pa),Ba=["alt","control","meta","shift"],La={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ha={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Va={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},Wa=((Aa=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,i){var r=n.parseEventName(t),o=n.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return ia().onAndCancel(e,r.domEventName,o)}))}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),i=t.shift();if(0===t.length||"keydown"!==i&&"keyup"!==i)return null;var r=n._normalizeKey(t.pop()),o="";if(Ba.forEach((function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")})),o+=r,0!=t.length||0===r.length)return null;var s={};return s.domEventName=i,s.fullKey=o,s}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Ha.hasOwnProperty(t)&&(t=Ha[t]))}return La[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Ba.forEach((function(i){i!=n&&(0,Va[i])(e)&&(t+=i+".")})),t+=n}},{key:"eventCallback",value:function(e,t,i){return function(r){n.getEventFullKey(r)===e&&i.runGuarded((function(){return t(r)}))}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(Ca)).\u0275fac=function(e){return new(e||Aa)(Ge(oa))},Aa.\u0275prov=le({token:Aa,factory:Aa.\u0275fac}),Aa),Ya=Gs($s,"browser",[{provide:ys,useValue:"browser"},{provide:vs,useValue:function(){ya.makeCurrent(),_a.init()},multi:!0},{provide:oa,useFactory:function(){return function(e){wt=e}(document),document},deps:[]}]),Ua=[[],{provide:dr,useValue:"root"},{provide:Bn,useFactory:function(){return new Bn},deps:[]},{provide:wa,useClass:za,multi:!0,deps:[oa,As,ys]},{provide:wa,useClass:Wa,multi:!0,deps:[oa]},[],{provide:Na,useClass:Na,deps:[ka,Sa,ds]},{provide:Eo,useExisting:Na},{provide:xa,useExisting:Sa},{provide:Sa,useClass:Sa,deps:[oa]},{provide:Hs,useClass:Hs,deps:[As]},{provide:ka,useClass:ka,deps:[wa,As]},[]],Ga=((Ia=function(){function e(t){if(_classCallCheck(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:ds,useValue:t.appId},{provide:ma,useExisting:ds},ba]}}}]),e}()).\u0275mod=ut({type:Ia}),Ia.\u0275inj=ue({factory:function(e){return new(e||Ia)(Ge(Ia,12))},providers:Ua,imports:[va,ta]}),Ia);function qa(e,t){return new _((function(n){var i=e.length;if(0!==i)for(var r=new Array(i),o=0,s=0,a=function(a){var l=H(e[a]),u=!1;n.add(l.subscribe({next:function(e){u||(u=!0,s++),r[a]=e},error:function(e){return n.error(e)},complete:function(){++o!==i&&u||(s===i&&n.next(t?t.reduce((function(e,t,n){return e[t]=r[n],e}),{}):r),n.complete())}}))},l=0;l<i;l++)a(l);else n.complete()}))}"undefined"!=typeof window&&window;var Za,Xa,Ka,Ja,Qa=new je("NgValueAccessor"),$a={provide:Qa,useExisting:we((function(){return el})),multi:!0},el=((Za=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||Za)(jr(Do),jr(So))},Za.\u0275dir=ht({type:Za,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&Yr("change",(function(e){return t.onChange(e.target.checked)}))("blur",(function(){return t.onTouched()}))},features:[wo([$a])]}),Za),tl={provide:Qa,useExisting:we((function(){return il})),multi:!0},nl=new je("CompositionEventMode"),il=((Ja=function(){function e(t,n,i){var r;_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._compositionMode=i,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=ia()?ia().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),e}()).\u0275fac=function(e){return new(e||Ja)(jr(Do),jr(So),jr(nl,8))},Ja.\u0275dir=ht({type:Ja,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&Yr("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},features:[wo([tl])]}),Ja),rl=((Ka=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),e}()).\u0275fac=function(e){return new(e||Ka)},Ka.\u0275dir=ht({type:Ka}),Ka),ol=((Xa=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(rl)).\u0275fac=function(e){return sl(e||Xa)},Xa.\u0275dir=ht({type:Xa,features:[ro]}),Xa),sl=Fn(ol);function al(){throw new Error("unimplemented")}var ll,ul,cl=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return _createClass(n,[{key:"validator",get:function(){return al()}},{key:"asyncValidator",get:function(){return al()}}]),n}(rl),hl=function(){function e(t){_classCallCheck(this,e),this._cd=t}return _createClass(e,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),e}(),dl=((ul=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return n}(hl)).\u0275fac=function(e){return new(e||ul)(jr(cl,2))},ul.\u0275dir=ht({type:ul,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&Kr("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[ro]}),ul),fl=((ll=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return n}(hl)).\u0275fac=function(e){return new(e||ll)(jr(ol,2))},ll.\u0275dir=ht({type:ll,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&Kr("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[ro]}),ll);function pl(e){return null==e||0===e.length}var vl=new je("NgValidators"),yl=new je("NgAsyncValidators"),gl=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ml=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"min",value:function(e){return function(t){if(pl(t.value)||pl(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}},{key:"max",value:function(e){return function(t){if(pl(t.value)||pl(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}},{key:"required",value:function(e){return pl(e.value)?{required:!0}:null}},{key:"requiredTrue",value:function(e){return!0===e.value?null:{required:!0}}},{key:"email",value:function(e){return pl(e.value)||gl.test(e.value)?null:{email:!0}}},{key:"minLength",value:function(e){return function(t){if(pl(t.value))return null;var n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}},{key:"maxLength",value:function(e){return function(t){var n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}},{key:"pattern",value:function(t){return t?("string"==typeof t?(i="","^"!==t.charAt(0)&&(i+="^"),i+=t,"$"!==t.charAt(t.length-1)&&(i+="$"),n=new RegExp(i)):(i=t.toString(),n=t),function(e){if(pl(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:i,actualValue:t}}}):e.nullValidator;var n,i}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){if(!e)return null;var t=e.filter(bl);return 0==t.length?null:function(e){return wl(function(e,t){return t.map((function(t){return t(e)}))}(e,t))}}},{key:"composeAsync",value:function(e){if(!e)return null;var t=e.filter(bl);return 0==t.length?null:function(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var i=t[0];if(l(i))return qa(i,null);if(u(i)&&Object.getPrototypeOf(i)===Object.prototype){var r=Object.keys(i);return qa(r.map((function(e){return i[e]})),r)}}if("function"==typeof t[t.length-1]){var o=t.pop();return qa(t=1===t.length&&l(t[0])?t[0]:t,null).pipe(j((function(e){return o.apply(void 0,_toConsumableArray(e))})))}return qa(t,null)}(function(e,t){return t.map((function(t){return t(e)}))}(e,t).map(_l)).pipe(j(wl))}}}]),e}();function bl(e){return null!=e}function _l(e){var t,n=Wr(e)?H(e):e;if(!(t=n)||"function"!=typeof t.subscribe)throw new Error("Expected validator to return Promise or Observable.");return n}function wl(e){var t={};return e.forEach((function(e){t=null!=e?Object.assign(Object.assign({},t),e):t})),0===Object.keys(t).length?null:t}function kl(e){return e.validate?function(t){return e.validate(t)}:e}function Cl(e){return e.validate?function(t){return e.validate(t)}:e}var xl,Sl,Ol,El,Tl,Dl,Ml={provide:Qa,useExisting:we((function(){return Pl})),multi:!0},Pl=((xl=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||xl)(jr(Do),jr(So))},xl.\u0275dir=ht({type:xl,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&Yr("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[wo([Ml])]}),xl),Al={provide:Qa,useExisting:we((function(){return Nl})),multi:!0},Il=((Ol=function(){function e(){_classCallCheck(this,e),this._accessors=[]}return _createClass(e,[{key:"add",value:function(e,t){this._accessors.push([e,t])}},{key:"remove",value:function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}},{key:"select",value:function(e){var t=this;this._accessors.forEach((function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)}))}},{key:"_isSameGroup",value:function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}]),e}()).\u0275fac=function(e){return new(e||Ol)},Ol.\u0275prov=le({token:Ol,factory:Ol.\u0275fac}),Ol),Nl=((Sl=function(){function e(t,n,i,r){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._registry=i,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return _createClass(e,[{key:"ngOnInit",value:function(){this._control=this._injector.get(cl),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}}},{key:"fireUncheck",value:function(e){this.writeValue(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),e}()).\u0275fac=function(e){return new(e||Sl)(jr(Do),jr(So),jr(Il),jr(Or))},Sl.\u0275dir=ht({type:Sl,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&Yr("change",(function(){return t.onChange()}))("blur",(function(){return t.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[wo([Al])]}),Sl),Fl={provide:Qa,useExisting:we((function(){return Rl})),multi:!0},Rl=((El=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||El)(jr(Do),jr(So))},El.\u0275dir=ht({type:El,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&Yr("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[wo([Fl])]}),El),jl='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',zl='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Bl=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"controlParentException",value:function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+jl)}},{key:"ngModelGroupException",value:function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '.concat(zl,'\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        \n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>'))}},{key:"missingFormException",value:function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+jl)}},{key:"groupParentException",value:function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+zl)}},{key:"arrayParentException",value:function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}},{key:"disabledAttrWarning",value:function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}},{key:"ngModelWarning",value:function(e){console.warn("\n    It looks like you're using ngModel on the same form field as ".concat(e,". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/").concat("formControl"===e?"FormControlDirective":"FormControlName","#use-with-ngmodel\n    "))}}]),e}(),Ll={provide:Qa,useExisting:we((function(){return Hl})),multi:!0},Hl=((Tl=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=Ir}return _createClass(e,[{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var i=n[t];if(this._compareWith(this._optionMap.get(i),e))return i}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}}]),e}()).\u0275fac=function(e){return new(e||Tl)(jr(Do),jr(So))},Tl.\u0275dir=ht({type:Tl,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&Yr("change",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[wo([Ll])]}),Tl),Vl={provide:Qa,useExisting:we((function(){return Wl})),multi:!0},Wl=((Dl=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=Ir}return _createClass(e,[{key:"writeValue",value:function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var i=e.map((function(e){return n._getOptionId(e)}));t=function(e,t){e._setSelected(i.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var i=[];if(n.hasOwnProperty("selectedOptions"))for(var r=n.selectedOptions,o=0;o<r.length;o++){var s=r.item(o),a=t._getOptionValue(s.value);i.push(a)}else for(var l=n.options,u=0;u<l.length;u++){var c=l.item(u);if(c.selected){var h=t._getOptionValue(c.value);i.push(h)}}t.value=i,e(i)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var i=n[t];if(this._compareWith(this._optionMap.get(i)._value,e))return i}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}}]),e}()).\u0275fac=function(e){return new(e||Dl)(jr(Do),jr(So))},Dl.\u0275dir=ht({type:Dl,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&Yr("change",(function(e){return t.onChange(e.target)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[wo([Vl])]}),Dl);function Yl(e,t){return[].concat(_toConsumableArray(t.path),[e])}function Ul(e,t){e||Xl(t,"Cannot find control with"),t.valueAccessor||Xl(t,"No value accessor for form control with"),e.validator=ml.compose([e.validator,t.validator]),e.asyncValidator=ml.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange((function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Gl(e,t)}))}(e,t),function(e,t){e.registerOnChange((function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)}))}(e,t),function(e,t){t.valueAccessor.registerOnTouched((function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Gl(e,t),"submit"!==e.updateOn&&e.markAsTouched()}))}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange((function(e){t.valueAccessor.setDisabledState(e)})),t._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))})),t._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))}))}function Gl(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function ql(e,t){null==e&&Xl(t,"Cannot find control with"),e.validator=ml.compose([e.validator,t.validator]),e.asyncValidator=ml.composeAsync([e.asyncValidator,t.asyncValidator])}function Zl(e){return Xl(e,"There is no FormControl instance attached to form control element with")}function Xl(e,t){var n;throw n=e.path.length>1?"path: '".concat(e.path.join(" -> "),"'"):e.path[0]?"name: '".concat(e.path,"'"):"unspecified name attribute",new Error("".concat(t," ").concat(n))}function Kl(e){return null!=e?ml.compose(e.map(kl)):null}function Jl(e){return null!=e?ml.composeAsync(e.map(Cl)):null}var Ql=[el,Rl,Pl,Hl,Wl,Nl];function $l(e){var t=tu(e)?e.validators:e;return Array.isArray(t)?Kl(t):t||null}function eu(e,t){var n=tu(t)?t.asyncValidators:e;return Array.isArray(n)?Jl(n):n||null}function tu(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var nu,iu,ru,ou,su,au=function(){function e(t,n){_classCallCheck(this,e),this.validator=t,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(e,[{key:"setValidators",value:function(e){this.validator=$l(e)}},{key:"setAsyncValidators",value:function(e){this.asyncValidator=eu(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(e){return e.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(e){e.markAsUntouched({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(e){e.markAsPristine({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!0)}))}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild((function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!1)}))}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(t){return t._updateTreeValidity(e)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING";var n=_l(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return t.setErrors(n,{emitEvent:e})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;var i=e;return t.forEach((function(e){i=i instanceof uu?i.controls.hasOwnProperty(e)?i.controls[e]:null:i instanceof cu&&i.at(e)||null})),i}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new us,this.statusChanges=new us}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls((function(t){return t.status===e}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(e){return e.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(e){return e.touched}))}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){tu(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}}]),e}(),lu=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this,$l(r),eu(o,r)))._onChange=[],e._applyFormState(i),e._setUpdateStrategy(r),e.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e._initObservables(),e}return _createClass(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(e){return e(t.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(au),uu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,$l(i),eu(r,i))).controls=e,o._initObservables(),o._setUpdateStrategy(i),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach((function(i){t._throwIfControlMissing(i),t.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(e).forEach((function(i){t.controls[i]&&t.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,i){n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(e,t,n){return e[n]=t instanceof lu?t.value:t.getRawValue(),e}))}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,(function(e,t){return!!t._syncPendingControls()||e}));return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach((function(n){return e(t.controls[n],n)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){var t=this,n=!1;return this._forEachChild((function(i,r){n=n||t.contains(r)&&e(i)})),n}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},(function(t,n,i){return(n.enabled||e.disabled)&&(t[i]=n.value),t}))}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild((function(e,i){n=t(n,e,i)})),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(au),cu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,$l(i),eu(r,i))).controls=e,o._initObservables(),o._setUpdateStrategy(i),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach((function(e,i){t._throwIfControlMissing(i),t.at(i).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e,i){t.at(i)&&t.at(i).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,i){n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map((function(e){return e instanceof lu?e.value:e.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(e){return e._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce((function(e,t){return!!t._syncPendingControls()||e}),!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)}},{key:"_forEachChild",value:function(e){this.controls.forEach((function(t,n){e(t,n)}))}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter((function(t){return t.enabled||e.disabled})).map((function(e){return e.value}))}},{key:"_anyControls",value:function(e){return this.controls.some((function(t){return t.enabled&&e(t)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){return e._registerControl(t)}))}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var e,t=_createForOfIteratorHelper2(this.controls);try{for(t.s();!(e=t.n()).done;){if(e.value.enabled)return!1}}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),n}(au),hu=((nu=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return Yl(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Kl(this._validators)}},{key:"asyncValidator",get:function(){return Jl(this._asyncValidators)}}]),n}(ol)).\u0275fac=function(e){return du(e||nu)},nu.\u0275dir=ht({type:nu,features:[ro]}),nu),du=Fn(hu),fu=((iu=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||iu)},iu.\u0275dir=ht({type:iu,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),iu),pu=new je("NgModelWithFormControlWarning"),vu={provide:ol,useExisting:we((function(){return yu}))},yu=((ru=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this))._validators=e,r._asyncValidators=i,r.submitted=!1,r.directives=[],r.form=null,r.ngSubmit=new us,r}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"addControl",value:function(e){var t=this.form.get(e.path);return Ul(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){var t,n,i;t=this.directives,n=e,(i=t.indexOf(n))>-1&&t.splice(i,1)}},{key:"addFormGroup",value:function(e){var t=this.form.get(e.path);ql(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(e){}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"addFormArray",value:function(e){var t=this.form.get(e.path);ql(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(e){}},{key:"getFormArray",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){this.form.get(e.path).setValue(t)}},{key:"onSubmit",value:function(e){return this.submitted=!0,t=this.directives,this.form._syncPendingControls(),t.forEach((function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})),this.ngSubmit.emit(e),!1;var t}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_updateDomValue",value:function(){var e=this;this.directives.forEach((function(t){var n=e.form.get(t.path);t.control!==n&&(function(e,t){t.valueAccessor.registerOnChange((function(){return Zl(t)})),t.valueAccessor.registerOnTouched((function(){return Zl(t)})),t._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)})),t._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)})),e&&e._clearChangeFns()}(t.control,t),n&&Ul(n,t),t.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var e=this;this.form._registerOnCollectionChange((function(){return e._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var e=Kl(this._validators);this.form.validator=ml.compose([this.form.validator,e]);var t=Jl(this._asyncValidators);this.form.asyncValidator=ml.composeAsync([this.form.asyncValidator,t])}},{key:"_checkFormPresent",value:function(){this.form||Bl.missingFormException()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}}]),n}(ol)).\u0275fac=function(e){return new(e||ru)(jr(vl,10),jr(yl,10))},ru.\u0275dir=ht({type:ru,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&Yr("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[wo([vu]),ro,co]}),ru),gu={provide:ol,useExisting:we((function(){return mu}))},mu=((ou=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this))._parent=e,o._validators=i,o._asyncValidators=r,o}return _createClass(n,[{key:"_checkParentType",value:function(){wu(this._parent)&&Bl.groupParentException()}}]),n}(hu)).\u0275fac=function(e){return new(e||ou)(jr(ol,13),jr(vl,10),jr(yl,10))},ou.\u0275dir=ht({type:ou,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[wo([gu]),ro]}),ou),bu={provide:ol,useExisting:we((function(){return _u}))},_u=((su=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this))._parent=e,o._validators=i,o._asyncValidators=r,o}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormArray(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormArray(this)}},{key:"_checkParentType",value:function(){wu(this._parent)&&Bl.arrayParentException()}},{key:"control",get:function(){return this.formDirective.getFormArray(this)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"path",get:function(){return Yl(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"validator",get:function(){return Kl(this._validators)}},{key:"asyncValidator",get:function(){return Jl(this._asyncValidators)}}]),n}(ol)).\u0275fac=function(e){return new(e||su)(jr(ol,13),jr(vl,10),jr(yl,10))},su.\u0275dir=ht({type:su,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[wo([bu]),ro]}),su);function wu(e){return!(e instanceof mu||e instanceof yu||e instanceof _u)}var ku,Cu,xu,Su,Ou={provide:cl,useExisting:we((function(){return Eu}))},Eu=((Su=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o,s){var a;return _classCallCheck(this,n),(a=t.call(this))._ngModelWarningConfig=s,a._added=!1,a.update=new us,a._ngModelWarningSent=!1,a._parent=e,a._rawValidators=i||[],a._rawAsyncValidators=r||[],a.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t)||Xl(e,"Value accessor was not provided as an array for form control with");var n=void 0,i=void 0,r=void 0;return t.forEach((function(t){var o;t.constructor===il?n=t:(o=t,Ql.some((function(e){return o.constructor===e}))?(i&&Xl(e,"More than one built-in value accessor matches form control with"),i=t):(r&&Xl(e,"More than one custom value accessor matches form control with"),r=t))})),r||i||n||(Xl(e,"No valid value accessor for form control with"),null)}(_assertThisInitialized(a),o),a}return _createClass(n,[{key:"ngOnChanges",value:function(e){var t,i;this._added||this._setUpControl(),function(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Ir(t,n.currentValue)}(e,this.viewModel)&&(t=n,i=this._ngModelWarningConfig,Vn()&&"never"!==i&&((null!==i&&"once"!==i||t._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||(Bl.ngModelWarning("formControlName"),t._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_checkParentType",value:function(){!(this._parent instanceof mu)&&this._parent instanceof hu?Bl.ngModelGroupException():this._parent instanceof mu||this._parent instanceof yu||this._parent instanceof _u||Bl.controlParentException()}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}},{key:"isDisabled",set:function(e){Bl.disabledAttrWarning()}},{key:"path",get:function(){return Yl(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Kl(this._rawValidators)}},{key:"asyncValidator",get:function(){return Jl(this._rawAsyncValidators)}}]),n}(cl)).\u0275fac=function(e){return new(e||Su)(jr(ol,13),jr(vl,10),jr(yl,10),jr(Qa,10),jr(pu,8))},Su.\u0275dir=ht({type:Su,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[wo([Ou]),ro,co]}),Su._ngModelWarningSentOnce=!1,Su),Tu=((xu=function e(){_classCallCheck(this,e)}).\u0275mod=ut({type:xu}),xu.\u0275inj=ue({factory:function(e){return new(e||xu)}}),xu),Du=((Cu=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"group",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(e),i=null,r=null,o=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(i=null!=t.validators?t.validators:null,r=null!=t.asyncValidators?t.asyncValidators:null,o=null!=t.updateOn?t.updateOn:void 0):(i=null!=t.validator?t.validator:null,r=null!=t.asyncValidator?t.asyncValidator:null)),new uu(n,{asyncValidators:r,updateOn:o,validators:i})}},{key:"control",value:function(e,t,n){return new lu(e,t,n)}},{key:"array",value:function(e,t,n){var i=this,r=e.map((function(e){return i._createControl(e)}));return new cu(r,t,n)}},{key:"_reduceControls",value:function(e){var t=this,n={};return Object.keys(e).forEach((function(i){n[i]=t._createControl(e[i])})),n}},{key:"_createControl",value:function(e){return e instanceof lu||e instanceof uu||e instanceof cu?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}]),e}()).\u0275fac=function(e){return new(e||Cu)},Cu.\u0275prov=le({token:Cu,factory:Cu.\u0275fac}),Cu),Mu=((ku=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:pu,useValue:t.warnOnNgModelWithFormControl}]}}}]),e}()).\u0275mod=ut({type:ku}),ku.\u0275inj=ue({factory:function(e){return new(e||ku)},providers:[Du,Il],imports:[Tu]}),ku),Pu=n("CHqH");function Au(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[t.length-1];return T(i)?(t.pop(),L(t,i)):U(t)}var Iu=function(){function e(t){_classCallCheck(this,e),this.selector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Nu(e,this.selector,this.caught))}}]),e}(),Nu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e)).selector=i,o.caught=r,o}return _createClass(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(o){return void _get(_getPrototypeOf2(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var i=new D(this,void 0,void 0);this.add(i);var r=F(this,t,void 0,void 0,i);r!==i&&this.add(r)}}}]),n}(R),Fu=function(){function e(t,n){_classCallCheck(this,e),this.predicate=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ru(e,this.predicate,this.thisArg))}}]),e}(),Ru=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e)).predicate=i,o.thisArg=r,o.count=0,o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(v),ju=function e(){_classCallCheck(this,e)},zu=function e(){_classCallCheck(this,e)},Bu=function(){function e(t){var n=this;_classCallCheck(this,e),this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){n.headers=new Map,t.split("\n").forEach((function(e){var t=e.indexOf(":");if(t>0){var i=e.slice(0,t),r=i.toLowerCase(),o=e.slice(t+1).trim();n.maybeSetNormalizedName(i,r),n.headers.has(r)?n.headers.get(r).push(o):n.headers.set(r,[o])}}))}:function(){n.headers=new Map,Object.keys(t).forEach((function(e){var i=t[e],r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(n.headers.set(r,i),n.maybeSetNormalizedName(e,r))}))}:this.headers=new Map}return _createClass(e,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(e){return t.applyUpdate(e)})),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach((function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))}))}},{key:"clone",value:function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}},{key:"applyUpdate",value:function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var i=("a"===e.op?this.headers.get(t):void 0)||[];i.push.apply(i,_toConsumableArray(n)),this.headers.set(t,i);break;case"d":var r=e.value;if(r){var o=this.headers.get(t);if(!o)return;0===(o=o.filter((function(e){return-1===r.indexOf(e)}))).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}},{key:"forEach",value:function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return e(t.normalizedNames.get(n),t.headers.get(n))}))}}]),e}(),Lu=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"encodeKey",value:function(e){return Hu(e)}},{key:"encodeValue",value:function(e){return Hu(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),e}();function Hu(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var Vu=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,e),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Lu,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){var n=new Map;return e.length>0&&e.split("&").forEach((function(e){var i=e.indexOf("="),r=_slicedToArray(-1==i?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,i)),t.decodeValue(e.slice(i+1))],2),o=r[0],s=r[1],a=n.get(o)||[];a.push(s),n.set(o,a)})),n}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach((function(e){var i=n.fromObject[e];t.map.set(e,Array.isArray(i)?i:[i])}))):this.map=null}return _createClass(e,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var t=this.map.get(e);return t?t[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map((function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map((function(t){return n+"="+e.encoder.encodeValue(t)})).join("&")})).filter((function(e){return""!==e})).join("&")}},{key:"clone",value:function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([t]),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(t){return e.map.set(t,e.cloneFrom.map.get(t))})),this.updates.forEach((function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(t.value),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var i=e.map.get(t.param)||[],r=i.indexOf(t.value);-1!==r&&i.splice(r,1),i.length>0?e.map.set(t.param,i):e.map.delete(t.param)}})),this.cloneFrom=this.updates=null)}}]),e}();function Wu(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function Yu(e){return"undefined"!=typeof Blob&&e instanceof Blob}function Uu(e){return"undefined"!=typeof FormData&&e instanceof FormData}var Gu=function(){function e(t,n,i,r){var o;if(_classCallCheck(this,e),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new Bu),this.params){var s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{var a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new Vu,this.urlWithParams=n}return _createClass(e,[{key:"serializeBody",value:function(){return null===this.body?null:Wu(this.body)||Yu(this.body)||Uu(this.body)||"string"==typeof this.body?this.body:this.body instanceof Vu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||Uu(this.body)?null:Yu(this.body)?this.body.type||null:Wu(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Vu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,l=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((function(e,n){return e.set(n,t.setHeaders[n])}),l)),t.setParams&&(u=Object.keys(t.setParams).reduce((function(e,n){return e.set(n,t.setParams[n])}),u)),new e(n,i,o,{params:u,headers:l,reportProgress:a,responseType:r,withCredentials:s})}}]),e}(),qu=function(){var e={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return e[e.Sent]="Sent",e[e.UploadProgress]="UploadProgress",e[e.ResponseHeader]="ResponseHeader",e[e.DownloadProgress]="DownloadProgress",e[e.Response]="Response",e[e.User]="User",e}(),Zu=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";_classCallCheck(this,e),this.headers=t.headers||new Bu,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300},Xu=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(e=t.call(this,i)).type=qu.ResponseHeader,e}return _createClass(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(Zu),Ku=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(e=t.call(this,i)).type=qu.Response,e.body=void 0!==i.body?i.body:null,e}return _createClass(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(Zu),Ju=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e,0,"Unknown Error")).name="HttpErrorResponse",i.ok=!1,i.message=i.status>=200&&i.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):"Http failure response for ".concat(e.url||"(unknown url)",": ").concat(e.status," ").concat(e.statusText),i.error=e.error||null,i}return n}(Zu);function Qu(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var $u,ec,tc,nc,ic,rc,oc,sc,ac,lc,uc,cc,hc=(($u=function(){function e(t){_classCallCheck(this,e),this.handler=t}return _createClass(e,[{key:"request",value:function(e,t){var n,i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e instanceof Gu)n=e;else{var o=void 0;o=r.headers instanceof Bu?r.headers:new Bu(r.headers);var s=void 0;r.params&&(s=r.params instanceof Vu?r.params:new Vu({fromObject:r.params})),n=new Gu(e,t,void 0!==r.body?r.body:null,{headers:o,params:s,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}var a=Au(n).pipe(V((function(e){return i.handler.handle(e)}),void 0,1));if(e instanceof Gu||"events"===r.observe)return a;var l,u=a.pipe((l=function(e){return e instanceof Ku},function(e){return e.lift(new Fu(l,void 0))}));switch(r.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(j((function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body})));case"blob":return u.pipe(j((function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body})));case"text":return u.pipe(j((function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body})));case"json":default:return u.pipe(j((function(e){return e.body})))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(r.observe,"}"))}}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",e,t)}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",e,t)}},{key:"jsonp",value:function(e,t){return this.request("JSONP",e,{params:(new Vu).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",e,t)}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",e,Qu(n,t))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",e,Qu(n,t))}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",e,Qu(n,t))}}]),e}()).\u0275fac=function(e){return new(e||$u)(Ge(ju))},$u.\u0275prov=le({token:$u,factory:$u.\u0275fac}),$u),dc=function(){function e(t,n){_classCallCheck(this,e),this.next=t,this.interceptor=n}return _createClass(e,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),e}(),fc=new je("HTTP_INTERCEPTORS"),pc=((ec=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"intercept",value:function(e,t){return t.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||ec)},ec.\u0275prov=le({token:ec,factory:ec.\u0275fac}),ec),vc=/^\)\]\}',?\n/,yc=function e(){_classCallCheck(this,e)},gc=((nc=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}()).\u0275fac=function(e){return new(e||nc)},nc.\u0275prov=le({token:nc,factory:nc.\u0275fac}),nc),mc=((tc=function(){function e(t){_classCallCheck(this,e),this.xhrFactory=t}return _createClass(e,[{key:"handle",value:function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new _((function(n){var i=t.xhrFactory.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach((function(e,t){return i.setRequestHeader(e,t.join(","))})),e.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var r=e.detectContentTypeHeader();null!==r&&i.setRequestHeader("Content-Type",r)}if(e.responseType){var o=e.responseType.toLowerCase();i.responseType="json"!==o?o:"text"}var s=e.serializeBody(),a=null,l=function(){if(null!==a)return a;var t=1223===i.status?204:i.status,n=i.statusText||"OK",r=new Bu(i.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||e.url;return a=new Xu({headers:r,status:t,statusText:n,url:o})},u=function(){var t=l(),r=t.headers,o=t.status,s=t.statusText,a=t.url,u=null;204!==o&&(u=void 0===i.response?i.responseText:i.response),0===o&&(o=u?200:0);var c=o>=200&&o<300;if("json"===e.responseType&&"string"==typeof u){var h=u;u=u.replace(vc,"");try{u=""!==u?JSON.parse(u):null}catch(d){u=h,c&&(c=!1,u={error:d,text:u})}}c?(n.next(new Ku({body:u,headers:r,status:o,statusText:s,url:a||void 0})),n.complete()):n.error(new Ju({error:u,headers:r,status:o,statusText:s,url:a||void 0}))},c=function(e){var t=l().url,r=new Ju({error:e,status:i.status||0,statusText:i.statusText||"Unknown Error",url:t||void 0});n.error(r)},h=!1,d=function(t){h||(n.next(l()),h=!0);var r={type:qu.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(r.total=t.total),"text"===e.responseType&&i.responseText&&(r.partialText=i.responseText),n.next(r)},f=function(e){var t={type:qu.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return i.addEventListener("load",u),i.addEventListener("error",c),e.reportProgress&&(i.addEventListener("progress",d),null!==s&&i.upload&&i.upload.addEventListener("progress",f)),i.send(s),n.next({type:qu.Sent}),function(){i.removeEventListener("error",c),i.removeEventListener("load",u),e.reportProgress&&(i.removeEventListener("progress",d),null!==s&&i.upload&&i.upload.removeEventListener("progress",f)),i.abort()}}))}}]),e}()).\u0275fac=function(e){return new(e||tc)(Ge(yc))},tc.\u0275prov=le({token:tc,factory:tc.\u0275fac}),tc),bc=new je("XSRF_COOKIE_NAME"),_c=new je("XSRF_HEADER_NAME"),wc=function e(){_classCallCheck(this,e)},kc=((cc=function(){function e(t,n,i){_classCallCheck(this,e),this.doc=t,this.platform=n,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return _createClass(e,[{key:"getToken",value:function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ua(e,this.cookieName),this.lastCookieString=e),this.lastToken}}]),e}()).\u0275fac=function(e){return new(e||cc)(Ge(oa),Ge(ys),Ge(bc))},cc.\u0275prov=le({token:cc,factory:cc.\u0275fac}),cc),Cc=((uc=function(){function e(t,n){_classCallCheck(this,e),this.tokenService=t,this.headerName=n}return _createClass(e,[{key:"intercept",value:function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var i=this.tokenService.getToken();return null===i||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,i)})),t.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||uc)(Ge(wc),Ge(_c))},uc.\u0275prov=le({token:uc,factory:uc.\u0275fac}),uc),xc=((lc=function(){function e(t,n){_classCallCheck(this,e),this.backend=t,this.injector=n,this.chain=null}return _createClass(e,[{key:"handle",value:function(e){if(null===this.chain){var t=this.injector.get(fc,[]);this.chain=t.reduceRight((function(e,t){return new dc(e,t)}),this.backend)}return this.chain.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||lc)(Ge(zu),Ge(Or))},lc.\u0275prov=le({token:lc,factory:lc.\u0275fac}),lc),Sc=((ac=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"disable",value:function(){return{ngModule:e,providers:[{provide:Cc,useClass:pc}]}}},{key:"withOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.cookieName?{provide:bc,useValue:t.cookieName}:[],t.headerName?{provide:_c,useValue:t.headerName}:[]]}}}]),e}()).\u0275mod=ut({type:ac}),ac.\u0275inj=ue({factory:function(e){return new(e||ac)},providers:[Cc,{provide:fc,useExisting:Cc,multi:!0},{provide:wc,useClass:kc},{provide:bc,useValue:"XSRF-TOKEN"},{provide:_c,useValue:"X-XSRF-TOKEN"}]}),ac),Oc=((sc=function e(){_classCallCheck(this,e)}).\u0275mod=ut({type:sc}),sc.\u0275inj=ue({factory:function(e){return new(e||sc)},providers:[hc,{provide:ju,useClass:xc},mc,{provide:zu,useExisting:mc},gc,{provide:yc,useExisting:gc}],imports:[[Sc.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),sc),Ec=((oc=function(){function e(t){_classCallCheck(this,e),this.http=t,this.ddgTopicsBaseUrl="https://api.duckduckgo.com/?"}return _createClass(e,[{key:"getTopicSummary",value:function(e){return this.http.get(this.ddgTopicsBaseUrl+"q="+e+"&format=json&pretty=0",{}).pipe((t=this.HandleError("getEvents",[]),function(e){var n=new Iu(t),i=e.lift(n);return n.caught=i}));var t}},{key:"HandleError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"operation",t=arguments.length>1?arguments[1]:void 0;return function(n){return console.error("An error occured"),console.error(n),console.error(e),Au(t)}}}]),e}()).\u0275fac=function(e){return new(e||oc)(Ge(hc))},oc.\u0275prov=le({token:oc,factory:oc.\u0275fac,providedIn:"root"}),oc),Tc=((rc=function(){function e(t){_classCallCheck(this,e),this.ddgtopicsService=t,this.title="ddgtopicsexplorer",this.showImage=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,t=new lu("developer");this.profileForm=new uu({firstInput:t}),this.network=new Pu.Network(document.getElementById("ddgTopicNetwork"),this.generateEmptyData(),this.generateBaseOptions()),this.network.on("initRedraw",(function(){e.drawingStatus="Performing Redraw of Graph",console.log("initRedraw")})),this.network.on("beforeDrawing",(function(){e.drawingStatus="Drawing Network Graph",console.log("beforeDrawing")})),this.network.on("afterDrawing",(function(){e.drawingStatus="",console.log("afterDrawing")}))}},{key:"saveSearch",value:function(){var e=this;this.searchingStatus="searching",this.currentSearch=this.profileForm.controls.firstInput.value,this.ddgtopicsService.getTopicSummary(this.currentSearch).subscribe((function(t){t?e.network.setData(e.generateNodesAndEdgesForData(t)):(console.error("result is empty"),e.searchingStatus="Service error")}))}},{key:"togglePhysics",value:function(){this.network.setOptions({physics:{enabled:!this.network.physics.options.enabled}})}},{key:"toggleDragMode",value:function(){this.network.setOptions({interaction:{dragNodes:!this.network.interactionHandler.options.dragNodes,dragView:!this.network.interactionHandler.options.dragView}})}},{key:"toggleImages",value:function(){this.showImage=!this.showImage}},{key:"generateNodesAndEdgesForData",value:function(e){var t,n=this,i=[],r=[],o=1..valueOf();if(e instanceof Array&&0===e.length)return console.error("No or incorrect response found:"),console.error(e),void(this.searchingStatus="Result error");i.push(this.generateBasicNodeObjectFromEntry(o,{Result:void 0,Icon:void 0,Text:e.Heading,FirstURL:e.AbstractURL})),r.push(this.getEdge(1,o)),o++,e.RelatedTopics?null===(t=e.RelatedTopics)||void 0===t||t.forEach((function(e){if(i.push(n.generateBasicNodeObjectFromEntry(o,e)),r.push(n.getEdge(1,o)),e.Topics){var t=o;o++,e.Topics.forEach((function(e){i.push(n.generateBasicNodeObjectFromEntry(o,e)),r.push(n.getEdge(t,o)),o++}))}else o++})):console.log("no related topics found.");var s={nodes:i,edges:r};return this.searchingStatus="Result loaded",s}},{key:"generateBasicNodeObjectFromEntry",value:function(e,t){var n,i,r={id:e,font:{size:20},widthConstraint:{maximum:200}};return r.label=t.Text?t.Text:t.Name,this.showImage&&(null===(n=t.Icon)||void 0===n?void 0:n.URL)&&(r.shape="image",r.image=null===(i=t.Icon)||void 0===i?void 0:i.URL),r}},{key:"generateEmptyData",value:function(){return{nodes:[{id:1,label:"Search for a Topic"}],edges:[]}}},{key:"getEdge",value:function(e,t){return t===e?{}:{from:e,to:t}}},{key:"generateBaseOptions",value:function(){return{height:(.9*window.innerHeight).toString(),interaction:{dragNodes:!0,dragView:!0},physics:{enabled:!0,solver:"barnesHut",barnesHut:{avoidOverlap:.6}},nodes:{font:{size:16}}}}}]),e}()).\u0275fac=function(e){return new(e||rc)(jr(Ec))},rc.\u0275cmp=ot({type:rc,selectors:[["app-root"]],decls:15,vars:3,consts:[["id","ddgTopicNetwork"],["id","toolbar"],["autocomplete","off","novalidate","",3,"formGroup","ngSubmit"],[1,"form-group"],["formControlName","firstInput","id","firstInput","type","text","placeholder","Search for a topic...",1,"form-control"],["type","submit",1,"btn","btn-primary"],[3,"click"]],template:function(e,t){1&e&&(Vr(0,"div",0),Lr(1,"div",1),Lr(2,"form",2),Yr("ngSubmit",(function(){return t.saveSearch()})),Lr(3,"div",3),Vr(4,"input",4),Lr(5,"button",5),to(6,"Search"),Hr(),to(7," - "),Lr(8,"button",6),Yr("click",(function(){return t.togglePhysics()})),to(9,"Toggle Autofix position"),Hr(),Lr(10,"button",6),Yr("click",(function(){return t.toggleDragMode()})),to(11,"Toggle Drag Mode"),Hr(),Lr(12,"button",6),Yr("click",(function(){return t.toggleImages()})),to(13,"Toggle Images"),Hr(),to(14),Hr(),Hr(),Hr()),2&e&&(ai(2),zr("formGroup",t.profileForm),ai(12),no(" ",t.searchingStatus?" - "+t.searchingStatus:""," ",t.drawingStatus?" - "+t.drawingStatus:""," "))},directives:[fu,fl,yu,il,dl,Eu],styles:["#ddgTopicNetwork[_ngcontent-%COMP%]{width:100%;height:100%;border:0;margin:0!important;padding:0!important;float:left;z-index:0;position:fixed}#toolbar[_ngcontent-%COMP%]{z-index:0;position:absolute;float:left}"]}),rc),Dc=((ic=function e(){_classCallCheck(this,e)}).\u0275mod=ut({type:ic,bootstrap:[Tc]}),ic.\u0275inj=ue({factory:function(e){return new(e||ic)},providers:[],imports:[[Ga,Mu,Oc]]}),ic);(function(){if(Hn)throw new Error("Cannot enable prod mode after platform setup.");Ln=!1})(),Ya().bootstrapModule(Dc).catch((function(e){return console.error(e)}))},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);